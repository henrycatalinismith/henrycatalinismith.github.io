<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="/feed.xsl" type="text/xsl"?>
<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
  <channel>
    <title><![CDATA[Henry Catalini Smith]]></title>
    <description><![CDATA[Henry Catalini Smith]]></description>
    <link>https://henry.catalinismith.com/</link>
    <atom:link href="https://henry.catalinismith.com/feed.xml" rel="self" type="application/rss+xml"/>
    <updated>2025-03-10T20:18:38Z</updated>
    <copyright><![CDATA[All rights reserved 2024]]></copyright>
    <item>
      <title>Shutting down 666a</title>
      <link>https://henry.catalinismith.com/2025/01/12/shutting-down-666a/</link>
      <guid>https://henry.catalinismith.com/2025/01/12/shutting-down-666a/</guid>
      <pubDate>Sun, 12 Jan 2025 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Since <a href="/2023/10/31/announcing-666a/">October 31st 2023</a> I've been providing a work environment email service called <a href="https://666a.se/">666a</a>. On March 31st 2025 it's shutting down. Today I'm beginning the process of winding it down gently, and I wanted to post something explaining that process and why it's happening.</p>
<h2>Immediate Changes</h2>
<p>The following are effective right now. They've already happened, in fact.</p>
<ol>
<li>The SendGrid account is downgraded to the free tier.</li>
<li>Sign ups are disabled on <a href="https://666a.se/">666a.se</a>.</li>
<li>The translated Swedish legislation has been migrated to <a href="https://lagstiftning.github.io/">lagstiftning.github.io</a>. This part I'm particularly pleased with. I actually think it will be easier to maintain this resource in the long term in this new form.</li>
</ol>
<p>With these changes in place, what's left on 666a.se is the code for delivering the email alerting service. Existing users are welcome to update their contact details or even <a href="https://666a.se/delete">request a full account deletion</a> if they wish to.</p>
<h2>February 1st 2025</h2>
<p>At the start of Feburary, the SendGrid downgrade will kick in. This probably won't have any major effect on the reliability of the service as we're in the relatively quiet early months of the year. But if there's a busy day in February or March, some email alerts are going to fail to send.</p>
<h2>March 31st 2025</h2>
<p>The idea is to keep the alerts running until the end of March so that you get pretty much an entire quarter of the year of notice before they stop coming. I've seen paid services close down and disappear faster than this and it feels sufficient. March 31st is the final day, and here's how it's going to go down.</p>
<ol>
<li>Delete the <a href="https://github.com/henrycatalinismith/666a.se/blob/main/bin/backup.sh">rolling database backups I keep on my home server's external USB</a>.</li>
<li>Run <a href="https://github.com/henrycatalinismith/666a.se/blob/main/lib/tasks/shutdown.rake"><code>shutdown:anonymize</code></a> on my only remaining copy of the data to clean out the personally identifiable information from it and make it privately archivable for myself.</li>
<li>Scale down the Fly cluster to 0 instances and delete the storage volume. At this point the service will become unrecoverable.</li>
<li>Point the domain name at a static host containing a short explanatory notice and 301 redirects for all the translated Swedish legislation URLs.</li>
</ol>
<p>After that I'll probably leave the domain up to serve the redirects for a year or two. I think people mostly share links to employment law with each other for very situational reasons so the harm of breaking those links two or three years later is going to be close to zero. Nice that the content's new home is a free subdomain which will hopefully outlast the maximum lifespan of a domain name funded by an individual person.</p>
<h2>Why It's Happening</h2>
<p>It costs money to run a service like this, and money's a little tighter here this year. I've been looking through my recurring monthly expenses for things to cut and 666a sticks out because at around 300kr per month it's one of the larger ones.</p>
<p>It also takes time to run a service like this, and I'm feeling a little poorer on that front this year too. In June last year <a href="/2024/06/06/about-arbetsmiljoverkets-new-webdiarium/">it randomly broke due to an update to the HTML on av.se</a>. Who knows what they'll ship this year that might break it again, or how long it'll take to fix next time, or what I might already be busy doing when it happens.</p>
<p>Been a lot of fun building and operating this, even though Arbetsmiljöverket should definitely just be delivering it themselves directly on <a href="https://www.av.se/">av.se</a>. I've ended up effectively having my own personal copy of their diarium database as a result of running this for the past year or so and there's probably some interesting and/or entertaining stuff in that dataset which I'll hopefully have time to dig out over the next couple of months. It'd be cool to mark the final shutdown date with a bit of that.</p>
]]></description>

    </item>
    <item>
      <title>Seconds Since the Epoch</title>
      <link>https://henry.catalinismith.com/2024/12/26/seconds-since-the-epoch/</link>
      <guid>https://henry.catalinismith.com/2024/12/26/seconds-since-the-epoch/</guid>
      <pubDate>Thu, 26 Dec 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Best explanation of POSIX leap seconds I’ve come across.</p>
<p><a href="https://aphyr.com/posts/378-seconds-since-the-epoch">https://aphyr.com/posts/378-seconds-since-the-epoch</a></p>]]></description>

    </item>
    <item>
      <title>Accidentally Sending Too Many HTTP Requests</title>
      <link>https://henry.catalinismith.com/2024/11/30/accidentally-sending-too-many-http-requests/</link>
      <guid>https://henry.catalinismith.com/2024/11/30/accidentally-sending-too-many-http-requests/</guid>
      <pubDate>Sat, 30 Nov 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote>
<p>This was originally posted at https://666a.se/news/accidentally-sending-too-many-http-requests
and has been migrated here since for long-term hosting.</p>
</blockquote>
<p>Arbetsmiljöverket <a href="/2024/06/06/about-arbetsmiljoverkets-new-webdiarium">updated their webdiairum back in June</a>. When I <a href="https://github.com/henrycatalinismith/666a.se/commit/1c2e2cf20a9c6650c18a8b2d7020d82b30dda99b">updated 666a to work with their new system</a>, I made a coding mistake. The impact of my mistake was that 666a began to send more and more HTTP requests to Arbetsmiljöverket's webdiarium with each day that passed after the mistake.</p>
<p>This was the kind of mistake where it doesn't have very much impact at first, but the impact quietly grows and grows. These are the worst. They're so easy to miss because of how subtle they are on the day you ship them. And then by the time you do notice them, they've grown into a monster. By the time I caught this, it was causing something like 10000 extra HTTP requests per day.</p>
<p><img src="/2024/11/30/search-growth-bug.png" alt="Graph showing a surge in growth around June"></p>
<p>It's <a href="https://github.com/henrycatalinismith/666a.se/commit/68a7c459335021dfe63b8fc358f68be9b7aba8ae">fixed</a> now. Sorry, Arbetsmiljöverket. I hope the system extra load didn't cause any trouble, although to be honest I doubt I'm the only one monitoring the webdiarium in this way so perhaps it wasn't even noticeable on your end. You can <a href="mailto:henry@666a.se">email me</a> any time if you ever need to have a word with me about something like this.</p>
]]></description>

    </item>
    <item>
      <title>Dear friend, you have built a Kubernetes</title>
      <link>https://henry.catalinismith.com/2024/11/24/dear-friend-you-have-built-a-kubernetes/</link>
      <guid>https://henry.catalinismith.com/2024/11/24/dear-friend-you-have-built-a-kubernetes/</guid>
      <pubDate>Sun, 24 Nov 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>This is me every time 37signals announces new features in kamal.</p>
<p><a href="https://www.macchaffee.com/blog/2024/you-have-built-a-kubernetes/">https://www.macchaffee.com/blog/2024/you-have-built-a-kubernetes/</a></p>]]></description>

    </item>
    <item>
      <title>Using AI to help humans translate Swedish labour laws</title>
      <link>https://henry.catalinismith.com/2024/11/12/using-ai-to-help-humans-translate-swedish-labour-laws/</link>
      <guid>https://henry.catalinismith.com/2024/11/12/using-ai-to-help-humans-translate-swedish-labour-laws/</guid>
      <pubDate>Tue, 12 Nov 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Over on 666a I provide <a href="https://666a.se/labour-law">English translations of Swedish labour laws</a>. For the most part these are based on some translated PDFs that the Swedish government sometimes publish. The government update the laws more frequently than they update the translations though. Providing an up to date resource here meant updating the translations myself, which is a challenging problem.</p>
<p>I used a little bit of AI as part of the solution. But that doesn't mean these are &quot;AI translations&quot;. Christ no.</p>
<p><img src="/2024/11/12/donotwant.webp" alt="Still from Star Wars bootleg &quot;The Backstroke of the West&quot; with Darth Vader and the caption &quot;Do Not Want&quot;"></p>
<p>What's interesting about translating legal text in particular is that you really <em>want</em> lots of uniformity in the outcome. If a particular phrase has been translated a particular way nine times before then the tenth translation should follow the pattern too. This means it's not enough to speak Swedish.</p>
<p>Familiarity with the source text and the existing translations is key. In practice, translating any given sentence becomes a long process of searching the already-translated text for similar words and then reading those existing translations to build an understanding of the prior context. Where I found a good role for AI was in optimising that process, enabling me to spend less time on the manual searching and more time on the reading and understanding.</p>
<p>Take the second paragraph of section 13 of the Working Hours Act for example.</p>
<table>
<thead>
<tr>
<th>Swedish</th>
<th>English</th>
</tr>
</thead>
<tbody>
<tr>
<td>I den dygnsvila som alla arbetstagare har rätt till skall tiden mellan midnatt och klockan 5 ingå. Avvikelse får göras, om arbetet med hänsyn till dess art, allmänhetens behov eller andra särskilda omständigheter måste bedrivas mellan midnatt och klockan 5. Lag (2005:165).</td>
<td>The daily rest period that all employees are entitled to shall include the hours between midnight and 05.00. Derogations may be made if the work, in view of its nature, the needs of the general public or other special circumstances, must be carried out between midnight and 05.00. Act (2005:165).</td>
</tr>
</tbody>
</table>
<p>First, I <a href="https://github.com/henrycatalinismith/666a.se/blob/main/app/jobs/labour_law/element_sentences_job.rb">use ChatGPT to break this up into sentence pairs</a>.</p>
<table>
<thead>
<tr>
<th>Swedish</th>
<th>English</th>
</tr>
</thead>
<tbody>
<tr>
<td>I den dygnsvila som alla arbetstagare har rätt till skall tiden mellan midnatt och klockan 5 ingå.</td>
<td>The daily rest period that all employees are entitled to shall include the hours between midnight and 05.00.</td>
</tr>
<tr>
<td>Avvikelse får göras, om arbetet med hänsyn till dess art, allmänhetens behov eller andra särskilda omständigheter måste bedrivas mellan midnatt och klockan 5.</td>
<td>Derogations may be made if the work, in view of its nature, the needs of the general public or other special circumstances, must be carried out between midnight and 05.00.</td>
</tr>
</tbody>
</table>
<p>Then a little more <a href="https://github.com/henrycatalinismith/666a.se/blob/main/app/jobs/labour_law/sentence_phrases_job.rb">ChatGPT to mulch those sentence pairs down further into pairs of words and phrases</a>.</p>
<table>
<thead>
<tr>
<th>Swedish</th>
<th>English</th>
</tr>
</thead>
<tbody>
<tr>
<td>dygnsvila</td>
<td>daily rest period</td>
</tr>
<tr>
<td>som alla arbetstagare har rätt till</td>
<td>that all employees are entitled to</td>
</tr>
<tr>
<td>Avvikelse får göras</td>
<td>Derogations may be made</td>
</tr>
<tr>
<td>allmänhetens behov</td>
<td>the needs of the general public</td>
</tr>
</tbody>
</table>
<p>Once we have those word/phrase pairs generated for all existing translations, we can have a <a href="https://github.com/henrycatalinismith/666a.se/blob/main/app/views/rails_admin/main/element_translation_suggestions.html.erb">page that automatically lists matches for each word in a given paragraph of source text</a>.</p>
<p><img src="/2024/11/12/element_translation_suggestions.png" alt="Website admin UI screenshot showing many word/phrase pairs"></p>
<p>The results aren't perfect, and what's great is that they don't need to be. Sometimes the AI fucks up the word/phrase pairs, and it doesn't matter. Since we're not removing humans from the process – but rather optimising how the available time is used – it's okay for this to be a little bit sketchy.</p>
<p>What this enables is to pick out any new paragraph that needs translating and instantaneously scan the entire corpus of existing translations for the bits that might be of interest to the human about to produce the new translation. Even after visually scanning the results one time you immediately start to feel a bit confident that you know how you're going to translate some of the legalistic glue phrases. It frees up your remaining attention and time to focus on translating anything that's actually novel about the new paragraph.</p>
<p>In the end I'm not sure if I saved time from this or just spent the same amount of time more impactfully. With the correctness of legal text having such an obvious importance, you end up <em>wanting</em> to invest a certain amount of love into the work just for a sense of hygiene about the outcome. Like if it's too quick, it just doesn't feel done. So in this case I think it's more likely that using AI just made the work more enjoyable and improved the outcome rather than bringing it to an end sooner. Perhaps that's not the standard capitalist narrative about what this technology's benefits are for society, but I'll take it.</p>
<p>Really happy with this. The level of hype around AI is nauseatingly intense and that's leading to a lot of overapplicaton of the tech. There's a decent amount of people using it to fully communicate on their behalf, which I really don't get. It has such a distinctive tone of voice with all those extra adjectives and adverbs, and that uncanny beehive-looking regularity in the structure of the sentences and paragraphs. It's amazing to me that people either don't see how obvious it is or don't feel how unengaging it is once you twig that you're reading something that wasn't important enough to write. Negative experiences like those leave the door wide open to outright cynicism about the tech in general. I'm glad I have a nice example like this to keep my head balanced.</p>
]]></description>

    </item>
    <item>
      <title>“All we know about is computers”</title>
      <link>https://henry.catalinismith.com/2024/11/06/all-we-know-about-is-computers/</link>
      <guid>https://henry.catalinismith.com/2024/11/06/all-we-know-about-is-computers/</guid>
      <pubDate>Wed, 06 Nov 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<video
              controls
              preload="none"
              class="mt-4 max-h-screen w-full object-cover"
              poster="https://henry.catalinismith.com/2024/11/06/all-we-know-about-is-computers.jpg"
            >
              <source
                src="https://henry.catalinismith.com/2024/11/06/all-we-know-about-is-computers.mp4"
                type="video/mp4"
              />
            </video><p>Recently I did this little panel discussion at Unionen HQ about union organising in the Swedish tech industry. It was great fun. We talked for ages and everyone said lots of cool stuff. I think this was the most important thing I said.</p>
<blockquote>
<p>There is a sort of helplessness… like a learned helplessness. There's this idea that okay, these other workers in this industry that industry and that industry they all got like union deals, collective agreements at their jobs through conflict and so on back in the 20th century. But that was then. This is now. That was those industries. We can't do that because all we know about is computers and that was all a long time ago. It bothers me this idea that “oh <em>we</em> can't do it, <em>we</em> can't have that”.</p>
<p>Yes we can. You can just do it. You just start. Just start. That's all. As long as you start, you can have it. The trick is just to not let anyone talk you out of starting that's all. Because there's a lot of voices out there who would like to talk you out of starting. They'll tell you that's not for us, we can't have that.</p>
<p>Don't let them tell you what you can achieve, you know. You can have this.</p>
</blockquote>
<p>I also fell in love with the accidental comedy of this one frame from the video.</p>
<p><img src="/2024/11/06/all-we-know-about-is-computers@256x256.jpg" alt="still from video with a sad face and the caption &quot;all we know about is coputers&quot; superimposed"></p>
<p>Captures perfectly how people are intended to feel when their anti-union employer tells them <a href="https://666a.se/labour-law/codetermination-act/2021:1114/section-11">MBL § 11</a> negotiations would slow things down too much. Unionen's <a href="https://www.frihet.unionen.se/en">frihet.unionen.se</a> campaign is worth a look if that sounds like your workplace BTW.</p>
]]></description>

    </item>
    <item>
      <title>Help tech employees secure collective agreements</title>
      <link>https://henry.catalinismith.com/2024/11/04/help-tech-employees-secure-collective-agreements/</link>
      <guid>https://henry.catalinismith.com/2024/11/04/help-tech-employees-secure-collective-agreements/</guid>
      <pubDate>Mon, 04 Nov 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Love this advocacy network initiative from Unionen. The very clear &quot;union organiser&quot; tone of voice in the text is cool as hell.</p>
<blockquote>
<p>This is no small request we’re making of you. We will face attacks and strong opposition claiming we’re wrong.</p>
</blockquote>
<p>You should go sign up. You give them your email address and they'll keep you up to date as the campaign progresses.</p>
<p><a href="https://www.frihet.unionen.se/en/">https://www.frihet.unionen.se/en/</a></p>]]></description>

    </item>
    <item>
      <title>avdi.codes</title>
      <link>https://henry.catalinismith.com/2024/10/19/avdi-codes/</link>
      <guid>https://henry.catalinismith.com/2024/10/19/avdi-codes/</guid>
      <pubDate>Sat, 19 Oct 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote>
<p>So obsessed with decentralization (we’ll get it right this time!) that when centralization inevitably builds up no one knows how to manage it healthily, or even that it needs to be managed. And then a Matt Mullenweg happens and everyone is like “oh no, I have learned nothing from this other than that centralization is bad, we’ll get it right this time!”. Rinse, repeat.</p>
</blockquote>
<p>Yep.</p>
<p><a href="https://avdi.codes/26784-2/">https://avdi.codes/26784-2/</a></p>]]></description>

    </item>
    <item>
      <title>Kubernetes homelab on an old MacBook Air</title>
      <link>https://henry.catalinismith.com/2024/10/01/kubernetes-homelab-on-an-old-macbook-air/</link>
      <guid>https://henry.catalinismith.com/2024/10/01/kubernetes-homelab-on-an-old-macbook-air/</guid>
      <pubDate>Tue, 01 Oct 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2024/10/01/kubernetes-homelab-on-an-old-macbook-air.jpg" alt="Wooden shelf above a door with a modem, router, NAS, and laptop." /><p>Reflecting on <a href="/2024/08/18/ergodox-ten-years-later/">the ten year milestone of using my Ergodox</a> the other day really got me thinking. Tech's so dominated by consumerism. It's all very American really. Bigger is better and all that. Silly.</p>
<p>So instead here's a run through of quite a realistic, minimal homelab setup. It lives on the shelf above our front door. And it's grown organically over time, through reusing old equipment and avoiding buying loads of expensive new stuff.</p>
<h2>Modem</h2>
<p>The big chunky boy on the left is our modem. This belongs to our ISP, and isn't very good. I keep it standing up on its side like that so I can see the status lights when the connection drops out. That happens a lot.</p>
<p>We actually only have one choice of ISP in our building. Recently it came out in the news that <a href="https://www.dn.se/ekonomi/kickbacks-omsatter-miljarder-hamnar-pa-hyresgasternas-bredbandsnota/">landlords in Sweden are getting kickbacks from ISPs</a> for monopolies like this one. So maybe that's why.</p>
<p>Anyway, its range isn't good enough to get a WiFi signal to any of the parts of the apartment where it's needed. So it's bridged to the Google Nest WiFi router next to it.</p>
<h2>Router</h2>
<p>This Google Nest WiFi thing is practically a member of the family. It floods the entire apartment with glorious internet. &quot;Hey Google, stop&quot; were some of the kids' first words.</p>
<p>Sometimes I wonder what it must be like to grow up with a talking computer. What it must do to your expectations about what it's possible for the computer to do. Then I find myself doing a sarcastic impersonation of an American because it can't understand &quot;Hey Google, play BBC Radio Merseyside&quot; unless you say it like someone from California. Never mind.</p>
<p>It has a little ethernet port underneath, which is plugged into our NAS.</p>
<h2>NAS</h2>
<p>Way back in the old country I had one of those AirPort Time Capsule things that Apple don't make any more. There wasn't room for it when I packed to move to Sweden, so it went in a cupboard in my parents' house for a good six or seven years until they found it one day.</p>
<p>It'll be about ten years old soon and it still works. Homelab nerds would probably cringe at the thought of using such an old single disk NAS. And sure, it'll probably die soon. But we had zero disks before this showed up, and that was basically fine. Not trying to compete with the Arctic World Archive here.</p>
<h2>Server</h2>
<p>At some point in like 2021 I went to play <a href="https://open.spotify.com/album/3Nunc0C2S3K5heQ9VRQFPy">Casual Sex In The Cineplex</a> on Spotify and it said &quot;This content is not available&quot;. Still does today, actually.</p>
<figure>
 <img
  alt="Spotify screenshot where the tracks in the album Casual Sex In The Cineplex by Sultans of Ping FC are greyed out and a toast notification saying 'This content is not available' is displayed"
  src="/2024/10/01/not-available.png"
 />
 <figcaption>Not available my arse.</figcaption>
</figure>
<p>Anyway something snapped in me that day. A real &quot;Hey, that's not the wallet inspector&quot; moment. I set up Plex on my laptop and put the album on there instead. After a few days I realised this was something I was probably going to keep using, so I dug out my old 2013 MacBook Air and moved the Plex server over onto that. And that laptop has been a Plex server ever since.</p>
<p>Those old MacBooks didn't come with tons of storage, so it didn't take long to fill up. Eventually I bought a 1TB external SSD. It still runs off that today. Sometimes it fills up and I'll delete a show or a film to make space. Over time I upgraded it to a nice Docker Compose &amp; Traefik setup with some help from a friend. Then later I installed Minikube and upgraded it to Kubernetes.</p>
<p>Old laptops are underrated homelab servers. For one, the battery means it doesn't immediately die if the power goes out. That's a built-in UPS! Even better though are the built-in speakers. If I'm away on a work trip I'll often SSH into it while I'm FaceTiming with the kids and run <code>say -vDaniel -r90 &quot;Piss off naughty boys&quot;</code>. I see a lot of very fancy rackmount homelab clusters on YouTube and they never have speakers. Not one of them can deliver the joy of watching two little boys running around laughing and shouting &quot;No <em>you</em> piss off Google&quot;.</p>
<h2>Oh yeah, Kubernetes</h2>
<p>Sorry, you're probably here from Google about the Kubernetes MacBook Air homelab thing aren't you. Let's get into it then.</p>
<p>I'm running Minikube on this thing. It's a fairly standard traefik &amp; cert-manager setup. I've stopped bothering with setting up an automated dynamic DNS thing, to be honest. My modem's public IP changes rarely enough that I don't mind just logging into Cloudflare and updating it once every few weeks.</p>
<p>That's it though. It seems a bit maxed out with just that workload. I tried to spin up Authentik on it once and the whole thing kind of died on its arse. CPU fans roaring, pods getting evicted left and right, that kind of thing. It's gonna need replacing with something proper before I can do more with it. So if you're here from Google hoping to learn about running a badass k8s cluster on your old MacBook Air, too bad. Can't be done, sorry. But do give &quot;Piss off naughty boys&quot; a try sometime.</p>
]]></description>

    </item>
    <item>
      <title>Rearchitecting: Redis to SQLite</title>
      <link>https://henry.catalinismith.com/2024/09/25/rearchitecting-redis-to-sqlite/</link>
      <guid>https://henry.catalinismith.com/2024/09/25/rearchitecting-redis-to-sqlite/</guid>
      <pubDate>Wed, 25 Sep 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>The SQLite hype train continues. Love to be Excited About Benchmarks.</p>
<p><a href="https://wafris.org/blog/rearchitecting-for-sqlite">https://wafris.org/blog/rearchitecting-for-sqlite</a></p>]]></description>

    </item>
    <item>
      <title>Always use an enum for your status field · Applied Cartography</title>
      <link>https://henry.catalinismith.com/2024/09/21/always-use-an-enum-for-your-status-field-applied-cartography/</link>
      <guid>https://henry.catalinismith.com/2024/09/21/always-use-an-enum-for-your-status-field-applied-cartography/</guid>
      <pubDate>Sat, 21 Sep 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Damn right.</p>
<p><a href="https://jmduke.com/posts/post/enums/">https://jmduke.com/posts/post/enums/</a></p>]]></description>

    </item>
    <item>
      <title>Getting price-gouged by private equity in the UK&#39;s happiest resort</title>
      <link>https://henry.catalinismith.com/2024/09/05/getting-price-gouged-by-private-equity-in-the-uks-happiest-resort/</link>
      <guid>https://henry.catalinismith.com/2024/09/05/getting-price-gouged-by-private-equity-in-the-uks-happiest-resort/</guid>
      <pubDate>Thu, 05 Sep 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Quite a weird experience to read something that's primarily about EBITDA and yet find it as engaging as this.</p>
<p><a href="https://www.netincome.co/p/getting-price-gouged-by-private-equity">https://www.netincome.co/p/getting-price-gouged-by-private-equity</a></p>]]></description>

    </item>
    <item>
      <title>The Occult Technology of the Rollercoaster</title>
      <link>https://henry.catalinismith.com/2024/09/04/the-occult-technology-of-the-rollercoaster/</link>
      <guid>https://henry.catalinismith.com/2024/09/04/the-occult-technology-of-the-rollercoaster/</guid>
      <pubDate>Wed, 04 Sep 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Find most rollercoasters terrifying to even look at personally, but this writing makes the author's passion for them contagious.</p>
<p><a href="https://simonindelicate.substack.com/p/the-occult-technology-of-the-rollercoaster">https://simonindelicate.substack.com/p/the-occult-technology-of-the-rollercoaster</a></p>]]></description>

    </item>
    <item>
      <title>Greppability is an underrated code metric</title>
      <link>https://henry.catalinismith.com/2024/09/03/greppability-is-an-underrated-code-metric/</link>
      <guid>https://henry.catalinismith.com/2024/09/03/greppability-is-an-underrated-code-metric/</guid>
      <pubDate>Tue, 03 Sep 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>This article focuses on back end development but the same principle also applies to front end. It's why I recommend avoiding <a href="https://sass-lang.com/documentation/style-rules/parent-selector/">Sass's parent selector</a> in many cases.</p>
<p>It's really common to see Sass written like this.</p>
<pre><code>.Card {
  display: flex;

  &__heading {
    font-family: bold;
  }
}</code></pre>
<p>That parent selector saves one engineer one or two seconds of typing work. The trade-off is that it makes <code>Card__heading</code> impossible to find via code search. So I think the above is better written like this.</p>
<pre><code>.Card {
  display: flex;
}

.Card__heading {
  font-family: bold;
}</code></pre>
<p>The initial work of typing in the code takes a moment or two longer. In exchange for that, anyone who works on the application in future can copypaste any element class like <code>Card__heading</code> into a code search tool and immediately find its CSS source code.</p>
<p><a href="https://morizbuesing.com/blog/greppability-code-metric/">https://morizbuesing.com/blog/greppability-code-metric/</a></p>]]></description>

    </item>
    <item>
      <title>Why Playwright is less flaky than Selenium</title>
      <link>https://henry.catalinismith.com/2024/08/31/why-playwright-is-less-flaky-than-selenium/</link>
      <guid>https://henry.catalinismith.com/2024/08/31/why-playwright-is-less-flaky-than-selenium/</guid>
      <pubDate>Sat, 31 Aug 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote>
<p>Playwright is so fast that it forces you to write UI tests correctly on day one. Selenium isn't.</p>
</blockquote>
<p>Interesting!!! I've done <a href="https://henry.catalinismith.com/2024/03/17/stabilizing-zetkins-playwright-tests/">a bunch of work</a> with both of these over the years and I gotta admit I've found Playwright less flaky.</p>
<p><a href="https://justin.searls.co/links/2024-08-29-why-playwright-is-less-flaky-than-selenium/">https://justin.searls.co/links/2024-08-29-why-playwright-is-less-flaky-than-selenium/</a></p>]]></description>

    </item>
    <item>
      <title>The Balkanized Internet: Role of Big Cloud Providers</title>
      <link>https://henry.catalinismith.com/2024/08/30/the-balkanized-internet-role-of-big-cloud-providers/</link>
      <guid>https://henry.catalinismith.com/2024/08/30/the-balkanized-internet-role-of-big-cloud-providers/</guid>
      <pubDate>Fri, 30 Aug 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote>
<p>I am disabling AWS access to my on-prem servers (at least mostly). This is partly an experiment and partly an expediency, as I will explain. (As a technical side note, I'm mostly concerned with TCP traffic and it is possible to distinguish which is the client and which is the server from the initial handshake. I'm blocking connection attempts to my services from clients in AWS. Clients on my network can still establish connections to services hosted in AWS.)</p>
</blockquote>
<p>What a concept. It's got me rethinking abuse problems I've dealt with over the years and whether just blocking us-east-1 might have been a quicker way to fix them. Would've definitely tidied up the UX analytics for one site I've worked on.</p>
<p><a href="http://consulting.m3047.net/dubai-letters/balkanized-internet.html">http://consulting.m3047.net/dubai-letters/balkanized-internet.html</a></p>]]></description>

    </item>
    <item>
      <title>Ergodox, Ten Years Later</title>
      <link>https://henry.catalinismith.com/2024/08/18/ergodox-ten-years-later/</link>
      <guid>https://henry.catalinismith.com/2024/08/18/ergodox-ten-years-later/</guid>
      <pubDate>Sun, 18 Aug 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2024/08/18/ergodox.jpg" alt="Split ortholinear keyboard with black keycaps on a white table." /><p>It's been about a decade since I <a href="/2014/11/16/that-weird-keyboard/">built my Ergodox</a>. I'm still using it! I don't think I've ever had anything I've used so frequently last so long. Here's everything I've learned about it. A little hardware review after ten years of almost daily use.</p>
<h2>Blank Keycaps</h2>
<p>The blank keycaps are fine for most typing. The layout becomes muscle memory really quickly. The fact that they remove any reason to stare down at the keyboard while typing is probably a good thing.</p>
<p>But blank keycaps are terrible for entering long numerical sequences such as credit card numbers, one-time passwords, phone numbers and so on. A decade in and I'm still unable to do this kind of thing without making mistakes. Printed keycaps are a lot better for this.</p>
<p>I chose blank keycaps because I didn't want to limit my layout options. In practice this wouldn't have been a problem. On balance I'm still happy with this choice, but it would have been fine either way.</p>
<h2>MX Clear Switches</h2>
<p>I love typing on this keyboard, and the switches are why. MX clears push back a bit. It makes the whole keyboard feel expensive and sturdy. They're nice and quiet too, by mechanical keyboard standards.</p>
<p>For a short while, I had a Moonlander. It came with MX browns, which I chose because that was the closest they had to clears. I didn't like it quite as much, but it was still <em>fine</em>. I rarely noticed the difference. People stress too much about choosing switches, I think.</p>
<h2>Acrylic Case</h2>
<p>The acrylic case does a great job of damping the typing noise. During my short time with the Moonlander, I found it very loud in comparison to the Ergodox, and I think the case is partly the reason for the difference. The Ergodox's acrylic case engulfs the switches from all sides, whereas the Moonlander's more minimalist chassis exposes them. Does make cleaning the Ergodox a little more troublesome in comparison to the Moonlander, though.</p>
<p>Once a year I take the case apart and clean everything out. One year, I fucked up and broke one of the layers of the case during this process. Due to the open source nature of the Ergodox hardware design it was easy to find <a href="https://falbatech.click/products/One-Hand-ErgoDox-Standard-Acrylic-Case-Colorless-p613842440">a replacement</a>.</p>
<h2>Keyboard Layout</h2>
<p>Four of the thumb cluster keys are hard to reach. Back in 2014 I mapped a bunch of punctuation characters to those keys. In the years since, I moved all that stuff back to more standard positions. This is an ergonomic detail ZSA have gotten 100% right in the Moonlander, where they've completely removed these keys from each thumb cluster. They're just not useful.</p>
<p>Still very happy with having the escape key right there in the thumb cluster. Such an underrated key. You're probably pressing it more often than you realise.</p>
<h3>Original layout from 2014</h3>
<figure>
 <img
  alt=""
  src="/2024/08/18/ergodox-layout-2014.png"
 />
 <figcaption>
 </figcaption>
</figure>
<h3>Current layout in 2024</h3>
<figure>
 <img
  alt=""
  src="/2024/08/18/ergodox-layout-2024.png"
 />
 <figcaption>
 </figcaption>
</figure>
<h2>Software</h2>
<p>The screenshot from 2014 there is of a layout configuration tool created by a company called Massdrop. I bought the parts for my Ergodox from them, and they provided an online configuration tool as part of their promotional campaign for the kit. The 2024 screenshot looks so different because that original tool no longer exists. It was a proprietary tool hosted by Massdrop, and at some point they took it offline. The company's not even called Massdrop any more, in fact.</p>
<p>Fortunately, ZSA sell an Ergodox-based product called the Ergodox EZ, and so they created <a href="https://configure.zsa.io/ergodox-ez/layouts/default/latest/0">their own layout configuration tool</a> for that. And mostly thanks to the Ergodox firmware being free software, that tool is compatible with older models like mine.</p>
<h2>Repairs &amp; Longevity</h2>
<p>The TRRS cable that connects the two halves of the Ergodox requires more force to plug in and unplug than e.g. a USB C cable. That force puts a bit of strain on the solder joints holding the TRRS jack onto the PCB.</p>
<p>After many years of use, this strain wore out the solder joint, and the connection between the two halves of the keyboard became unreliable. That was what led me to try a Moonlander for a while. Eventually it felt like a missed opportunity that I'd bought a new thing instead of repairing my Ergodox, so I sold the Moonlander and fired up the soldering iron.</p>
<p>It was an easy 30 minute job to fix it, too. It was enough to heat the solder up and gently push the TRRS jack back into place. After fixing it, I also replaced the original TRRS cable with a <a href="https://falbatech.click/products/Braided-Cable-TRRS-Jack-Jack-1-m-p613853174">coiled one</a>. It feels a little bit gentler on that solder joint.</p>
<p>It’s a rare pleasure to have a piece of computer equipment last an entire decade of almost daily use. There's no reason it can't last another decade, either. As long as I keep it out of reach of the kids.</p>
<h2>Successful RSI Treatment</h2>
<p>When I first bought it, I was wary of it becoming a gateway into a materialistic hobby. Never been a fan of the &quot;basically just buying things&quot; category of hobbies. Nerd culture is prone to a really shallow and very capitalist form of individualism based on defining yourself primarily in terms of what kind of labour you sell, who you sell it to, and what specific treats and goodies you buy with the leftovers of the wage you receive for that labour.</p>
<p>I think a far more compelling vision of individual empowerment involves working together to eliminate the barriers that turn people's identities and bodies into limiting factors in their own lives. That's why I try not to forget that my Ergodox is actually a piece of assistive technology that I bought to save my tech career from ending early due to wrist pain. It's succeeded wonderfully at this, and the strong copyleft license of the hardware design &amp; firmware seems to be doing a great job of ensuring it's a lasting solution as well.</p>
]]></description>

    </item>
    <item>
      <title>Varför är techbolagen så rädda för facken?</title>
      <link>https://henry.catalinismith.com/2024/08/10/varfor-ar-techbolagen-sa-radda-for-facken/</link>
      <guid>https://henry.catalinismith.com/2024/08/10/varfor-ar-techbolagen-sa-radda-for-facken/</guid>
      <pubDate>Sat, 10 Aug 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Kim Öberg said something that stuck with me during <a href="https://www.youtube.com/watch?v=h9D35BtIKyw">Arbetsvärlden's panel discussion on the Swedish tech industry's anti-union stance</a> at this year's Almedalsveckan.</p>
<blockquote>
<p>The first two years in Sweden, your work visa is linked to your employer. That means if you lose your job in those first two years you have two months to find a new job with an employer who'll sponsor your visa, otherwise you have to leave Sweden. It raises the stakes a lot if you're thinking of “irritating” your employer. So that's one factor. I decided I'd worked at Klarna a few years, I'd done a good job, people were happy with my work, so I figured OK, I have enough “points” to get involved with unionising, because my technical work is appreciated enough.</p>
</blockquote>
<p>The “points” thing! It's real! I made a similar calculation before the Spotify campaign!</p>
<p>This entire event was wonderfully insightful. Well worth a look if your Swedish skills are up to the challenge.</p>
<p><a href="https://www.youtube.com/watch?v=h9D35BtIKyw">https://www.youtube.com/watch?v=h9D35BtIKyw</a></p>]]></description>

    </item>
    <item>
      <title>Ethicswishing</title>
      <link>https://henry.catalinismith.com/2024/07/29/ethicswishing/</link>
      <guid>https://henry.catalinismith.com/2024/07/29/ethicswishing/</guid>
      <pubDate>Mon, 29 Jul 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>The amazing feeling when someone puts words to something and you immediately recognise it a dozen times over in your own memories.</p>
<blockquote>
<p>Ethicswishing (in tech) is the belief that if you are committed to being ethical and understand technology, then you are well-equipped to build technology for social good. But the truth is that building tech for social good is a lot like having sex in a bathtub: if you don't understand the first thing about sex, it won't help that you're a world-class expert in bathtubs.</p>
</blockquote>
<p><a href="https://berjon.com/ethicswishing/">https://berjon.com/ethicswishing/</a></p>]]></description>

    </item>
    <item>
      <title>Get the screen width &amp; height without JavaScript</title>
      <link>https://henry.catalinismith.com/2024/07/28/get-the-screen-width-and-height-without-java-script/</link>
      <guid>https://henry.catalinismith.com/2024/07/28/get-the-screen-width-and-height-without-java-script/</guid>
      <pubDate>Sun, 28 Jul 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Wholeheartedly obsessed with this.</p>
<p><a href="https://css-tip.com/screen-dimension/">https://css-tip.com/screen-dimension/</a></p>]]></description>

    </item>
    <item>
      <title>Goodbye Jane</title>
      <link>https://henry.catalinismith.com/2024/07/27/goodybe-jane/</link>
      <guid>https://henry.catalinismith.com/2024/07/27/goodybe-jane/</guid>
      <pubDate>Sat, 27 Jul 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2024/07/27/core-fundamentals@672x477.png" alt="ORGANIZING FOR POWER THE CORE FUNDAMENTALS Graduation Certificate February 8 - March 15, 2023 Presented to Henry Catalini Smith This certificate recognizes successful completion of the six-week intensive course &quot;The Core Fundamentals&quot;, part of the &quot;Organizing for Power&quot; training program for organizers worldwide. Jane McAlevey, Lead Trainer Ethan Earle, Program Coordinator &quot;THE WORKING CLASSES IN EVERY COUNTRY ONLY LEARN TO FIGHT IN THE COURSE OF THEIR STRUGGLES.&quot; - ROSA LUXEMBURG" /><p>After attending today's Organizing For Power memorial to mark the passing of lead trainer <a href="https://en.wikipedia.org/wiki/Jane_McAlevey">Jane McAlevey</a>, I decided to put my graduation certificate online as a little personal tribute and share some memories and hard-earned lessons of my own.</p>
<p>I discovered Jane's work at an organizer training event hosted by Vänsterpartiet Malmö, and by the time the course began I'd already read all her books. Getting to participate in a &quot;fishbowl&quot; exercise with her during one of the training sessions is a deeply cherished memory.</p>
<p>One of my few certainties about the <a href="/projects/spotifyworkers">Spotify campaign</a> is that every aspect of it that fell short of my expectations can be understood in terms of this methodology and all the situations where enacting it would have produced better outcomes. It's a lesson I take every opportunity I get to pass on to other fledgling organizers.</p>
<p>Jane's belief in workers and their ability to win remains contagious beyond her death. The anecdotes at today's memoral about her commitment to raising up those around her filled me with determination of my own. At Spotify, you normally couldn't get the bosses to shut up about the importance of a &quot;growth mindset&quot;. I still remember how jarring it felt in the <a href="https://en.wikipedia.org/wiki/Captive_audience_meeting">captive audience meetings</a> when they flipped that around 180 degrees to explain that the inexperience of the union representatives there would permanently hinder their everyday change management work if a union deal imposed an obligation to negotiate under <a href="https://666a.se/labour-law/codetermination-act/2021:1114/section-11">MBL § 11</a>. I take every opportunity I get to remind my former colleagues that they don't have to only have a growth mindset when the bosses tell them to. And it's a great inoculation topic that I always recommend organizers elsewhere not to skip over.</p>
<p>Jane's work rate and sense of urgency was almost legendary. I like <a href="https://www.rosalux.de/en/news/id/51885/remembering-jane-mcalevey-1964-2024">Ethan Earle's take on this</a> most of all.</p>
<blockquote>
<p>For foes and friends alike, Jane had something of a magical aura about her. That said, she always sought to shed that perception. Everything she did was the result of hard work and practice — and all of it can be reproduced by those willing to put in the time that she did.</p>
<p>So, read her books and take her trainings, but not to deify her — nothing could be further from her mission. Take them so that you can put into practice the same methods that Jane McAlevey spent a lifetime practicing, modelling, and instilling in others. And then, as she would so often say at the end of a session: Go forth and win!</p>
</blockquote>
<p>In truth, I've noticed a similar intensity of spirit in just about everyone I've met in the labour movement. And if you're in tech, given that you're surviving this industry's treadmill of eternal retraining as your old knowledge races ever faster towards obsoletion, you can take it as read that you have what it takes to learn how to build collective power and win.</p>
<p>The next Organizing For Power training program begins in February 2025. If you can put together a group of 10 or more in time for registration in December, you can get yourselves the best organizer training around and max out your chances of winning your own campaign. Go ahead and <a href="https://docs.google.com/forms/d/e/1FAIpQLSfWM4YC-jzgo1ISyZaSJiCgFK2wdFy6DvPgyL5pUliuvKXLQA/viewform">pre-register now</a> and you'll be one step along the way already.</p>
]]></description>

    </item>
    <item>
      <title>The Most Important Decisions are Non-Technical</title>
      <link>https://henry.catalinismith.com/2024/07/03/the-most-important-decisions-are-non-technical/</link>
      <guid>https://henry.catalinismith.com/2024/07/03/the-most-important-decisions-are-non-technical/</guid>
      <pubDate>Wed, 03 Jul 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote>
<p>While it's fun to discuss whether an application should be implemented in Ruby or Clojure, to write beautiful and succinct code, to see how far purely functional programming can be taken, these are all secondary to defining the user experience, to designing a comfortable interface, to keeping things simple and understandable, to making sure you're building something that's actually usable by the people you're designing it for. Those are more important decisions.</p>
</blockquote>
<p>Facts. Same thing applies when choosing what problems to solve and how to solve them. Ever see a team rush to add a new bit of tech to their process, hoping it'll solve a collaboration problem for them without anyone needing to have any difficult conversations with anyone? Mmhmmm.</p>
<p><a href="https://prog21.dadgum.com/137.html">https://prog21.dadgum.com/137.html</a></p>]]></description>

    </item>
    <item>
      <title>Should I remove this blog from Google Search?・The Jolly Teapot</title>
      <link>https://henry.catalinismith.com/2024/06/29/should-i-remove-this-blog-from-google-search-the-jolly-teapot/</link>
      <guid>https://henry.catalinismith.com/2024/06/29/should-i-remove-this-blog-from-google-search-the-jolly-teapot/</guid>
      <pubDate>Sat, 29 Jun 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Keeping an eye on the backlash against some of the tech world's latest abuses. This is an interesting example.</p>
<blockquote>
<p>Google is not a huge source of traffic and visibility. I get most of my visits from RSS readers, other people’s links including fellow bloggers, or websites like Hacker News</p>
</blockquote>
<p>Hadn't thought about this at all but it's actually an interesting idea. I'm probably not going to copy this, at least not right now, but it's fascinating how many of the old assumptions are being reevaluated lately.</p>
<p><a href="https://thejollyteapot.com/2024/06/23/should-i-remove-this-blog-from-google-search">https://thejollyteapot.com/2024/06/23/should-i-remove-this-blog-from-google-search</a></p>]]></description>

    </item>
    <item>
      <title>All laws now up to date!</title>
      <link>https://henry.catalinismith.com/2024/06/25/all-laws-now-up-to-date/</link>
      <guid>https://henry.catalinismith.com/2024/06/25/all-laws-now-up-to-date/</guid>
      <pubDate>Tue, 25 Jun 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote>
<p>This was originally posted at https://666a.se/news/all-laws-now-up-to-date
and has been migrated here since for long-term hosting.</p>
</blockquote>
<p>A few weeks ago I mentioned that preparations for <a href="/2024/06/11/lets-update-the-english-translation-of-the-work-environment-act/">updating the English translation of the Work Environment Act</a> were complete. Even more good news now: not only is 666a's <a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/">English translation of the Work Environment Act</a> now completely up to date, but so is the <a href="https://lagstiftning.github.io/arbetstidslagen/2022:450/">English translation of the Working Hours act</a>!</p>
<p>As far as I'm aware, right now 666a is now the only place on the web where you can get an up-to-date <a href="https://lagstiftning.github.io/">English translation of Sweden's four most important labour laws</a>. The ones on government.se are still out of date. And in the case of the Work Environment Act, more than a decade out of date.</p>
<p>My favourite thing I learned in the process of updating these translations was in <a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/chapter-7-section-16/">Chapter 7 Section 16 of the Work Environment Act</a>.</p>
<blockquote>
<p>The market surveillance authority may procure a sample of goods under a hidden identity according to Article 14.4 j of Regulation (EU) 2019/1020 only if necessary to achieve the purpose of the inspection.</p>
</blockquote>
<p>It grants Swedac the power to order stuff under false names in order to verify compliance with quality and safety requirements. This is an implementation of an EU law, and it just stuck in my head because you don't tend to think of quality assurance as a form of espionage, but it actually makes a huge amount of sense when you think about it!</p>
<p>Also found it interesting because I don't think it really seems to belong in the Work Environment Act at all. It certainly has nothing to do with anyone's work environment. I think it seems to have been shoehorned in here for convenience due to its similarities with e.g. <a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/chapter-7-section-5/">Chapter 7 Section 5</a>, maybe to avoid the work of creating a separate Market Surveillance Act or something. I think software engineers have more in common with the people writing laws than any of us might have thought!</p>
<p>Next up, I think I'd like to rescue the Parental Leave Act and the Annual Leave Act from the Swedish government's PDF compost heap. There's nearly a decade's worth of updates missing from the most recently published English translation of the Parental Leave Act too, so that one's going to take a minute or two to get polished and shipped on here.</p>
]]></description>

    </item>
    <item>
      <title>Manifesto for a Humane Web</title>
      <link>https://henry.catalinismith.com/2024/06/23/manifesto-for-a-humane-web/</link>
      <guid>https://henry.catalinismith.com/2024/06/23/manifesto-for-a-humane-web/</guid>
      <pubDate>Sun, 23 Jun 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Especially liked this bit from the intro.</p>
<blockquote>
<p>If what we don’t want from the web is increasingly clear, perhaps it’s time to identify what kind of web we do want.</p>
</blockquote>
<p>Love anything about reclaiming wasted effort from reacting to the outrages of the business world and focusing it on a positive agenda of our own. Seeing more and more of it now too.</p>
<p><a href="https://humanewebmanifesto.com/">https://humanewebmanifesto.com/</a></p>]]></description>

    </item>
    <item>
      <title>A Guide To Designing For Older Adults — Smashing Magazine</title>
      <link>https://henry.catalinismith.com/2024/06/22/a-guide-to-designing-for-older-adults/</link>
      <guid>https://henry.catalinismith.com/2024/06/22/a-guide-to-designing-for-older-adults/</guid>
      <pubDate>Sat, 22 Jun 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>One of those things where I'm chucking this on here as a bookmark so I'll remember it exists and find it easier when I need it. Unlabeled icons and disappearing text continuing their winning streak in the league of inaccessible designs.</p>
<p><a href="https://www.smashingmagazine.com/2024/02/guide-designing-older-adults/">https://www.smashingmagazine.com/2024/02/guide-designing-older-adults/</a></p>]]></description>

    </item>
    <item>
      <title>Opinions for Writing Good CSS</title>
      <link>https://henry.catalinismith.com/2024/06/21/opinions-for-writing-good-css/</link>
      <guid>https://henry.catalinismith.com/2024/06/21/opinions-for-writing-good-css/</guid>
      <pubDate>Fri, 21 Jun 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Agree with about most of these. Especially the part about formulating a complete understanding of a responsive layout before trying to code it. Would add that coding it is a valid way of building that understanding. Just gotta be a little bit present in the creative process, notice when it's time to cut your losses on that first draft, and try again from scratch.</p>
<p><a href="https://www.andrewwalpole.com/blog/opinions-for-writing-good-css/">https://www.andrewwalpole.com/blog/opinions-for-writing-good-css/</a></p>]]></description>

    </item>
    <item>
      <title>The Network State as An Investment Product — Shanley</title>
      <link>https://henry.catalinismith.com/2024/06/19/the-network-state-as-an-investment-product-shanley/</link>
      <guid>https://henry.catalinismith.com/2024/06/19/the-network-state-as-an-investment-product-shanley/</guid>
      <pubDate>Wed, 19 Jun 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>This line in particular caught my eye.</p>
<blockquote>
<p>This is gonna make the Bahamas look like a hostile regulatory environment.</p>
</blockquote>
<p>Been thinking about this a bit for a while. When you see these market
fundamentalist types critique a given regulation, or a jurisdiction they feel is
over-regulated, there's a temptation to read that critique in a generous
way. Business talk about creating favourable conditions for entrepreneurs can be
really compelling.</p>
<p>But then if you zoom out and look at the wider context, there's basically no
jurisdiction deregulated enough to satisfy this worldview.</p>
<p>Elon Musk orders the Swedish Tesla subsidiary not to sign a union deal with its
workforce under any circumstances, and you instinctively try to adopt a
middle-ground perspective on his stance. &quot;Well&quot;, you think, &quot;I suppose Sweden
<em>is</em> a bit of an outlier in terms of trade unionism and its impact on society.
It's understandable for an American business to be hesitant&quot;.</p>
<p>Then you find out he's also a key player in a <a href="https://newrepublic.com/article/179165/musk-supreme-court-nlrb-labor">legal campaign to destroy the
precious few labour rights American workers still
enjoy</a>,
and you realise &quot;Aha, so there's… <em>no</em> satisfactorily large amount of
unilateral power for this person?&quot;</p>
<p>If you're not convinced this is a serious problem, I'd suggest reading Marc
Andreessen's <a href="https://a16z.com/the-techno-optimist-manifesto/">Techno-Optimist
Manifesto</a> for yourself in
full. My personal favourite aspect of it is how the section entitled &quot;The Enemy&quot;
begins with a disclaimer that &quot;Our enemies are not bad people – but rather bad
ideas&quot;, and then with each passing sentence becomes more and more clear it's
referring to some very specific people the author considers bad. Count how many
times he refers to a movement you're a member of as his enemy, then think about
how influential his VC firm is in the industry you depend on to make a living.</p>
<p>I think it might be a bit of a strategic booboo to let these wannabe Bond
villains actually build their own volcano lairs.</p>
<p><a href="https://www.shanley.com/blog/the-network-state-as-an-investment-product">https://www.shanley.com/blog/the-network-state-as-an-investment-product</a></p>]]></description>

    </item>
    <item>
      <title>Being a dick</title>
      <link>https://henry.catalinismith.com/2024/06/12/being-a-dick/</link>
      <guid>https://henry.catalinismith.com/2024/06/12/being-a-dick/</guid>
      <pubDate>Wed, 12 Jun 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>In this post Johan has touched on something very powerful. In allowing reactionaries to frame the debate about inclusive language, we’ve empowered them to portray themselves as the committed realists and us as the sheltered crybabies.</p>
<p>Johan turns this on its head.</p>
<blockquote>
<p>if you have no gay friends, if you don’t know any parents with a disabled kid, then who’s really in that cotton-ball cocoon?</p>
</blockquote>
<p>I think this reframing is very exciting.</p>
<blockquote>
<p>Gay people are being beaten up and murdered every day with nobody reporting on it, while every single instance of someone walking up to a professor and being “triggered” has been quickly snatched up and reported to absolute death by the ever-present modern outrage industry because the story is just too good to pass up. If you’ve fallen for that… well, again, I have to ask: who has the soft and overprotected mind here? Who’s too quick to take offense?</p>
</blockquote>
<p>You can see little instances of this kind of idea here and there in all kinds of progressive spaces. For whatever reason this one has caught my attention in a new way.</p>
<p>I’m very interested in all the various ways the reactionary right has succeeded at promoting itself as the assertive, positive freedom-fighter, and all the ways the progressive left has conceded that ground and retreated into passive critique and negativity.</p>
<p>This right here is a piece of the puzzle.</p>
<p><a href="https://johan.hal.se/wrote/2024/06/11/being-a-dick/">https://johan.hal.se/wrote/2024/06/11/being-a-dick/</a></p>]]></description>

    </item>
    <item>
      <title>Let&#39;s update the English translation of the Work Environment Act</title>
      <link>https://henry.catalinismith.com/2024/06/11/lets-update-the-english-translation-of-the-work-environment-act/</link>
      <guid>https://henry.catalinismith.com/2024/06/11/lets-update-the-english-translation-of-the-work-environment-act/</guid>
      <pubDate>Tue, 11 Jun 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote>
<p>This was originally posted at https://666a.se/news/lets-update-the-english-translation-of-the-work-environment-act
and has been migrated here since for long-term hosting.</p>
</blockquote>
<p>The original <a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349">English translation of the Work Environment Act on 666a</a> was sourced from the <a href="https://www.government.se/government-policy/labour-law-and-work-environment/19771160-work-environment-act-arbetsmiljolagen/">government-produced translation on government.se</a>. That's a translation of a decade-old version of the law, so until today there was a big red warning at the top of every page on 666a saying &quot;watch out, this is out of date&quot;. Not any more.</p>
<p>Over the past several months I've looked very carefully through every paragraph of every section of every chapter of this law. Most of it is the same as it was in the version the government translated back in 2014 or so. So for those, I've kept the original English translation and removed the warning.</p>
<p>In cases where the wording of a section of the law has changed, I've updated the Swedish text to match the latest version and removed the English translation entirely. The missing English text is replaced with links to GitHub issues where contributors (like you reading this, maybe) are invited to collaborate in public on updating the translations. Those pages are</p>
<ul>
<li><a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/chapter-1-section-2c">Chapter 1 Section 2c</a></li>
<li><a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/chapter-1-section-4">Chapter 1 Section 4</a></li>
<li><a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/chapter-2-section-8">Chapter 2 Section 8</a></li>
<li><a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/chapter-2-section-10">Chapter 2 Section 10</a></li>
<li><a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/chapter-6-section-17">Chapter 6 Section 17</a></li>
<li><a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/chapter-9-section-2">Chapter 9 Section 2</a></li>
<li><a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/chapter-9-section-5">Chapter 9 Section 5</a></li>
</ul>
<p>And in cases where completely new sections have been added, I've done a similar thing. Those are</p>
<ul>
<li><a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/chapter-3-section-8a">Chapter 3 Section 8a</a></li>
<li><a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/chapter-7-section-15">Chapter 7 Section 15</a></li>
<li><a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/chapter-7-section-16">Chapter 7 Section 16</a></li>
<li><a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/chapter-7-section-17">Chapter 7 Section 17</a></li>
<li><a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/chapter-7-section-18">Chapter 7 Section 18</a></li>
<li><a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/chapter-7-section-19">Chapter 7 Section 19</a></li>
<li><a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/chapter-7-section-20">Chapter 7 Section 20</a></li>
</ul>
<p>I don't think it's terribly complicated to translate these few words from Swedish to English. Especially not with so much reference material to work with. The vast majority of the vocabulary in a given paragraph of one of these laws overlaps massively with the vocabulary in the rest of the law.</p>
<p>What I do think is important and challenging, though, is for the translations to feel trustworthy. And for that I think it's important that the work of producing them should be methodical, accountable, and public. So that's why I've set it up as GitHub issues to start with.</p>
<p>In the long term, I'm interested in incorporating this translation process directly into 666a as a first-class citizen feature on equal footing with the email alerts and the labour laws. Requiring a GitHub account might exclude contributors for one thing. But more than that I think there's opportunity in the tooling itself. For example, one thing we'd produce would be a glossary of common legal words, and I think that could be a valuable resource in itself once completed.</p>
<p>But enough daydreaming. What's important right now is that the horrible red &quot;out of date&quot; warning is gone from <a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/">the Work Environment Act translation on here</a>. And there's now at least <em>somewhere</em> online where the work of updating these translations might actually happen. That's probably our strongest chance of advancing this form of integration at the moment, given the &quot;Ausländer Raus&quot; mentality that's currently so popular in Sweden's national parliament.</p>
]]></description>

    </item>
    <item>
      <title>We maxed out Sendgrid&#39;s free tier</title>
      <link>https://henry.catalinismith.com/2024/06/10/we-maxed-out-sendgrids-free-tier/</link>
      <guid>https://henry.catalinismith.com/2024/06/10/we-maxed-out-sendgrids-free-tier/</guid>
      <pubDate>Mon, 10 Jun 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote>
<p>This was originally posted at https://666a.se/news/we-maxed-out-sendgrids-free-tier
and has been migrated here since for long-term hosting.</p>
</blockquote>
<p>Last week, 666a's daily email volume exceeded the limits of Sendgrid's free tier. This caused a brief email alert service outage, as a number of email notifications were blocked from sending. This is now fixed: I've upgraded 666a's Sendgrid account to the $19.95/month billing tier and re-sent the email alerts that were initially affected by the issue.</p>
<p>This is a total lyxproblem, and a milestone I've been anticipating for a while. 666a's admin section has some email usage graphs which include daily sending statistics, so it's been possible to observe the upwards trend in the daily email volume.</p>
<p>Sendgrid performs some kind of background check on your account before they'll let you upgrade your billing tier and start sending larger volumes of email. I'd already completed this process in advance, months ago in fact, because the idea was to avoid an outage entirely and simply upgrade ahead of time shortly before hitting the limit.</p>
<p>I'd calculated that I had another month or two before it would become necessary to pay. What I hadn't counted on was that <a href="https://github.com/henrycatalinismith/666a.se/issues/46">my cleanup work</a> after the new Arbetsmiljöverket Webdiarium would be enough to tip us over the limit ahead of schedule. I try really hard to keep this thing running as reliably as possible and dropped the ball very slightly in this case.</p>
<p>The extra bill brings 666a's monthly running costs to somewhere in the 300kr range. It's roughly triple what it was before, but still manageable. This Sendgrid billing tier is overpowered for 666a's current scale, so in the near future I'll be looking into cheaper suppliers with smaller limits.</p>
<p>Later, it might be interesting to investigate the possibility of asking one or more of the central unions or umbrella organisations to help cover some of these costs. First though, I think let's get a whole first year of operation in the rear view mirror, and then see how we're looking in terms of statistics and numbers.</p>
<p>That kind of funding will probably become more achievable the more impressive the usage metrics sound. So if you want a more self-sustaining 666a then spreading the word about the service to your own personal network within the labour movement is probably a way you can help make it happen.</p>
]]></description>

    </item>
    <item>
      <title>About Arbetsmiljöverket&#39;s New Webdiarium</title>
      <link>https://henry.catalinismith.com/2024/06/06/about-arbetsmiljoverkets-new-webdiarium/</link>
      <guid>https://henry.catalinismith.com/2024/06/06/about-arbetsmiljoverkets-new-webdiarium/</guid>
      <pubDate>Thu, 06 Jun 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote>
<p>This was originally posted at https://666a.se/news/about-arbetsmiljoverkets-new-webdiarium
and has been migrated here since for long-term hosting.</p>
</blockquote>
<p>The Work Environment Authority <a href="https://www.av.se/nyheter/2024/ny-e-tjanst-for-att-soka-och-bestalla-handlingar/">shipped a completely new version of their web search tool last week</a>, which took 666a’s email alerts out of action for a week. It’s fixed now.</p>
<p>This was always my nightmare scenario for 666a. The Work Environment Authority’s search tool was already looking very old when I built 666a. There’s a particular type of “looks old” where you can almost hear the team who maintain it arguing internally for a rewrite.</p>
<p>My fear was that the new version, when it inevitably came, would require JavaScript. The old version served results as plain server-rendered HTML, which is important for a service like 666a because it means you can scrape them quite efficiently with just an HTTP request and an HTML parser. The economics of providing this kind of email alert service would look a lot worse if it became dependent on headless browser automation due to a JavaScript-heavy rewrite of the search tool.</p>
<p>Thankfully this hasn’t happened. And for that, I’m very grateful to whoever’s behind this rewrite. Seriously, thank you. <a href="https://www.av.se/om-oss/diarium-och-allmanna-handlingar/bestall-handlingar/">The new version</a> is lovely, by the way, so great job!!</p>
<p>Now that 666a’s an open source project, the full incident response process is public on GitHub. There’s even a project called “<a href="https://github.com/orgs/666ase/projects/6/views/1">Update the email alerts service for the Work Environment Authority's new web search tool</a>” where you can get an overview of each individual task if you’re curious. Always happy to onboard new contributors so if it sparks your curiosity do reach out!</p>
]]></description>

    </item>
    <item>
      <title>Generative AI is for the idea guys</title>
      <link>https://henry.catalinismith.com/2024/05/27/generative-ai-is-for-the-idea-guys/</link>
      <guid>https://henry.catalinismith.com/2024/05/27/generative-ai-is-for-the-idea-guys/</guid>
      <pubDate>Mon, 27 May 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Love the feeling of stumbling on a new blog and finding out it’s someone with a vast back catalogue of interesting writing. Got that with this one.</p>
<p>It’s a fun post. I think I agree with the main point it makes too. Bit concerned about the material damage being inflicted on peoples lives by this phenomenon though.</p>
<p>Thinking a lot about the old quote “The market can stay irrational longer than you can stay solvent” a lot lately. What do all these people do whose industries are going through a demand slump while the market experiments with not buying human labour? I don’t reckon their landlords will accept “the VC firm whose portfolio AI company is currently half-assing my old job has a post on their blog about UBI” as a rent payment.</p>
<p><a href="https://rachsmith.com/ai-is-for-the-idea-guys/">https://rachsmith.com/ai-is-for-the-idea-guys/</a></p>]]></description>

    </item>
    <item>
      <title>Using Simple Tools as a Radical Act of Independence</title>
      <link>https://henry.catalinismith.com/2024/05/13/using-simple-tools-as-a-radical-act-of-independence/</link>
      <guid>https://henry.catalinismith.com/2024/05/13/using-simple-tools-as-a-radical-act-of-independence/</guid>
      <pubDate>Mon, 13 May 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Stuff like this is why I still think there’s some magic left in tech.</p>
<blockquote>
<p>This is why the simplicity of HTML and CSS now feels like a radical act. To build a website with just these tools is a small protest against platform capitalism: a way to assert sustainability, independence, longevity.</p>
</blockquote>
<p><a href="https://www.untappedjournal.com/issues/issue-11/jarrett-fuller-building-with-simple-tools-longevity">https://www.untappedjournal.com/issues/issue-11/jarrett-fuller-building-with-simple-tools-longevity</a></p>]]></description>

    </item>
    <item>
      <title>Eurovision Tourists Go Home</title>
      <link>https://henry.catalinismith.com/2024/05/12/eurovision-week/</link>
      <guid>https://henry.catalinismith.com/2024/05/12/eurovision-week/</guid>
      <pubDate>Sun, 12 May 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2024/05/12/IMG_0137.jpg" alt="Graffiti mural reading &#39;Eurovision tourists GO HOME&#39; with messages of solidarity for Gaza in smaller text around it." /><p>Eurovision's a mess this year. The context everyone already knows is that the Israeli occupation is using it to artwash their genocide of the people of Gaza. There's more to it than that, though. If the UK was hosting it this year, for example, I doubt we'd be seeing such a high level of organised resistance.</p>
<p>You need to bear a few things in mind in order to fully understand Eurovision 2024. For one, Eurovision is a huge deal here in Sweden. I don't think any other country takes the competition as seriously as Sweden does. It's a part of the national identity in a way that's almost impossible for e.g. a British person to understand. I've heard the atmosphere was great least year when Liverpool hosted it. Now imagine The Beatles got their first big break at Eurovision and that 2023 was its 50th anniversary, and try to picture how much more intense the excitement would have been about hosting.</p>
<p>The local context is key too. Malmö is a special place, and it's difficult to imagine a worse choice of venue for this kind of artwashing event. This is a working class city with a strong political left wing. Like half the people living here are either immigrants themselves or have at least one immigrant parent too. Demographically, Malmö just doesn't have the critical mass of obedient white people necessary to successfully artwash the ethnic cleansing of Gaza.</p>
<p>The conflict between these opposing forces is intense. Projecting a 20th century and painstakingly white vision of Swedishness onto a place like Malmö at a time like this takes more than a couple of project managers and a marketing team.</p>
<figure>
  <img
    src="/2024/05/12/IMG_0157.jpg"
    alt="Evening scene featuring a large black armored truck parked in a residential area."
  />
  <figcaption>
    Paramilitary hardware deployed by Swedish police outside Folkets Park. Photo from <a href="https://www.instagram.com/p/C6riMQNixQR/?img_index=1">Emma-Lina Johansson's Instagram</a>.
  </figcaption>
</figure>
<p>Folkets Park has a special personal significance to me. The first time I visited Malmö, my wife was hoping to convince me to move here together. We spent a magical day riding around the city on bikes and hanging out. It also happened to be Eid, and when we came to Folkets Park there was a huge Eid festival there. I'd never experienced anything like that before, and something clicked for me about Malmö in that moment. There's still segregation here, but less than other places I've lived. I remember that day every time I visit Folkets Park.</p>
<p>For Eurovision, they've designated Folkets Park as the venue for the fan village. This seems to have required fortifying the place like the compound in Mad Max 2. There's vehicle barriers, snipers, cops, private security, SWAT, armored vehicles, automatic rifles… you name it, it's probably deployed somewhere in Folkets Park this week. I live a good couple of kilometres from the place and even I'm tired of the sound of the police helicopters constantly circling above it.</p>
<p>So it's a <em>bad</em> fucking vibe down there this week. Folkets Park is part of the soul of the city, and they've done it up as some kind of macabre apartheid-themed escape room. Everyone has an anecdote about the place, like <a href="https://www.instagram.com/p/C6mCVGWiMol/">the mother who got dragged out for trying to bring in sidewalk crayons for her kids</a> for example. Malmö city council has been <a href="https://www.instagram.com/p/C6mYb9wimNA/?img_index=1">working to silence dissent for weeks</a>, culminating in the <a href="https://www.svt.se/nyheter/lokalt/skane/har-rensar-malmo-bort-politisk-graffiti-infor-eurovision-olycklig-miss">censorship of a pro-Gaza mural on the graffiti walls outside Folkets Park</a>. Their claim to have removed it by accident is somewhat undermined by their hundreds of other acts of censorship over the past few weeks.</p>
<figure>
  <img
    src="/2024/05/12/IMG_0136.jpg"
    alt="Armed police guarding a clean up crew steam cleaning the area around a graffiti mural featuring a Eurovision logo and a Palestine flag."
  />
  <figcaption>
  </figcaption>
</figure>
<p>Despite how tense and unpleasant things are in Malmö this week, I've never been more proud to live here. The local Left Party bought in about 600 Palestine flags and had sold out the entire stock by the time I made it over there to get mine. They're everwhere, especially in Möllevången.</p>
<p>The protests against the ethnic cleaning of Gaza has been non-stop here for months, and it's only intensified with the arrival of Eurovision. The smallness of the town helps a lot too, I think. The first protest I went to, instead of social media, it was the low-flying police helicopters that notified me about it and showed me how to get there.</p>
<p>Today, we're off to what I think will be the <em>real</em> Eurovision this year, taking place at the culture stage at Mölleplatsen this evening.</p>
<figure>
  <img
    src="/2024/05/12/si.jpg"
    alt=""
  />
  <figcaption>
    <a href="https://www.instagram.com/p/C6j115Qi1Rv/?img_index=2">@stoppa.israel</a>
  </figcaption>
</figure>
<p>Liverpool hosted Eurovision last year, because Ukraine couldn't host it due to the war. Malmö's sending a much more profound and grassroots message of solidarity and peace this year. I know which one I prefer.</p>
]]></description>

    </item>
    <item>
      <title>Can&#39;t Buy Me Love</title>
      <link>https://henry.catalinismith.com/2024/05/11/cant-buy-me-love/</link>
      <guid>https://henry.catalinismith.com/2024/05/11/cant-buy-me-love/</guid>
      <pubDate>Sat, 11 May 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>It's tax declaration season in Sweden, and I found out I owe an additional 15000kr of income tax for 2023. Ouch! As far as I can tell, it's a side effect of how quickly I found work after <a href="/2023/06/09/spotify-sells-its-music-creation-tool-soundtrap-back-to-its-founders/">the redundancy last year</a>. I managed to start a new job while still in the old one's notice period, which meant I got two salaries for a little while, and I think that screwed up the preliminary tax deductions.</p>
<p>It got me thinking about Sweden and the UK again. The experience of paying tax in Sweden is really different than back home. Back home it was always this annoying thing you didn't really want to do. The British mindset on this issue is best summarised as “<a href="https://www.youtube.com/watch?v=4X48mxMPm9Q">You've got to pick a pocket or two</a>”. And I dunno what the hell they're spending the money on over there, but it's sure as hell not on parental pay or the posh kind of school buildings that don't <a href="https://www.theguardian.com/education/2023/aug/31/what-is-raac-reinforced-autoclaved-aerated-concrete-schools-buildings-england-close">randomly collapse</a>.</p>
<p>Here in Sweden there's this cool idea that you actually get something for the money. My childcare costs here are a fraction what they'd be back home. I'll notice a pothole in a road here and then a month later it might be fixed. On top of that, there's this very Swedish concept that <a href="https://www.youtube.com/watch?v=l_YMrHssFXo">paying taxes is an expression of patriotism</a>. I think this is really bloody clever. It's the first time the concept of patriotism even made sense to me as a force for good.</p>
<p>There's no doubt in my mind that I could get rich a lot easier in the UK. But every single day in Sweden my kids travel from their rent-controlled apartment to their state-funded preschool on protected, separated cycle lanes, and there's no amount of individual wealth that can recreate that lifestyle in the UK. Individualism can work miracles for the lucky few, but it's terrible at building whole societies.</p>
<p>It took me a few months of instalments to pay in the full 15000kr to my tax account. By coincidence, once it was done, the bosses over at Spotify <a href="https://www.svd.se/a/1MnOKe/spotifys-oro-hog-skatt-och-bristande-skolor">renewed their political campaign to cut taxes and deregulate the housing market</a> in order to attract more software engineers like me to Sweden. They've been <a href="https://medium.com/@SpotifySE/vi-m%C3%A5ste-agera-eller-bli-omsprungna-383bb0b808eb">pushing this since the day before I moved to Sweden</a>, and they've chosen this moment to revive the campaign.</p>
<p>This came as a surprise on  multiple levels. Obviously, a company whose headcount has been shrinking globally since 2022 isn't really arguing from a position of strength whenever they talk about competition for talent in <em>any</em> country. But more than that, it's an argument that contradicts the lived experience of many of us who've made the move to Sweden in particular.</p>
<p>When I accepted my Spotify offer, back in 2016, I had options. One of them was a startup in Barcelona. So I could have picked a lower capital gains tax and a deregulated rental market if I wanted, but I didn’t. I knew about these differences between the two countries, and I chose Sweden. Barcelona’s introduced rent control legislation since then too, by the way.</p>
<p>It's tempting to try to rationalise this somehow. Like sure, they hired <em>me</em>, but maybe they wanted to hire even <em>more</em> people? Thing is, the 2016 hypergrowth phase that I joined during suggests otherwise. Every day, you'd try to ask someone for directions to a meeting room and then find out they were even newer and more lost than you were. And more recently, the rationale for the layoffs was that the company had <em>overhired</em> during the pandemic. Spotify's bosses have been <a href="https://medium.com/@SpotifySE/vi-m%C3%A5ste-agera-eller-bli-omsprungna-383bb0b808eb">doomsaying about Sweden's tax policy for the better part of a decade</a> now, and the claims are simply not borne out by the results so far.</p>
<p>So what’s going on here? Personally, I think that once you get above a certain level of individual wealth and power, everything starts to look like business to you. It’s your <a href="https://sourcemaking.com/antipatterns/golden-hammer">golden hammer</a> after all, and it’s given you everything you ever dreamed of, so why shouldn’t it be able to fix society and save the planet too? Spotify's repeated attempts to justify a night work ban exemption on the basis of being &quot;socially important&quot; further suggests how grandiose the self-image is in the upper echelons.</p>
<p>My perspective is very different. I like business plenty. I daydream often of starting a company of my own when the kids are a little older. But I don’t see that we need to elevate the practice of business above all other fields of human endeavor, as if Spotify’s ability to poach a handful of machine learning engineers from Google is worth cutting jobs in healthcare and teaching across Sweden. And I think we should be especially cautious about the motives behind these kinds of statements from people whose personal fortunes would benefit from that kind of social change.</p>
<p>But these are powerful people. They have powerful friends too. Martin Lorentzon was even invited to the prime minister's birthday party this year. So they can do a lot of damage in pursuit of their next big <a href="https://www.di.se/digital/spotify-topparna-saljer-aktier-for-miljoner/">stock market payout</a>. And as long as Microsoft Excel shows them a green number instead of a red one, they might not even notice the negative impact on society at large.</p>
<p>Personally, I'm done simply shaking my fist at all this. The day after the 2022 elections, I made a decision to put all that energy into action instead. And one of the most impactful types of action we can engage in as software engineers is in creating the organising tools with which to build a bigger mass movement.  In Sweden, <a href="https://zetkin.org/">Zetkin Foundation</a> builds just that kind of tooling for the international left.</p>
<p>In September, Zetkin's hosting an <a href="https://www.facebook.com/events/1123080838945326">International Code Camp</a>. If you can fund your own travel to Malmö, they'll provide your accommodation and food, and together we can put our skills to work implementing our own vision for the future of society. Zetkin's a special thing, and I'd love to share it with more of the people I know. So have a think about coming down here on <a href="https://www.facebook.com/events/1123080838945326">September 27th</a>.</p>
]]></description>

    </item>
    <item>
      <title>The End Of The Free Tier — Smashing Magazine</title>
      <link>https://henry.catalinismith.com/2024/04/29/the-end-of-the-free-tier-smashing-magazine/</link>
      <guid>https://henry.catalinismith.com/2024/04/29/the-end-of-the-free-tier-smashing-magazine/</guid>
      <pubDate>Mon, 29 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p><a href="https://www.smashingmagazine.com/2024/04/end-of-free-tier/">https://www.smashingmagazine.com/2024/04/end-of-free-tier/</a></p>]]></description>

    </item>
    <item>
      <title>How I Read Rails Source Code</title>
      <link>https://henry.catalinismith.com/2024/04/28/how-i-read-rails-source-code/</link>
      <guid>https://henry.catalinismith.com/2024/04/28/how-i-read-rails-source-code/</guid>
      <pubDate>Sun, 28 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Worth bookmarking just for the <code>bundle open gem</code> tip. But also full of other little bits of wisdom.</p>
<blockquote>
<p>The obvious benefit of a test is to make sure that the code still works after making a change. However, another hidden benefit is that a test can help us get familiar with the codebase quickly. You can execute the code without launching the application in the browser or running the complete program.</p>
</blockquote>
<p>This is an underrated upside of having lots of unit tests and it's an onboarding hack I use a lot myself for learning new codebases quickly.</p>
<p><a href="https://www.writesoftwarewell.com/how-to-read-rails-codebase/">https://www.writesoftwarewell.com/how-to-read-rails-codebase/</a></p>]]></description>

    </item>
    <item>
      <title>The UX of UUIDs | Unkey</title>
      <link>https://henry.catalinismith.com/2024/04/27/the-ux-of-uuids-unkey/</link>
      <guid>https://henry.catalinismith.com/2024/04/27/the-ux-of-uuids-unkey/</guid>
      <pubDate>Sat, 27 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Love anything about UUIDs and ULIDs. The base58 stuff here was a new one on me.</p>
<blockquote>
<p>Base58 encoding uses a larger character set and avoids ambiguous characters, such as upper case I and lower case l resulting in shorter identifier strings without compromising readability.</p>
</blockquote>
<p>Genius. Love it.</p>
<p><a href="https://unkey.dev/blog/uuid-ux">https://unkey.dev/blog/uuid-ux</a></p>]]></description>

    </item>
    <item>
      <title>Learning to code with and without AI</title>
      <link>https://henry.catalinismith.com/2024/04/26/learning-to-code-with-and-without-ai/</link>
      <guid>https://henry.catalinismith.com/2024/04/26/learning-to-code-with-and-without-ai/</guid>
      <pubDate>Fri, 26 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>This paragraph really jumped out at me here.</p>
<blockquote>
<p>Additionally, students in the Codex group were more eager and excited to continue learning about programming, and felt much less stressed and discouraged during the training.</p>
</blockquote>
<p>There’s a lot to think about in the overall issue of the role of LLMs in education. This factor is easy to miss.</p>
<p>The hardest thing with learning to code is persevering through all the constant getting stuck. If you’re young, childless and have lots of time and computer access, it’s always been easier to overcome.</p>
<p>The equation’s changed I guess.</p>
<p><a href="https://austinhenley.com/blog/learningwithai.html">https://austinhenley.com/blog/learningwithai.html</a></p>]]></description>

    </item>
    <item>
      <title>
    DB Indexes Do Not Magically Compose
  </title>
      <link>https://henry.catalinismith.com/2024/04/25/db-indexes-do-not-magically-compose/</link>
      <guid>https://henry.catalinismith.com/2024/04/25/db-indexes-do-not-magically-compose/</guid>
      <pubDate>Thu, 25 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Sometimes you stumble on something that seems to be written to call you out personally somehow. This is one of those things. I have <em>definitely</em> been doing an awful lot of magical thinking when working with database indexes and this post is my intervention.</p>
<p><a href="https://rtpg.co/2024/04/14/db-indexes-do-not-magically-compose/">https://rtpg.co/2024/04/14/db-indexes-do-not-magically-compose/</a></p>]]></description>

    </item>
    <item>
      <title>You Have Power: Making Truth Social Comply With The AGPL</title>
      <link>https://henry.catalinismith.com/2024/04/24/you-have-power-making-truth-social-comply-with-the-agpl/</link>
      <guid>https://henry.catalinismith.com/2024/04/24/you-have-power-making-truth-social-comply-with-the-agpl/</guid>
      <pubDate>Wed, 24 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>The AGPL is so goddamn great. The <a href="https://github.com/boehs/truthsocial/commits/main/">commit log on GitHub</a> is an interesting read too.</p>
<p><a href="https://boehs.org/node/truth-social">https://boehs.org/node/truth-social</a></p>]]></description>

    </item>
    <item>
      <title>Old CSS, new CSS</title>
      <link>https://henry.catalinismith.com/2024/04/23/old-css-new-css/</link>
      <guid>https://henry.catalinismith.com/2024/04/23/old-css-new-css/</guid>
      <pubDate>Tue, 23 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Quite a comprehensive historical perspective. I remember this!</p>
<blockquote>
<p>My guess, then, is that the push for CSS 3 really began when Firefox took off and designers discovered -moz-border-radius. Suddenly, built-in rounded corners were available! No more fucking around in Photoshop; you only needed to write a single line! Practically overnight, everything everywhere had its corners filed down.</p>
</blockquote>
<p><a href="https://eev.ee/blog/2020/02/01/old-css-new-css/">https://eev.ee/blog/2020/02/01/old-css-new-css/</a></p>]]></description>

    </item>
    <item>
      <title>Building a bare-metal Kubernetes cluster on Raspberry Pi</title>
      <link>https://henry.catalinismith.com/2024/04/22/building-a-bare-metal-kubernetes-cluster-on-raspberry-pi/</link>
      <guid>https://henry.catalinismith.com/2024/04/22/building-a-bare-metal-kubernetes-cluster-on-raspberry-pi/</guid>
      <pubDate>Mon, 22 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>This is another Raspberry Pi cluster writeup that I sometimes read mournfully and wish I had the time &amp; resources to do this myself.</p>
<p><a href="https://anthonynsimon.com/blog/kubernetes-cluster-raspberry-pi/">https://anthonynsimon.com/blog/kubernetes-cluster-raspberry-pi/</a></p>]]></description>

    </item>
    <item>
      <title>Let&#39;s Build a 28-core Raspberry Pi Cluster!</title>
      <link>https://henry.catalinismith.com/2024/04/21/lets-build-a-28-core-raspberry-pi-cluster/</link>
      <guid>https://henry.catalinismith.com/2024/04/21/lets-build-a-28-core-raspberry-pi-cluster/</guid>
      <pubDate>Sun, 21 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Raspberry Pi clusters are one of my weird little obsessions. Want to start gathering up some of the examples I've seen, so here's the one.</p>
<p><a href="https://ikarus.sg/how-i-built-kraken/">https://ikarus.sg/how-i-built-kraken/</a></p>]]></description>

    </item>
    <item>
      <title>On Developer Fetishes</title>
      <link>https://henry.catalinismith.com/2024/04/20/on-developer-fetishes/</link>
      <guid>https://henry.catalinismith.com/2024/04/20/on-developer-fetishes/</guid>
      <pubDate>Sat, 20 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote>
<p>We use tmux. Mainly so we can see a big clock. We have a custom prompt. It tells us how many minutes until our JavaScript framework becomes obsolete.</p>
</blockquote>
<p>💀💀💀💀💀💀</p>
<p><a href="https://blog.gypsydave5.com/posts/2019/7/15/on-developer-fetishes/">https://blog.gypsydave5.com/posts/2019/7/15/on-developer-fetishes/</a></p>]]></description>

    </item>
    <item>
      <title>&lt;css-doodle /&gt;</title>
      <link>https://henry.catalinismith.com/2024/04/19/css-doodle/</link>
      <guid>https://henry.catalinismith.com/2024/04/19/css-doodle/</guid>
      <pubDate>Fri, 19 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Wish I would do more with this. Bookmarking it in case doing so helps me remember to make some time to do so.</p>
<p><a href="https://css-doodle.com/">https://css-doodle.com/</a></p>]]></description>

    </item>
    <item>
      <title>FREE FOR ALL: Looking back on Jane McAlevey&#39;s career of organizing</title>
      <link>https://henry.catalinismith.com/2024/04/18/free-for-all-looking-back-on-jane-mc-aleveys-career-of-organizing/</link>
      <guid>https://henry.catalinismith.com/2024/04/18/free-for-all-looking-back-on-jane-mc-aleveys-career-of-organizing/</guid>
      <pubDate>Thu, 18 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>The Ink have published an excerpt from an archived interview with Jane McAlevey as a mark of respect for everything's she's achieved. I hadn't read this before.</p>
<p><a href="https://the.ink/p/jane-mcalevey-labor-career-and-life">https://the.ink/p/jane-mcalevey-labor-career-and-life</a></p>]]></description>

    </item>
    <item>
      <title>Latest News</title>
      <link>https://henry.catalinismith.com/2024/04/17/latest-news/</link>
      <guid>https://henry.catalinismith.com/2024/04/17/latest-news/</guid>
      <pubDate>Wed, 17 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Heartbroken about this. Been expecting it for a while, but it makes no difference. Jane's work has had a profound influence on me. The world will be a darker place without her.</p>
<p><a href="https://janemcalevey.com/writing/latest-news/">https://janemcalevey.com/writing/latest-news/</a></p>]]></description>

    </item>
    <item>
      <title>The LLMentalist Effect: how chat-based Large Language Models rep…</title>
      <link>https://henry.catalinismith.com/2024/04/16/the-ll-mentalist-effect-how-chat-based-large-language-models-rep/</link>
      <guid>https://henry.catalinismith.com/2024/04/16/the-ll-mentalist-effect-how-chat-based-large-language-models-rep/</guid>
      <pubDate>Tue, 16 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Very compelling LLM critique based on a comparison with how psychics operate.</p>
<blockquote>
<p>Taken together, these flaws make LLMs look less like an information technology and more like a modern mechanisation of the psychic hotline.</p>
<p>Delegating your decision-making, ranking, assessment, strategising, analysis, or any other form of reasoning to a chatbot becomes the functional equivalent to phoning a psychic for advice.</p>
</blockquote>
<p>The impact of the technology is undeniable in my opinion but there’s also an alarming golden hammer syndrome associated with it and I think this is a good mental model for that.</p>
<p>Im finding there’s a strong correlation with how prominent the AI contribution to something is and the likelihood of it being crappy. I think it’s at its best when used as a very effective new form of autocomplete, and I personally see a lot of emperor’s new clothes hype about what it achieves when it takes centre stage.</p>
<p><a href="https://softwarecrisis.dev/letters/llmentalist/">https://softwarecrisis.dev/letters/llmentalist/</a></p>]]></description>

    </item>
    <item>
      <title>Stacking Triangles for Fun and Profit - OranLooney.com</title>
      <link>https://henry.catalinismith.com/2024/04/15/stacking-triangles-for-fun-and-profit-oran-looney-com/</link>
      <guid>https://henry.catalinismith.com/2024/04/15/stacking-triangles-for-fun-and-profit-oran-looney-com/</guid>
      <pubDate>Mon, 15 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Will definitely be referring back to the diagram in this with the two triangles stacked on top of each other and the rectangle around them. Amazing.</p>
<p><a href="https://www.oranlooney.com/post/angle-addition/">https://www.oranlooney.com/post/angle-addition/</a></p>]]></description>

    </item>
    <item>
      <title>ohmyzsh/plugins/git/git.plugin.zsh at master · ohmyzsh/ohmyzsh</title>
      <link>https://henry.catalinismith.com/2024/04/14/ohmyzsh-plugins-git-git-plugin-zsh-at-master-ohmyzsh-ohmyzsh/</link>
      <guid>https://henry.catalinismith.com/2024/04/14/ohmyzsh-plugins-git-git-plugin-zsh-at-master-ohmyzsh-ohmyzsh/</guid>
      <pubDate>Sun, 14 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>These are great. For most of my career I've used a bunch of personal git aliases like <code>git a</code> for add and <code>git s</code> for status. Only took a couple of weeks to unlearn them in favour of these.</p>
<p><a href="https://github.com/ohmyzsh/ohmyzsh/blob/master/plugins/git/git.plugin.zsh">https://github.com/ohmyzsh/ohmyzsh/blob/master/plugins/git/git.plugin.zsh</a></p>]]></description>

    </item>
    <item>
      <title>Engineer Showboating</title>
      <link>https://henry.catalinismith.com/2024/04/13/engineer-showboating/</link>
      <guid>https://henry.catalinismith.com/2024/04/13/engineer-showboating/</guid>
      <pubDate>Sat, 13 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>There’s more of me in this post than I’d prefer.</p>
<blockquote>
<p>The reason I learned vim wasn't because I felt particularly inhibited by my editing speed in graphical environments, it's because it conferred authority.</p>
</blockquote>
<p>There’s a truth to this. I do also definitely think there’s a <a href="https://henry.catalinismith.com/2024/03/30/vim-seven-habits-of-effective-text-editing/">magic in injecting meaning into the boring mechanical aspects of your work</a> but it’s undeniable that these tool choices are also at least partly social.</p>
<p><a href="https://morepablo.com/2018/03/engineer-showboating.html">https://morepablo.com/2018/03/engineer-showboating.html</a></p>]]></description>

    </item>
    <item>
      <title>Demystifying the Shadow DOM</title>
      <link>https://henry.catalinismith.com/2024/04/12/demystifying-the-shadow-dom/</link>
      <guid>https://henry.catalinismith.com/2024/04/12/demystifying-the-shadow-dom/</guid>
      <pubDate>Fri, 12 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>It’s time I looked into this again. Wonder if they made any progress on the accessibility problems yet.</p>
<p><a href="https://thetshaped.dev/p/demystifying-the-shadow-dom">https://thetshaped.dev/p/demystifying-the-shadow-dom</a></p>]]></description>

    </item>
    <item>
      <title>Copying files to a volume on Fly.io | tech, life &amp; music.</title>
      <link>https://henry.catalinismith.com/2024/04/10/copying-files-to-a-volume-on-fly-io-tech-life-and-music/</link>
      <guid>https://henry.catalinismith.com/2024/04/10/copying-files-to-a-volume-on-fly-io-tech-life-and-music/</guid>
      <pubDate>Wed, 10 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Nice one Richard, really useful write-up. Helped me do my first restore-from-backup practice run for 666a.</p>
<p><a href="https://www.richardneililagan.com/posts/copying-files-to-fly-io-volume/">https://www.richardneililagan.com/posts/copying-files-to-fly-io-volume/</a></p>]]></description>

    </item>
    <item>
      <title>I am not a supplier</title>
      <link>https://henry.catalinismith.com/2024/04/09/i-am-not-a-supplier/</link>
      <guid>https://henry.catalinismith.com/2024/04/09/i-am-not-a-supplier/</guid>
      <pubDate>Tue, 09 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Compelling argument!</p>
<blockquote>
<p>There is a small problem here. We are not suppliers. All the people writing and maintaining these projects, we are not suppliers. We do not have a business relationship with all these organisations. We are volunteers, writing code and putting it online under these Licenses. And yes, we put it online for people to use them. But we do not get anything from it.</p>
</blockquote>
<p><a href="https://www.softwaremaxims.com/blog/not-a-supplier">https://www.softwaremaxims.com/blog/not-a-supplier</a></p>]]></description>

    </item>
    <item>
      <title>Fuck trees, use tags | Garrit&#39;s Notes</title>
      <link>https://henry.catalinismith.com/2024/04/08/fuck-trees-use-tags-garrits-notes/</link>
      <guid>https://henry.catalinismith.com/2024/04/08/fuck-trees-use-tags-garrits-notes/</guid>
      <pubDate>Mon, 08 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>As a certified trees-disliker I loved to stumble on this. I don't even bother with tags though. Chronological order is plenty. My ~/Documents folder is 5GB and contains zero folders. Sort by date. It's plenty.</p>
<p><a href="https://garrit.xyz/posts/2024-04-02-fuck-trees-use-tags">https://garrit.xyz/posts/2024-04-02-fuck-trees-use-tags</a></p>]]></description>

    </item>
    <item>
      <title>Tracking SQLite Database Changes in Git | Garrit&#39;s Notes</title>
      <link>https://henry.catalinismith.com/2024/04/07/tracking-sq-lite-database-changes-in-git-garrits-notes/</link>
      <guid>https://henry.catalinismith.com/2024/04/07/tracking-sq-lite-database-changes-in-git-garrits-notes/</guid>
      <pubDate>Sun, 07 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Think I'm gonna use this for something.</p>
<p><a href="https://garrit.xyz/posts/2023-11-01-tracking-sqlite-database-changes-in-git">https://garrit.xyz/posts/2023-11-01-tracking-sqlite-database-changes-in-git</a></p>]]></description>

    </item>
    <item>
      <title>10 Years of Hacker News &quot;Ask HN: Who is hiring&quot; Trends</title>
      <link>https://henry.catalinismith.com/2024/04/06/10-years-of-hacker-news-ask-hn-who-is-hiring-trends/</link>
      <guid>https://henry.catalinismith.com/2024/04/06/10-years-of-hacker-news-ask-hn-who-is-hiring-trends/</guid>
      <pubDate>Sat, 06 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Surprised by some of this. The location stuff in particular.</p>
<blockquote>
<p>The remote work trends definitely have effected where jobs are located. The term &quot;San Francisco&quot; fell off a cliff in 2020. The term &quot;New York&quot; fell off too, but a little less. It looks like &quot;Europe&quot; and &quot;European&quot; have been steadily increasing over time.</p>
</blockquote>
<p><a href="https://customizedresumes.com/blog/hackernews-who-is-hiring-analysis">https://customizedresumes.com/blog/hackernews-who-is-hiring-analysis</a></p>]]></description>

    </item>
    <item>
      <title>Optimizing SQLite for servers</title>
      <link>https://henry.catalinismith.com/2024/04/05/optimizing-sq-lite-for-servers/</link>
      <guid>https://henry.catalinismith.com/2024/04/05/optimizing-sq-lite-for-servers/</guid>
      <pubDate>Fri, 05 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Will always bookmark a SQLite in production post. Learned something I didn't love in this one!</p>
<blockquote>
<p>SQLite doesn't keep statistics about its indexes, unlike PostgreSQL, so COUNT queries are slow, even when using a WHERE clause on an indexed field: SQLite has to scan for all the matching records.</p>
</blockquote>
<p>Bloody hell, SQLite.</p>
<p><a href="https://kerkour.com/sqlite-for-servers">https://kerkour.com/sqlite-for-servers</a></p>]]></description>

    </item>
    <item>
      <title>CSS Analytics - Project Wallace</title>
      <link>https://henry.catalinismith.com/2024/04/04/css-analytics-project-wallace/</link>
      <guid>https://henry.catalinismith.com/2024/04/04/css-analytics-project-wallace/</guid>
      <pubDate>Thu, 04 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Static analysis for CSS.</p>
<p><a href="https://www.projectwallace.com/">https://www.projectwallace.com/</a></p>]]></description>

    </item>
    <item>
      <title>Planet B</title>
      <link>https://henry.catalinismith.com/2024/04/03/planet-b/</link>
      <guid>https://henry.catalinismith.com/2024/04/03/planet-b/</guid>
      <pubDate>Wed, 03 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Enjoyed this a lot. Very fun mix of different media.</p>
<p><a href="https://www.planetbstory.com/">https://www.planetbstory.com/</a></p>]]></description>

    </item>
    <item>
      <title>Wargames: Global Thermonuclear War</title>
      <link>https://henry.catalinismith.com/2024/04/02/wargames-global-thermonuclear-war/</link>
      <guid>https://henry.catalinismith.com/2024/04/02/wargames-global-thermonuclear-war/</guid>
      <pubDate>Tue, 02 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<video
              controls
              preload="none"
              class="mt-4 max-h-screen w-full object-cover"
              poster="https://henry.catalinismith.com/2024/04/02/wargames@512x512.png"
            >
              <source
                src="https://henry.catalinismith.com/2024/04/02/wargames.mp4"
                type="video/mp4"
              />
            </video><p>This is a WebGL demo I built that shows a replay of some of the millions of missiles launched by players all around the world during the lifespan of <a href="/projects/wargames/">my global thermonuclear war game</a>. You can <a href="https://henry.catalinismith.com/wargames/">view the demo online</a> for yourself if you like. The <a href="/2024/03/26/ten-years-of-global-thermonuclear-war/">story of the game</a> and why it's no longer online is also available if you're curious about that.</p>
]]></description>

    </item>
    <item>
      <title>Moving Abroad (Pt.2)</title>
      <link>https://henry.catalinismith.com/2024/04/02/moving-abroad-pt-2/</link>
      <guid>https://henry.catalinismith.com/2024/04/02/moving-abroad-pt-2/</guid>
      <pubDate>Tue, 02 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Nice sentence here that perfectly captures early days immigrant alienation.</p>
<blockquote>
<p>My sensation after spending almost eight months here is that everyone is invited to a party that you are not.</p>
</blockquote>
<p><a href="https://blog.ignaciobrasca.com/opinion/2024/03/15/moving-abroad-2.html">https://blog.ignaciobrasca.com/opinion/2024/03/15/moving-abroad-2.html</a></p>]]></description>

    </item>
    <item>
      <title>Dead air on the incident call</title>
      <link>https://henry.catalinismith.com/2024/04/01/dead-air-on-the-incident-call/</link>
      <guid>https://henry.catalinismith.com/2024/04/01/dead-air-on-the-incident-call/</guid>
      <pubDate>Mon, 01 Apr 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Love anything about incident response. Fun post.</p>
<p><a href="https://blog.danslimmon.com/2024/03/18/dead-air-on-the-incident-call/">https://blog.danslimmon.com/2024/03/18/dead-air-on-the-incident-call/</a></p>]]></description>

    </item>
    <item>
      <title>Organizing Against Genocide - Collective Action in Tech</title>
      <link>https://henry.catalinismith.com/2024/03/31/organizing-against-genocide-collective-action-in-tech/</link>
      <guid>https://henry.catalinismith.com/2024/03/31/organizing-against-genocide-collective-action-in-tech/</guid>
      <pubDate>Sun, 31 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>The Collective Action In Tech folks are brilliant and this post is bursting with inspiration and wisdom.</p>
<p><a href="https://collectiveaction.tech/2024/organizing-against-genocide/">https://collectiveaction.tech/2024/organizing-against-genocide/</a></p>]]></description>

    </item>
    <item>
      <title>Vim: Seven habits of effective text editing</title>
      <link>https://henry.catalinismith.com/2024/03/30/vim-seven-habits-of-effective-text-editing/</link>
      <guid>https://henry.catalinismith.com/2024/03/30/vim-seven-habits-of-effective-text-editing/</guid>
      <pubDate>Sat, 30 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Rest in peace Bram lad. This article stuck with me from early on and had a big impact on my approch to the everyday labour of coding.</p>
<p>There's something magic in injecting meaning into the boring mechanical aspects of your work. Since reading this post I've lost count of how many times I've heard &quot;But the typing isn't the bottleneck&quot; from people who get less than half as much work done as I do.</p>
<p><a href="https://www.moolenaar.net/habits.html">https://www.moolenaar.net/habits.html</a></p>]]></description>

    </item>
    <item>
      <title>Fidinpamp</title>
      <link>https://henry.catalinismith.com/2024/03/29/fidinpamp/</link>
      <guid>https://henry.catalinismith.com/2024/03/29/fidinpamp/</guid>
      <pubDate>Fri, 29 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Love a good conspiracy theory. This one feels mundane enough to be credible.</p>
<p><a href="https://adactio.com/journal/21006">https://adactio.com/journal/21006</a></p>]]></description>

    </item>
    <item>
      <title>The one about the web developer job market</title>
      <link>https://henry.catalinismith.com/2024/03/28/the-one-about-the-web-developer-job-market/</link>
      <guid>https://henry.catalinismith.com/2024/03/28/the-one-about-the-web-developer-job-market/</guid>
      <pubDate>Thu, 28 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Very interesting perspective. Some of the pessimism is a little bit undermined by the software quality crisis stuff in my opinion (I simply don't buy that premise at all), but I found this an insightful piece all the same.</p>
<p>This paragraph in particular will stick with me I think.</p>
<blockquote>
<p>Historically, whenever management adopts an adversarial attitude towards labour, the only recourse labour has is to unionise. Collective action limits the abuses of management and unionised industries tend to be more stable. This might have been a detriment to the sharply growing tech industry of a decade ago (if you believe anti-union messaging, that is), but today we are facing being outright cut out of the success of the industry. Why should we care if unionising hypothetically dampens the overall growth of the industry? It definitely dampens the downturns and since we are being cut out of the upside anyway, we might as well take measures to increase our job security.</p>
</blockquote>
<p><a href="https://www.baldurbjarnason.com/2024/the-one-about-the-web-developer-job-market/">https://www.baldurbjarnason.com/2024/the-one-about-the-web-developer-job-market/</a></p>]]></description>

    </item>
    <item>
      <title>Ruby&#39;s Switch Statement is More Flexible Than You Thought</title>
      <link>https://henry.catalinismith.com/2024/03/27/rubys-switch-statement-is-more-flexible-than-you-thought/</link>
      <guid>https://henry.catalinismith.com/2024/03/27/rubys-switch-statement-is-more-flexible-than-you-thought/</guid>
      <pubDate>Wed, 27 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Back in 2012 when I hadn’t discovered Ruby yet I was <a href="/2012/03/17/switch-true/">already basically trying to make the languages I did know work like Ruby</a>.</p>
<p><a href="https://www.writesoftwarewell.com/ruby-switch-statement/">https://www.writesoftwarewell.com/ruby-switch-statement/</a></p>]]></description>

    </item>
    <item>
      <title>Why We&#39;re Dropping Basecamp</title>
      <link>https://henry.catalinismith.com/2024/03/26/why-we-re-dropping-basecamp/</link>
      <guid>https://henry.catalinismith.com/2024/03/26/why-we-re-dropping-basecamp/</guid>
      <pubDate>Tue, 26 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Enjoyed reading a critique like this from outside the software industry.</p>
<blockquote>
<p>When we enter into business with a company whose boss takes delight in the mass layoffs of tech workers because it disempowers those who might speak out against their company keeping a list of non-Anglophone names that some members of the team find hilarious, we have a decent sense of who we’re dealing with.</p>
</blockquote>
<p>Can’t help wondering if their much-publicized “cloud exit” cost-cutting exercise might have been related to lost business like this.</p>
<p><a href="https://blogs.library.duke.edu/blog/2023/11/30/why-were-dropping-basecamp/">https://blogs.library.duke.edu/blog/2023/11/30/why-were-dropping-basecamp/</a></p>]]></description>

    </item>
    <item>
      <title>10 Years Of Global Thermonuclear War</title>
      <link>https://henry.catalinismith.com/2024/03/26/ten-years-of-global-thermonuclear-war/</link>
      <guid>https://henry.catalinismith.com/2024/03/26/ten-years-of-global-thermonuclear-war/</guid>
      <pubDate>Tue, 26 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>It's coming up on the tenth anniversary of the release of my infamous global thermonuclear war game. It's been offline for longer than it was ever online now. I want to get the story of this thing and its general context in my life &amp; career written down and posted in time for the ten year milestone, so here it is.</p>
<h2>Origins</h2>
<p>I don't really remember how I ended up making this. My best guess is that I was probably pissing around with the Google Maps API one day and noticed it was possible to animate the <a href="https://developers.google.com/maps/documentation/javascript/examples/geometry-headings">geodesic lines</a> to look like live-updating nuclear warhead trajectories.</p>
<p>It was a challenging idea to turn into a game and I'd bought some whiteboards to help with things like that, so I did <a href="/2014/08/04/not-planning-any-nuclear-attacks/">some sketches</a> to help myself work through some of the concepts and vocabulary.</p>
<h2>The Landlord Visit</h2>
<p>The visit was a scheduled inspection. In the UK these are a common practice in the rental market. In Sweden they're not. Moving here changed my perspective on this aspect of the story very significantly. In the UK, people's reaction to this story was always “I can't believe they actually called the police”. In Sweden, it's “Wait, what do you mean ‘inspection’?”.</p>
<p>In <a href="/2023/04/27/is-spotify-ready-for-the-swedish-model/">one of my interviews last year</a> I talked a lot of shit about Thatcher, and how eye-opening it was to move to Sweden and realise what a dump the UK was in so many ways. This was one of the many realisations on that journey.</p>
<p>There's a lot of bloodthirst about deregulating the Swedish housing market these days. Here's hoping we manage to hang on to this one small dignity at least. We have a right to enjoy our lives without the surveillance of our private homes by the landlord class. Let's keep that.</p>
<h2>The Police Report</h2>
<p>The whole point of publishing the blog posts about the incident was to try to pre-empt a police intervention. I don't know if the blog posts going viral made any difference, but the police never came.</p>
<p>In hindsight, my fear response to the police report makes a lot of sense. The vast majority of my police interactions back home were negative. One time, I was walking to my local supermarket in Liverpool, and I was stopped and searched by police for no reason, under <a href="https://www.lancashire.police.uk/help-advice/stop-and-search/section-60-without-suspicion-searches/">section 60 of the Criminal Justice and Public Order Act 1994</a>.</p>
<p>That's another thing we don't have here in Sweden. Or didn't have, more like. Starting Thursday, Swedish police will have <a href="https://sverigesradio.se/artikel/regeringen-visitationszoner-infors-i-mars">comparable powers for suspicionless stop-and-search</a>. In <a href="https://www.arbetsvarlden.se/the-cba-struggle-at-spotify-traumatized-him/">an Arbetsvärlden interview I did recently</a>, I talked about Sweden becoming more like the UK. This would be a specific example of that.</p>
<h2>The Media Attention</h2>
<p>Someone on Twitter saw my blog posts and posted them on Hacker News. Someone at The Guardian saw the Hacker News post and contacted me for quotes for <a href="https://www.theguardian.com/technology/2014/aug/26/police-video-game-developer-global-thermonuclear-war-plans">a story about it</a>. Various publications picked up the story from there.</p>
<p>Gaming-related stories sometimes get reinterpreted with a particular agenda where it's about how the stupid “normies” don't understand the refined culture of the poor beleaguered gamer. I saw this happen a little bit with my story. Simultaneously, I saw it happen with Anita Sarkeesian.</p>
<p>The idea of benefiting from the same destructive social forces that I could see destroying other people's lives made me a little bit sick. I think I wrote <a href="/2014/12/26/gamings-persecution-complex/">Gaming's Persecution Complex</a> more or less just to ease my own conscience about that.</p>
<h2>The Big Launch</h2>
<p>The guy at The Guardian told me what day the story would go up, and that became my deadline. It was fun to have an externally imposed deadline. It helped me to cut my crap and ship the thing. The whole project had been stuck in a <a href="https://github.com/henrycatalinismith/wargames/commit/91ba8000dd3bf120a477eb6ffdd3e6999f4f7299">boring dead zone of aimless pissing about</a> before that.</p>
<p>Once the story was up and the game was online it was really exciting. I kept having to do all these seat-of-my-pants optimisations to keep everything running. The back end leaked memory and crashed from time to time. The front end slowed to a crawl with all the missiles and I had to do things like <a href="https://github.com/henrycatalinismith/wargames/commit/98f74759dad114ec3e68adabe09ad127e1f3145f">limit how many would even render</a>.</p>
<img src="/2024/03/26/map.jpg" alt="Google Maps screenshot covered in red dots and red geodesic lines" />
<p>When I shipped this game, the Google Maps API was free. Today, serving the amount of traffic I did back then would have cost me hundreds of dollars in Maps API fees. I don't know if I could have afforded it.</p>
<h2>The Long Tail</h2>
<p>The publicity lasted about a day, and the social media buzz about a week. The game itself retained users way better than it had any right to though. People kept coming back, and the thing stayed decently busy for a long while after the launch.</p>
<p>The traffic did eventually flatline. But then, something surprising happened: every so often the server would light up again with a surge of activity for a short while. Individual online communities would rediscover it and have a few days of fun playing it together before moving on.</p>
<p>After a while, it narrowed down to one community in particular who came back repeatedly. And unfortunately, that community was creeps from 4chan. I managed to track down the thread about it once based on the top referers list in Google Analytics, and they were all in there hooting and hollering about role playing their violent racist fantasies. I stopped renewing the domain name after that, and the game's been offline ever since.</p>
<h2>Career Impact</h2>
<p>It seemed like everyone in the Bristol tech scene in the mid 2010s had heard of the nuclear landlord police report story. It was a pretty good ice breaker at events for a while.</p>
<p>Attributing career progression to any individual piece of work is tricky. But I did move jobs not long after all this. And I think having such a well-known JavaScript side project helped a lot, because the new gig was my first ever JavaScript job, after a very PHP-centric career up to that point.</p>
<p>That job also happened to be MixRadio, which led me directly to Spotify when it later closed down. So I do reckon Global Thermonuclear War helped me escape the UK. Maybe not directly. But I doubt I'd be sat here in Malmö today writing this otherwise.</p>
<h2>The WebGL Demo Thing</h2>
<p>It never sat well with me having such an important career milestone project just be this offline app from the past. I wanted there to at least be <em>something</em> online to show people. Eventually the idea came to me that I could probably make some kind of watchable demo out of some of the old missile launch log data.</p>
<p>So now <a href="https://henry.catalinismith.com/wargames/">there's that</a>.</p>
<figure>
  <video controls src="/2024/04/02/wargames.mp4"></video>
  <figcaption>
    <a href="https://henry.catalinismith.com/wargames/">
      henry.catalinismith.com/wargames
    </a>
  </figcaption>
</figure>
<p>It'll do! It gives a nice sense of the scale of the popularity the game reached at its peak, and it preserves the sense of endlessness and pointlessness to the conflict. It was fun as hell to build, too. And it means there's <em>something</em>, not just an old readme.</p>
<h2>Krisen Eller Kriget</h2>
<p>Being in the news as a suspected nuclear terrorist leaves you with a lingering interest in the general topic. In 2018, the Swedish government sent everyone these little booklets about what to do if there's a war. I was a little bit obsessed with these. In them, they mention public fallout shelters.</p>
<p><img
  lang="sv"
  alt="Skyddsrum och andra skyddande utrymmen.
Skyddsrum ska ge skydd ät befolkningen i krig.
Alla skyddsrum och byggnader med skyddsrum är märkta med skylt. Du tillhör inget särskilt skyddsrum utan anänder det som finns närmast.
Ta reda pä var ditt närmaste skyddsrum finns där du bor och där du befinner dig dagtid. Vid flyglarm ska du omedelbart bege dig till ett skyddsrum eller i nödfall till annat skyddande utrymme som källare, tunnel eller tunnelbanestation."
  src="/2024/03/26/skyddsrum.jpg"
/></p>
<p>Sweden has <a href="https://www.thelocal.se/20171101/why-sweden-is-home-to-65000-fallout-shelters">65000 of these fallout shelters</a>. Within a one block radius of my home, there are four. Within a one kilometre radius, there are about 100. Remember what I said about life in Sweden making me realise what a dump the UK was? Yeah, they don't have anything like this back home. What kind of dickhead country builds one of the world's largest nuclear arsenals but nowhere to shelter from its effects?</p>
<p>Anyway, I read a really captivating alternate history timeline last year called <a href="https://www.alternatehistory.com/wiki/doku.php?id=timelines:protect_and_survive">Protect &amp; Survive</a>. It's about the UK in the aftermath of a global thermonuclear war in 1984, and it's fucking horrible. Towards the end, the few survivors establish radio contact with Sweden, who are doing comparatively well, I guess partly due to the neutrality making us less of a target, and partly due to all these public fallout shelters.</p>
<p>Been reflecting on that aspect of the story a fair bit recently. Sweden's NATO membership got approved two weeks ago, and I found myself living in an EU &amp; NATO member state again, just like back in 2014. And I guess the fallout shelters here are more directly valuable to me personally than the UK's nuclear warheads ever were, so that's a solid upgrade. But wasn't the only winning move not to play? Definitely was in my version of the game at least.</p>
]]></description>

    </item>
    <item>
      <title>Ask HN: I&#39;m a software engineer going blind, how should I prepare?</title>
      <link>https://henry.catalinismith.com/2024/03/25/ask-hn-i-m-a-software-engineer-going-blind-how-should-i-prepare/</link>
      <guid>https://henry.catalinismith.com/2024/03/25/ask-hn-i-m-a-software-engineer-going-blind-how-should-i-prepare/</guid>
      <pubDate>Mon, 25 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Fascinating discussion initiated by an engineer preparing for vision loss resulting from an Usher syndrome diagnosis. This reply has stuck with me:</p>
<blockquote>
<p>You'll become the fastest and most proficient proof reader on your team. Typos will be easily spotted as they just won't &quot;sound right&quot;. It will be like listening to a familiar song and then hitting an off note in the melody. And this includes code. Also, because code is no longer represented visually as blocks, you'll find you're building an increasingly detailed memory model of your code. Sighted people do this, too, but they tend to visualize in their mind. When you abandon this two dimensional representation, your non-visual mental map suffers no spatial limits. You'll be amazed how good your memory will get without the crutch of sight. Good luck.</p>
</blockquote>
<p><a href="https://news.ycombinator.com/item?id=22918980">https://news.ycombinator.com/item?id=22918980</a></p>]]></description>

    </item>
    <item>
      <title>WebAIM: History of the browser user-agent string</title>
      <link>https://henry.catalinismith.com/2024/03/24/web-aim-history-of-the-browser-user-agent-string/</link>
      <guid>https://henry.catalinismith.com/2024/03/24/web-aim-history-of-the-browser-user-agent-string/</guid>
      <pubDate>Sun, 24 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote>
<p>In the beginning there was NCSA Mosaic, and Mosaic called itself NCSA_Mosaic/2.0 (Windows 3.1), and Mosaic displayed pictures along with text, and there was much rejoicing.</p>
</blockquote>
<p>Adore this post.</p>
<p><a href="https://webaim.org/blog/user-agent-string-history/">https://webaim.org/blog/user-agent-string-history/</a></p>]]></description>

    </item>
    <item>
      <title>What if everybody did everything right?</title>
      <link>https://henry.catalinismith.com/2024/03/23/what-if-everybody-did-everything-right/</link>
      <guid>https://henry.catalinismith.com/2024/03/23/what-if-everybody-did-everything-right/</guid>
      <pubDate>Sat, 23 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Follow-ups on incidents are one of my fav topics and this is a very cool alternative perspective to bring to them.</p>
<p><a href="https://surfingcomplexity.blog/2024/02/17/what-if-everybody-did-everything-right/">https://surfingcomplexity.blog/2024/02/17/what-if-everybody-did-everything-right/</a></p>]]></description>

    </item>
    <item>
      <title>Tailbone: Disk 2</title>
      <link>https://henry.catalinismith.com/2024/03/23/tailbone-disk-2/</link>
      <guid>https://henry.catalinismith.com/2024/03/23/tailbone-disk-2/</guid>
      <pubDate>Sat, 23 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<video
              controls
              preload="none"
              class="mt-4 max-h-screen w-full object-cover"
              poster="https://henry.catalinismith.com/2024/03/23/tailbone-disk-2@512x512.png"
            >
              <source
                src="https://henry.catalinismith.com/2024/03/23/tailbone-disk-2@512x512.mp4"
                type="video/mp4"
              />
            </video><p><a href="https://henry.catalinismith.com/tailbone/disk2">Tailbone: Disk 2</a> is a harder version of the <a href="https://henry.catalinismith.com/tailbone/">original Tailbone</a>. In the original version, the pace starts off nice and easy-going, and the difficulty only ramps up properly after you complete the first 10 – 15 combos. In Disk 2 the difficulty is basically maxed out immediately.</p>
<p>I made this for myself, because I got bored of playing the easy parts. The harder levels are the stuff I think is the most fun to play in Tailbone, and I wanted a way to just skip straight to that. I don't actually know if anyone else will enjoy this or even find it playable at all. It's definitely not going to be a good way to <a href="/2022/10/25/tailbone-instructions/">learn how to play Tailbone from scratch</a>.</p>
<p><a href="https://henry.catalinismith.com/tailbone/disk2">Give it a try</a> anyway if you're curious!</p>
]]></description>

    </item>
    <item>
      <title>Picotron by Lexaloffle</title>
      <link>https://henry.catalinismith.com/2024/03/22/picotron-by-lexaloffle/</link>
      <guid>https://henry.catalinismith.com/2024/03/22/picotron-by-lexaloffle/</guid>
      <pubDate>Fri, 22 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Ridiculously excited about this. From a quick glance at <a href="https://www.lexaloffle.com/bbs/?cat=8">the Picotron BBS</a>, the community is already in full flow porting coreutils etc to this.</p>
<p><a href="https://www.lexaloffle.com/picotron.php">https://www.lexaloffle.com/picotron.php</a></p>]]></description>

    </item>
    <item>
      <title>Text analysis of Trump&#39;s tweets confirms he writes only the (angrier) Android half</title>
      <link>https://henry.catalinismith.com/2024/03/21/text-analysis-of-trumps-tweets-confirms-he-writes-only-the-angrier-android-half/</link>
      <guid>https://henry.catalinismith.com/2024/03/21/text-analysis-of-trumps-tweets-confirms-he-writes-only-the-angrier-android-half/</guid>
      <pubDate>Thu, 21 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Absolute classic piece of data journalism.</p>
<blockquote>
<p>Words like &quot;join&quot; and &quot;tomorrow&quot;, and times like &quot;7pm&quot;, also came only from the iPhone. The iPhone is clearly responsible for event announcements like this one (&quot;Join me in Houston, Texas tomorrow night at 7pm!&quot;)</p>
<p>A lot of &quot;emotionally charged&quot; words, like &quot;badly&quot;, &quot;crazy&quot;, &quot;weak&quot;, and &quot;dumb&quot;, were overwhelmingly more common on Android. This supports the original hypothesis that this is the &quot;angrier&quot; or more hyperbolic account.</p>
</blockquote>
<p><a href="http://varianceexplained.org/r/trump-tweets/">http://varianceexplained.org/r/trump-tweets/</a></p>]]></description>

    </item>
    <item>
      <title>timelines:protect_and_survive [alternatehistory.com wiki]</title>
      <link>https://henry.catalinismith.com/2024/03/20/timelines-protect-and-survive-alternatehistory-com-wiki/</link>
      <guid>https://henry.catalinismith.com/2024/03/20/timelines-protect-and-survive-alternatehistory-com-wiki/</guid>
      <pubDate>Wed, 20 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Haunting alternative history fiction about a nuclear war in the 1980s.</p>
<blockquote>
<p>The Controller was trying to avoid the Food Officer as much as possible - yes, he was a bit abrasive, but who wasn't after a week in a shoebox? The more pressing reason was the fact that both men had signed the order denying food stocks to Category 2 and 3 survivors (i.e those who can't work). The Controller had almost been able to keep it together after telling the Food Officer, and the rest of the bunker, that 'babies can't work'. The words had echoed in the silence yesterday and they echoed in his head every single second today.</p>
</blockquote>
<p><a href="https://www.alternatehistory.com/wiki/doku.php?id=timelines:protect_and_survive">https://www.alternatehistory.com/wiki/doku.php?id=timelines:protect_and_survive</a></p>]]></description>

    </item>
    <item>
      <title>Sensible Firefox Setup</title>
      <link>https://henry.catalinismith.com/2024/03/19/sensible-firefox-setup/</link>
      <guid>https://henry.catalinismith.com/2024/03/19/sensible-firefox-setup/</guid>
      <pubDate>Tue, 19 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>There's a few things in here I'm installing right away and a few I'm bookmarking this so that I can revisit it later to try them out when I'm less busy. Embarassed I didn't already know about the <em>I still don't care about cookies</em> extension.</p>
<p><a href="https://vermaden.wordpress.com/2024/03/18/sensible-firefox-setup/">https://vermaden.wordpress.com/2024/03/18/sensible-firefox-setup/</a></p>]]></description>

    </item>
    <item>
      <title>Oracle Database 12.2. It is close to 25 million lines of C code</title>
      <link>https://henry.catalinismith.com/2024/03/18/oracle-database-25-million-lines-of-c/</link>
      <guid>https://henry.catalinismith.com/2024/03/18/oracle-database-25-million-lines-of-c/</guid>
      <pubDate>Mon, 18 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Interesting old story about the Oracle source code.</p>
<p><a href="https://news.ycombinator.com/item?id=18442941">https://news.ycombinator.com/item?id=18442941</a></p>]]></description>

    </item>
    <item>
      <title>Stabilizing Zetkin&#39;s Playwright Tests</title>
      <link>https://henry.catalinismith.com/2024/03/17/stabilizing-zetkins-playwright-tests/</link>
      <guid>https://henry.catalinismith.com/2024/03/17/stabilizing-zetkins-playwright-tests/</guid>
      <pubDate>Sun, 17 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>I recently did <a href="https://github.com/zetkin/app.zetkin.org/pull/1807">some work addressing the flakiness of some end-to-end playwright tests</a> for Zetkin Foundation. This class of reliability issue is something I've seen affect almost every team I've worked with throughout my career. It's hard, but for once I think we actually secured a win with this PR. It's a bloody <em>messy</em> PR though. So let's zoom in on what we actually changed and why it helped.</p>
<h2>Works On My Machine</h2>
<p>A typical playwright test for a web app feature involves a series of button clicks leading to an assertion at the end. It's common for each UI event to depend on the ones before it. For example, a click on a menu item depends on the previous click which opens the menu. We can distil this down to an example like the one below, in which we click three buttons in turn and then see a status message.</p>
<p><img src="/2024/03/17/fast.gif" alt="Animation in which a button labeled “one” is clicked, which reveals a button labeled “two”. When “two” is clicked it reveals button “three”. When “three” is clicked a message appears that reads “success”. In each case, the effect of the button presses is immediate."></p>
<p>If you've done any end-to-end testing before, you can probably imagine how you'd automate a test for that. You'd have three automated clicks and then at the end you'd assert the presence of the <code>success</code> text.</p>
<pre class="javascript">await page.click("text=one");
await page.click("text=two");
await page.click("text=three");
expect(await page.locator("text=success").isVisible()).toBeTruthy();
</pre>
<p>This would be a perfectly normal thing to write, and you'd see it working just fine when you tested it locally too. So you'd commit, push and it'd probably get merged without comment as well.</p>
<h2>Results May Vary</h2>
<p>Developer laptops tend to have fairly stable performance, whereas CI environments are under much heavier and more variable system load. Let's take our example page from before and simulate running it under shitty conditions where each click takes an entire second to process.</p>
<p><img src="/2024/03/17/slow.gif" alt="Animation in which a button labeled “one” is clicked, which reveals a button labeled “two”. When “two” is clicked it reveals button “three”. When “three” is clicked a message appears that reads “success”. In each case, the button presses take one second to process."></p>
<p>The test fails when things slow down this much. Playwright tries to find an element matching the <code>text=success</code> selector at the end and gives up when it doesn't find it immediately after clicking on button three.</p>
<p>That might happen to a random end-to-end test in a CI build for an unrelated code change you're trying to merge. That's when you say “God damn these stupid fucking flaky tests” and you retrigger the build, hoping for a better outcome next time. And if you get a green build on the retry, it's probably because system load is lower on the cloud instance your second attempt runs on.</p>
<h2>Wait For It</h2>
<p>The trick is in replacing that final <code>isVisible()</code> assertion with something that doesn't fail if the <code>success</code> text takes a moment to appear. Here's an example using Playwright's <a href="https://playwright.dev/docs/api/class-locator#locator-wait-for"><code>waitFor</code></a> method.</p>
<pre class="javascript">const status = page.locator("#status");
await status.waitFor({ state: "visible" });
expect(await status.textContent()).toBe("success");
</pre>
<p>The first line there doesn't do much. It just instantiates a <a href="https://playwright.dev/docs/api/class-locator">locator</a> object for the status text. The second line tells Playwright to chill for a second until the status appears. Then finally, line three asserts that its text content is <code>success</code>.</p>
<p>Whereas the code in the original example will randomly fail depending on system load at runtime, this approach is robust enough to pass reliably even if it's running on a struggling, overworked CI server.</p>
<h2>Locators For Everything</h2>
<p>It goes beyond just the assertion at the end, actually. The first thing <a href="https://playwright.dev/docs/api/class-page#page-click">Playwright's documentation for <code>page.click()</code></a> says about it is not to use it.</p>
<p><img src="/2024/03/17/click.png" alt="Discouraged. Use locator-based locator.click() instead. Read more about locators."></p>
<p><a href="https://playwright.dev/docs/locators">Playwright's docs for locators</a> describe them as “the central piece of Playwright's auto-waiting and retry-ability”. Nice! Sounds like a great all-purpose flakiness vaccine to me.</p>
<p>For our example test, that means that it ends up looking like this.</p>
<pre class="">const one = page.locator("text=one");
const two = page.locator("text=two");
const three = page.locator("text=three");
const status = page.locator("#status");

await one.click();
await two.click();
await three.click();

await status.waitFor({ state: "visible" });
expect(await status.textContent()).toBe("success");
</pre>
<p>That's about as good as I understand what I did in <a href="https://github.com/zetkin/app.zetkin.org/pull/1807">the Zetkin PR</a>. I always resort to a bit of guesswork and superstitious coding when dealing with tricky stuff like this, and this time was no different. We managed to catch and remove <a href="https://github.com/zetkin/app.zetkin.org/pull/1807#discussion_r1503611724">some of it</a> but who knows if that was all of it.</p>
<p>Was every <code>waitFor()</code> call I added 100% necessary? Honestly not sure. I sure as hell didn't replace all the <code>page.click()</code> calls with locators either. Maybe I should have? IDK, it's tricky cos that would have <em>felt</em> superstitious unless I could reliably reproduce a test failure that was fixed by swapping to locators, but OTOH the very nature of this problem is that you can't reliably reproduce them. This stuff is bloody hard, but at least we scored ourselves a clear win here.</p>
]]></description>

    </item>
    <item>
      <title>lua-users wiki: Lua Power Patches</title>
      <link>https://henry.catalinismith.com/2024/03/17/lua-users-wiki-lua-power-patches/</link>
      <guid>https://henry.catalinismith.com/2024/03/17/lua-users-wiki-lua-power-patches/</guid>
      <pubDate>Sun, 17 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>These patches are kind of my fav thing about Lua. Like the fact that this thing exists in this form where it can have these little patches in this way.</p>
<p><a href="http://lua-users.org/wiki/LuaPowerPatches">http://lua-users.org/wiki/LuaPowerPatches</a></p>]]></description>

    </item>
    <item>
      <title>LinuxCzar: My Philosophy On Alerting</title>
      <link>https://henry.catalinismith.com/2024/03/16/linux-czar-my-philosophy-on-alerting/</link>
      <guid>https://henry.catalinismith.com/2024/03/16/linux-czar-my-philosophy-on-alerting/</guid>
      <pubDate>Sat, 16 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Fantastic post. Alerting is such a delicate balance. You start to involuntarily develop Opinions about it once you've been paged in the night a few times due to some bullshit like Googlebot indexing the site and tipping CPU usage just above the alerting threshold. Or for downtime on an unimportant page that could realistically have stayed down until morning without consequence.</p>
<p><a href="https://linuxczar.net/sysadmin/philosophy-on-alerting/">https://linuxczar.net/sysadmin/philosophy-on-alerting/</a></p>]]></description>

    </item>
    <item>
      <title>They&#39;re Made out of Meat</title>
      <link>https://henry.catalinismith.com/2024/03/15/they-re-made-out-of-meat/</link>
      <guid>https://henry.catalinismith.com/2024/03/15/they-re-made-out-of-meat/</guid>
      <pubDate>Fri, 15 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>I'm always sending people this. Permanently stuck in my head since whenever I first read it.</p>
<p><a href="https://www.mit.edu/people/dpolicar/writing/prose/text/thinkingMeat.html">https://www.mit.edu/people/dpolicar/writing/prose/text/thinkingMeat.html</a></p>]]></description>

    </item>
    <item>
      <title>The End Of My Gatsby Journey — Smashing Magazine</title>
      <link>https://henry.catalinismith.com/2024/03/14/the-end-of-my-gatsby-journey-smashing-magazine/</link>
      <guid>https://henry.catalinismith.com/2024/03/14/the-end-of-my-gatsby-journey-smashing-magazine/</guid>
      <pubDate>Thu, 14 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Gatsby's decline makes me sad because I have so many happy memories of working with it. I hope they figure out a way forward.</p>
<p><a href="https://smashingmagazine.com/2024/03/end-of-gatsby-journey/">https://smashingmagazine.com/2024/03/end-of-gatsby-journey/</a></p>]]></description>

    </item>
    <item>
      <title>Churn</title>
      <link>https://henry.catalinismith.com/2024/03/13/churn/</link>
      <guid>https://henry.catalinismith.com/2024/03/13/churn/</guid>
      <pubDate>Wed, 13 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>A surprising statistic about Hotwire's bundle size, a fun what-if scenario about React, a refreshing sociotechnical perspective on why the frontend JS ecosystem looks the way it does, and some good old fashioned cautious optimism about web components. Lovely post.</p>
<p><a href="https://johan.hal.se/wrote/2024/03/05/churn/">https://johan.hal.se/wrote/2024/03/05/churn/</a></p>]]></description>

    </item>
    <item>
      <title>The quiet, pervasive devaluation of frontend</title>
      <link>https://henry.catalinismith.com/2024/03/12/the-quiet-pervasive-devaluation-of-frontend/</link>
      <guid>https://henry.catalinismith.com/2024/03/12/the-quiet-pervasive-devaluation-of-frontend/</guid>
      <pubDate>Tue, 12 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Nothing but stone cold facts here.</p>
<blockquote>
<p>Design itself is typically conflated with frontend, and design has long been colored as a “feminine” pursuit. The deep technical challenges of frontend functionality are often mistakenly regarded more as a sort of painting with pixels; making things look right, rather than work correctly.</p>
<p>Incidentally, folks involved in UI and design tend to be hit harder in layoffs than their peers, who are perceived as “more technical.” Women, too, are often laid off in greater numbers than men. So it’s hard not to see frontend devaluation and sexism as intertwined. (If they’re even separate things at all, that is.)</p>
</blockquote>
<p><a href="https://joshcollinsworth.com/blog/devaluing-frontend">https://joshcollinsworth.com/blog/devaluing-frontend</a></p>]]></description>

    </item>
    <item>
      <title>Goodbye, Clean Code</title>
      <link>https://henry.catalinismith.com/2024/03/11/goodbye-clean-code/</link>
      <guid>https://henry.catalinismith.com/2024/03/11/goodbye-clean-code/</guid>
      <pubDate>Mon, 11 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>I read Clean Code myself sometime in the early 2010s. It kicked off a years-long phase of obsessing over things like DRY and refactoring methods into shorter and shorter pieces.</p>
<p>It took until around 2017 for it to wear off and it harmed my career along the way. I was always very grateful to Dan for writing this post. It explains the problem with Clean Code so clearly, and his reputation gives the words a lot of power.</p>
<p>The phenomemon of Clean Code was a net negative for the software industry and the cleanup work is still ongoing.</p>
<p><a href="https://overreacted.io/goodbye-clean-code/">https://overreacted.io/goodbye-clean-code/</a></p>]]></description>

    </item>
    <item>
      <title>I Love Ruby</title>
      <link>https://henry.catalinismith.com/2024/03/10/i-love-ruby/</link>
      <guid>https://henry.catalinismith.com/2024/03/10/i-love-ruby/</guid>
      <pubDate>Sun, 10 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>I love Ruby, and I love this post. Very happy 666a returned this language and its community to my everyday life.</p>
<p><a href="https://eliseshaffer.com/2023/12/18/i-love-ruby/">https://eliseshaffer.com/2023/12/18/i-love-ruby/</a></p>]]></description>

    </item>
    <item>
      <title>Fixing 666a (again)</title>
      <link>https://henry.catalinismith.com/2024/03/09/fixing-666a-again/</link>
      <guid>https://henry.catalinismith.com/2024/03/09/fixing-666a-again/</guid>
      <pubDate>Sat, 09 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>So apparently <a href="https://666a.se/">666a</a> is still capable of surprising me. A few months ago I wrote about the work I'd done to address an issue I've been calling “<a href="/2024/01/09/operating-666a/">document lag</a>”. Since then, I've continued to keep a constant eye on the system's reliability. This week, something new cropped up.</p>
<p>The investigation began when I did my usual round of manual checks of Arbetsmiljöverket's public archive, comparing the canonical data there to the notifications I've received recently from 666a. There was a document listed that I hadn't received an email about, which is a worst case scenario for me. The whole point of the service is for that not to happen, so it's my most feared type of bug and basically a priority zero issue. Now that it's fixed, I wanted to write up what was wrong and how I resolved it.</p>
<h2>The old system</h2>
<p>At the core of 666a was this one cron job called the &quot;day job&quot;. When it started, the first thing it did was to check how many documents it saw last time it ran. Then it'd add one to that number and start looking for more.</p>
<pre class="mermaid bg-white p-0">graph TD;&#10;A[DayJob] --&gt;|Start| B(n = how many documents we&#39;ve previously found for this day);&#10;B --&gt; C(Try to fetch more documents starting at n + 1);&#10;C --&gt; D{Were there any?}&#10;D --&gt;|Yes| B;&#10;D --&gt;|No| E[Done];&#10;</pre>
<p>This approach depended on the assumption that new documents would always appear at the end. I'd had my suspicions about this assumption, but it had always help up. Until last week anyway.</p>
<h2>Diagnosis</h2>
<p>Sometime around Tuesday I noticed <a href="https://www.av.se/om-oss/sok-i-arbetsmiljoverkets-diarium/?id=2024/006453-5">a document</a> had been filed backdated to last Friday but never got picked up by 666a. When I checked the data for Friday, I found the old “Day Job” was up to <a href="https://www.av.se/om-oss/sok-i-arbetsmiljoverkets-diarium/?page=95&amp;sortDirection=Desc&amp;sortOrder=Dokumentdatum&amp;OnlyActive=False&amp;FromDate=2024-03-01&amp;ToDate=2024-03-01&amp;ShowToolbar=True">page 95 of the results</a>.</p>
<p>Thing is, the missing document wasn't on page 95. It wasn't on any of the pages after it either. I took a deep breath and began clicking back through the previous pages one by one. Eventually I came to <a href="https://www.av.se/om-oss/sok-i-arbetsmiljoverkets-diarium/?page=95&amp;sortDirection=Desc&amp;sortOrder=Dokumentdatum&amp;OnlyActive=False&amp;FromDate=2024-03-01&amp;ToDate=2024-03-01&amp;ShowToolbar=True">page 84</a>, and there it was.</p>
<p><img src="/2024/03/09/diarium-p84.png" alt="Screenshot of the Work Environment Authority's search tool showing results corresponding to the page 84 URL linked earlier."></p>
<h2>Implications</h2>
<p>This design flaw meant that 666a would miss something in the region of 5% of all documents filed. That's a bad enough number that there's no ifs or buts about whether it needed fixing or how soon. This was a &quot;fix-it-today&quot; job.</p>
<p>Fix-it-today jobs are tricky these days. We've got a lot going on at home. I have about 30 minutes tops in a given day for something like this. So not only did I need an immediate fix for a design-level defect, but also it needed to be a small code change that would be quick to implement and YOLO into production.</p>
<h2>The fix</h2>
<p>By the time the kids were in bed the quick fix had occurred to me: empty the search result cache for each day before updating it. This leads to the exact same algorithm as before, except with a &quot;delete&quot; step added at the very beginning.</p>
<pre class="mermaid bg-white p-0">graph TD;&#10;A[DayJob] --&gt;|Start| F(Clear cache for this day)&#10;F --&gt; B(n = how many documents we&#39;ve previously found for this day);&#10;B --&gt; C(Try to fetch more documents starting at n + 1);&#10;C --&gt; D{Were there any?}&#10;D --&gt;|Yes| B;&#10;D --&gt;|No| E[Done];&#10;</pre>
<p>That forces the job to re-fetch everything from scratch, beginning at page 1. It means nothing gets missed. And importantly, it also made the fix easy to implement. In fact, it was damn near a one line fix.</p>
<p><img src="/2024/03/09/fix.png" alt="Version control diff showing the addition of a line that reads “day.searches.destroy_all if options[:purge]” in a file called “app/jobs/work_environment/day_job.rb”"></p>
<h2>Scaling it up</h2>
<p>The downside of this fix is that dramatically increases the number of HTTP requests necessary to check if new documents have been filed. My informal budget I set for myself is that I try to keep the amount of requests I send to <code>av.se</code> within the region of 1000 per day so that I'm as good as unnoticeable in terms of the load I put on their service.</p>
<p>As part of my <a href="/2024/01/09/operating-666a/">previous fixes to account for backdated filings</a> I'd programmed 666a to check the past 64 days every day. Checking all 64 on a cold cache would blow that informal 1000 requests budget. I'm really happy with the compromise I came up with here. Instead of checking every day sequentially, like <code>1.days.ago</code>, <code>2.days.ago</code>, <code>3.days.ago</code>, <code>4.days.ago</code>, <code>5.days.ago</code> and so on up to 64, I switched to powers of two. So instead I'm checking <code>1.days.ago</code>, <code>2.days.ago</code>, <code>4.days.ago</code>, <code>8.days.ago</code> and so on.</p>
<p>In practice this won't lead to any significant notification delays, because the vast majority of documents are listed the day after their filing date anyway. And the decrease in days checked compensates <em>perfectly</em> for the increase in number of requests necessary to check a day. I actually keep statistics about how many requests to <code>av.se</code> I make per day, and the chart really drives home how steady the numbers stay despite the change.</p>
<p><img src="/2024/03/09/rpd.png" alt="Bar chart with a y axis ranging from 0 to 1500 and an x axis ranging from 2023-10-30 to the present day. The bars are typically between 700 and 1200 high. Near the end, a pink arrow and text annotates one of the bars as “First day with new algorithm”."></p>
<h2>What's next?</h2>
<p>It's great fun having this kind of side project to look after. This one in particular feels like maintaining an old motorbike or something. A Rails app with a cron job that sends email notifications is kind of a retro combination at this point. And it's running beautifully now. Dead happy with it.</p>
<p>By now, 666a has processed over a quarter of a million documents and sent over a thousand notification emails. It's crystal clear the demand exists for the service. The daily email volume still fits within SendGrid's free tier, but it's growing steadily enough that I've already taken the time to get pre-approved for a paid subscription when the time comes.</p>
<p>If I'd shipped it as a “beta” – and maybe I should have – this would probably be the moment I'd officially say it was “out of beta”. Right now my worst fear would be for somebody at Arbetsmiljöverket to suddenly ship a redesign of the diarium search feature. Especially if that redesign depended on JavaScript and reworked all the logic around sorting, filtering and pagination. So let's all cross our fingers for that not to happen!</p>
]]></description>

    </item>
    <item>
      <title>Falsehoods Programmers Believe About Names

         |
        Kalzumeus Software</title>
      <link>https://henry.catalinismith.com/2024/03/09/falsehoods-programmers-believe-about-names-kalzumeus-software/</link>
      <guid>https://henry.catalinismith.com/2024/03/09/falsehoods-programmers-believe-about-names-kalzumeus-software/</guid>
      <pubDate>Sat, 09 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>The O.G. &quot;falsehoods progammers believe&quot; post. It's currently impossible to tag me in a post on LinkedIn, and I suspect it's due to a bug related to one of these.</p>
<p><a href="https://www.kalzumeus.com/2010/06/17/falsehoods-programmers-believe-about-names/">https://www.kalzumeus.com/2010/06/17/falsehoods-programmers-believe-about-names/</a></p>]]></description>

    </item>
    <item>
      <title>Free Your Technical Aesthetic from the 1970s</title>
      <link>https://henry.catalinismith.com/2024/03/08/free-your-technical-aesthetic-from-the-1970s/</link>
      <guid>https://henry.catalinismith.com/2024/03/08/free-your-technical-aesthetic-from-the-1970s/</guid>
      <pubDate>Fri, 08 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>A useful perspective that had an important influence on me early in my career.</p>
<p><a href="https://prog21.dadgum.com/74.html">https://prog21.dadgum.com/74.html</a></p>]]></description>

    </item>
    <item>
      <title>Skit in ger skit ut, också med AI och polariseringen förstärks</title>
      <link>https://henry.catalinismith.com/2024/03/07/skit-in-ger-skit-ut-ocksa-med-ai-och-polariseringen-foerstaerks/</link>
      <guid>https://henry.catalinismith.com/2024/03/07/skit-in-ger-skit-ut-ocksa-med-ai-och-polariseringen-foerstaerks/</guid>
      <pubDate>Thu, 07 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Martin's been doing some excellent writing since stepping down as president of Unionen. Lately he's been focusing on AI and it's warmed my heart to see someone with his level of influence digging so deep into this issue. He's correct to describe the discourse around the topic within Sweden as naive and I'm glad someone like him is going deeper than the listicle clickbait angle.</p>
<p><a href="https://martinlinder.substack.com/p/skit-in-ger-skit-ut-ocksa-med-ai">https://martinlinder.substack.com/p/skit-in-ger-skit-ut-ocksa-med-ai</a></p>]]></description>

    </item>
    <item>
      <title>Git Notes: git&#39;s coolest, most unloved­ feature</title>
      <link>https://henry.catalinismith.com/2024/03/06/git-notes-gits-coolest-most-unloved-feature/</link>
      <guid>https://henry.catalinismith.com/2024/03/06/git-notes-gits-coolest-most-unloved-feature/</guid>
      <pubDate>Wed, 06 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>What the hell? I had no idea this was in there all this time. Very cool.</p>
<p><a href="https://tylercipriani.com/blog/2022/11/19/git-notes-gits-coolest-most-unloved-feature/">https://tylercipriani.com/blog/2022/11/19/git-notes-gits-coolest-most-unloved-feature/</a></p>]]></description>

    </item>
    <item>
      <title>SQLite &amp; Rails in Production</title>
      <link>https://henry.catalinismith.com/2024/03/05/sqlite-and-rails-in-production/</link>
      <guid>https://henry.catalinismith.com/2024/03/05/sqlite-and-rails-in-production/</guid>
      <pubDate>Tue, 05 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>One of the articles that helped me get 666a up and running using SQLite.</p>
<p><a href="https://fly.io/ruby-dispatch/sqlite-and-rails-in-production/">https://fly.io/ruby-dispatch/sqlite-and-rails-in-production/</a></p>]]></description>

    </item>
    <item>
      <title>Baruco 2013: Here Be Dragons, by Katrina Owen</title>
      <link>https://henry.catalinismith.com/2024/03/04/baruco-2013-here-be-dragons-by-katrina-owen/</link>
      <guid>https://henry.catalinismith.com/2024/03/04/baruco-2013-here-be-dragons-by-katrina-owen/</guid>
      <pubDate>Mon, 04 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Saw this talk live and it had a profound influence on me. Grateful I was exposed to this message so early in my career.</p>
<p><a href="https://www.youtube.com/watch?v=HsWLrSof-ns">https://www.youtube.com/watch?v=HsWLrSof-ns</a></p>]]></description>

    </item>
    <item>
      <title>On &quot;owning&quot; software</title>
      <link>https://henry.catalinismith.com/2024/03/03/on-owning-software/</link>
      <guid>https://henry.catalinismith.com/2024/03/03/on-owning-software/</guid>
      <pubDate>Sun, 03 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Thoughtfully written piece by Avdi exploring the trade-offs of various software licensing models.</p>
<p><a href="https://avdi.codes/on-owning-software/">https://avdi.codes/on-owning-software/</a></p>]]></description>

    </item>
    <item>
      <title>Former developer at software company deletes his code to protest its ties to ICE</title>
      <link>https://henry.catalinismith.com/2024/03/02/former-developer-at-software-company-deletes-his-code-to-protest-its-ties-to-ice/</link>
      <guid>https://henry.catalinismith.com/2024/03/02/former-developer-at-software-company-deletes-his-code-to-protest-its-ties-to-ice/</guid>
      <pubDate>Sat, 02 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>The controversy around the Chef ICE contract was a watershed moment in tech and Shanley doesn't get the credit she deserves for breaking the story.</p>
<p><a href="https://www.dailydot.com/irl/former-chef-developer-deletes-code-ice/">https://www.dailydot.com/irl/former-chef-developer-deletes-code-ice/</a></p>]]></description>

    </item>
    <item>
      <title>A Brief, Incomplete, and Mostly Wrong History of Programming Languages</title>
      <link>https://henry.catalinismith.com/2024/03/01/a-brief-incomplete-and-mostly-wrong-history-of-programming-languages/</link>
      <guid>https://henry.catalinismith.com/2024/03/01/a-brief-incomplete-and-mostly-wrong-history-of-programming-languages/</guid>
      <pubDate>Fri, 01 Mar 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>An absolute classic.</p>
<p><a href="https://james-iry.blogspot.com/2009/05/brief-incomplete-and-mostly-wrong.html">https://james-iry.blogspot.com/2009/05/brief-incomplete-and-mostly-wrong.html</a></p>]]></description>

    </item>
    <item>
      <title>No, Utility Classes Aren&#39;t the Same As Inline Styles</title>
      <link>https://henry.catalinismith.com/2024/02/29/no-utility-classes-arent-the-same-as-inline-styles/</link>
      <guid>https://henry.catalinismith.com/2024/02/29/no-utility-classes-arent-the-same-as-inline-styles/</guid>
      <pubDate>Thu, 29 Feb 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>The controversy around Tailwind in the front-end community is a personal fixation of mine. Personally I have a foot in both camps and I'm not realy rooting for either side to win. It's just a super interesting debate to follow.</p>
<p><a href="https://frontstuff.io/no-utility-classes-arent-the-same-as-inline-styles">https://frontstuff.io/no-utility-classes-arent-the-same-as-inline-styles</a></p>]]></description>

    </item>
    <item>
      <title>A One Handed Accessible Keyboard, Inspired by FrogPad</title>
      <link>https://henry.catalinismith.com/2024/02/28/a-one-handed-accessible-keyboard-inspired-by-frogpad/</link>
      <guid>https://henry.catalinismith.com/2024/02/28/a-one-handed-accessible-keyboard-inspired-by-frogpad/</guid>
      <pubDate>Wed, 28 Feb 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>I've often daydreamed about how typing would work for me if I lost mobility in one of my arms. This article is a fun exploration of a variant of that scenario where the author had several months of advance warning and was able to prepare.</p>
<p><a href="https://www.kianryan.co.uk/2024-02-16-one-handed-accessible-keyboard-inspired-by-frogpad/">https://www.kianryan.co.uk/2024-02-16-one-handed-accessible-keyboard-inspired-by-frogpad/</a></p>]]></description>

    </item>
    <item>
      <title>enshittification is what happens when a disney adult learns about captialism</title>
      <link>https://henry.catalinismith.com/2024/02/27/enshittification-is-what-happens-when-a-disney-adult-learns-about-captialism/</link>
      <guid>https://henry.catalinismith.com/2024/02/27/enshittification-is-what-happens-when-a-disney-adult-learns-about-captialism/</guid>
      <pubDate>Tue, 27 Feb 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Love this post from tef. Instant classic.</p>
<p><a href="https://cohost.org/tef/post/3175066-enshittification-is">https://cohost.org/tef/post/3175066-enshittification-is</a></p>]]></description>

    </item>
    <item>
      <title>100 things you can do on your personal website | James&#39; Coffee Blog</title>
      <link>https://henry.catalinismith.com/2024/02/26/100-things-you-can-do-on-your-personal-website-or-james-coffee-blog/</link>
      <guid>https://henry.catalinismith.com/2024/02/26/100-things-you-can-do-on-your-personal-website-or-james-coffee-blog/</guid>
      <pubDate>Mon, 26 Feb 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Love this list. So inspiring.</p>
<p><a href="https://jamesg.blog/2024/02/19/personal-website-ideas/">https://jamesg.blog/2024/02/19/personal-website-ideas/</a></p>]]></description>

    </item>
    <item>
      <title>Atuin and chezmoi are the dog&#39;s bollocks</title>
      <link>https://henry.catalinismith.com/2024/02/25/atuin-and-chezmoi-are-the-dogs-bollocks/</link>
      <guid>https://henry.catalinismith.com/2024/02/25/atuin-and-chezmoi-are-the-dogs-bollocks/</guid>
      <pubDate>Sun, 25 Feb 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>My <a href="https://github.com/henrycatalinismith/dotfiles">dotfiles repo</a> is the oldest one I still have. Its <a href="https://github.com/henrycatalinismith/dotfiles/commit/2183f219ef3629fba729d8b8dfa89453b69d4605">first commit</a> is from 2012. The message I wrote for that commit tells a familiar story.</p>
<blockquote>
<p>Fresh start for config files<br />
The old config repo had become bloated and unwieldy</p>
</blockquote>
<p>I don't remember what went wrong, but evidently, things had had gotten out of control. Synchronising development tools across multiple computers has always been such a pain in the ass. Not any more though. 12 years later, I finally have a setup in place that I'm happy with.</p>
<h2>Atuin</h2>
<p>Losing shell history when swapping back and forth between different terminal tabs or different computers has always been frustrating. It's an annoyance I'd accepted as inevitable. For no particular reason, I recently became inspired to question that inevitability, and found <a href="https://atuin.sh/">Atuin</a> soon after.</p>
<p>No idea how I lived without this tool before. In particular, as <a href="/2024/02/07/screencasting-secrets">someone who uses <code>ffmpeg</code> frequently</a>, it's been amazing to be able to refer back to any given set of filters I've ever used.</p>
<p>The end-to-end encrypted sync feature is a game changer as well. Having access to your full shell history on every computer you use feels like it changes what the terminal <em>is</em> somehow. Brings it a bit closer to being an extension of you or something, I don't know.</p>
<p>The stats are cool too. For example, <code>atuin stats -c 3</code> prints your top three most-used commands.</p>
<p><img style="objectFit: none" src="/2024/02/25/atuin-stats.png" alt="[▮▮▮▮▮▮▮▮▮▮] 1626 git s
[▮▮▮ ] 616 git b
[▮▮▮ ] 604 yarn test
Total commands: 10268
Unique commands: 2091" /></p>
<p>My top command there – <code>git s</code> – is my alias for <code>git status</code>. Learning that I'm running that so often made me realise that those fancy terminal prompts that include git status info are worth the trouble. I'd stopped bothering with them because of the dotfiles syncing problem, and this inspired me to check in and see if it was solved yet. It was!</p>
<h2>chezmoi</h2>
<p>There are a lot of <a href="https://dotfiles.github.io/utilities/">dotfiles tools</a>. Most of them are effectively proof-of-concept in terms of the maturity level of the implementation. Someone has a core idea they're excited about, they implement that, then the project quietly goes into maintenance mode. What makes <a href="https://www.chezmoi.io/">chezmoi</a> the best isn't any particular concept – it's the work that's gone into polishing the annoying details around the edges.</p>
<p>In my case, I just wanted to use it to set up oh-my-zsh automatically and keep the config in sync between different computers. There's an <a href="https://www.chezmoi.io/user-guide/include-files-from-elsewhere/">example in the chezmoi docs showing how to do exactly this thing</a>.</p>
<pre class="toml">[".oh-my-zsh"]
    type = "archive"
    url = "https://github.com/ohmyzsh/ohmyzsh/archive/master.tar.gz"
    exact = true
    stripComponents = 1
    refreshPeriod = "168h"
</pre>
<p>I was blown away by how easy it was to set that up. Syncing a few little personal config files has always been the easy part, and it's generally these externally-sourced configs where things become difficult. You always get it syncing eventually, but it breaks along the way and so the end result feels brittle. Somehow chezmoi has cracked it. For once this feels like it will work on the first try when I next have to set up a new computer.</p>
<h2>Things are good</h2>
<p>I'm in a really good place at the moment when it comes to tools. Shipping 666a with <a href="/2024/01/14/my-sqlite-in-production-epiphany">SQLite as its production database</a> was a huge personal revelation, going <a href="/2024/01/30/maining-vscode-terminal">all-in on VSCode terminal</a> has decluttered my workflow, and doing a bunch of React Native at work is scratching a really longstanding itch. I'm getting tons done and feeling happy in the process.</p>
<p>Interestingly, the creator of Atuin has <a href="https://ellie.wtf/posts/i-quit-my-job-to-work-full-time-on-my-open-source-project">quit her day job to found a company and work on Atuin full time</a>. Will be fun to see what happens next there.</p>
]]></description>

    </item>
    <item>
      <title>You can&#39;t parse [X]HTML with regex</title>
      <link>https://henry.catalinismith.com/2024/02/24/cant-parse-html-with-regex/</link>
      <guid>https://henry.catalinismith.com/2024/02/24/cant-parse-html-with-regex/</guid>
      <pubDate>Sat, 24 Feb 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>The infamous Zalgo answer about parsing HTML with regex on Stack Overflow. I'm decently sure this answer was how I first discovered Zalgo.</p>
<p><a href="https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454">https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454</a></p>]]></description>

    </item>
    <item>
      <title>WebAIM: Contrast Checker</title>
      <link>https://henry.catalinismith.com/2024/02/23/webaim-contrast-checker/</link>
      <guid>https://henry.catalinismith.com/2024/02/23/webaim-contrast-checker/</guid>
      <pubDate>Fri, 23 Feb 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>One of the easiest contrast accessibility checker tools out there. This is a great option if you can't or don't want to install something on your computer. My favourite thing about this one is how pedagogical it is. If you spot a problematic use of colour and then stick the hex values into this thing and take a screenshot of it, that screenshot contains everything you need to make your point to whatever colleagues and stakeholders need convincing.</p>
<p><a href="https://webaim.org/resources/contrastchecker/">https://webaim.org/resources/contrastchecker/</a></p>]]></description>

    </item>
    <item>
      <title>Abuse as DDoS | Julie Pagano</title>
      <link>https://henry.catalinismith.com/2024/02/21/abuse-as-ddos-or-julie-pagano/</link>
      <guid>https://henry.catalinismith.com/2024/02/21/abuse-as-ddos-or-julie-pagano/</guid>
      <pubDate>Wed, 21 Feb 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>A post from nearly 10 years ago about abuse and harassment in the tech industry. 2014 was more or less when started learning about things like capitalism and misogyny. This post is a good representative example of the kind of stuff I was reading at the time.</p>
<p><a href="https://juliepagano.com/blog/2014/04/28/abuse-as-ddos">https://juliepagano.com/blog/2014/04/28/abuse-as-ddos</a></p>]]></description>

    </item>
    <item>
      <title>Flexbox Froggy</title>
      <link>https://henry.catalinismith.com/2024/02/20/flexbox-froggy/</link>
      <guid>https://henry.catalinismith.com/2024/02/20/flexbox-froggy/</guid>
      <pubDate>Tue, 20 Feb 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>An old favourite and still a valuable learning resource nearly a decade later. Learned some of my first ever flexbox skills here and still find myself sharing this link frequently today.</p>
<p><a href="https://flexboxfroggy.com/">https://flexboxfroggy.com/</a></p>]]></description>

    </item>
    <item>
      <title>The Layoff - Xe Iaso</title>
      <link>https://henry.catalinismith.com/2024/02/19/the-layoff-xe-iaso/</link>
      <guid>https://henry.catalinismith.com/2024/02/19/the-layoff-xe-iaso/</guid>
      <pubDate>Mon, 19 Feb 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Fun short science fiction story about a tech company layoff 1:1 meeting conducted by an AI. Xe also wrote a fascinating <a href="https://xeiaso.net/blog/2024/supplemental-notes-the-layoff/">follow-up post about the story</a> that's worth a read.</p>
<p><a href="https://xeiaso.net/blog/2024/the-layoff/">https://xeiaso.net/blog/2024/the-layoff/</a></p>]]></description>

    </item>
    <item>
      <title>Accessibility Support</title>
      <link>https://henry.catalinismith.com/2024/02/19/accessibility-support/</link>
      <guid>https://henry.catalinismith.com/2024/02/19/accessibility-support/</guid>
      <pubDate>Mon, 19 Feb 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>An accessibility-oriented reimagining of <a href="https://caniuse.com/">caniuse.com</a> providing information about which browser semantics are supported by which assistive technologies.</p>
<p><a href="https://a11ysupport.io/">https://a11ysupport.io/</a></p>]]></description>

    </item>
    <item>
      <title>An Introduction to LiteStack for Ruby on Rails | AppSignal Blog</title>
      <link>https://henry.catalinismith.com/2024/02/18/an-introduction-to-litestack-for-ruby-on-rails-or-appsignal-blog/</link>
      <guid>https://henry.catalinismith.com/2024/02/18/an-introduction-to-litestack-for-ruby-on-rails-or-appsignal-blog/</guid>
      <pubDate>Sun, 18 Feb 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Part of the SQLite in production hype train of summer 2023, this article helped motivate me to give the stack a serious try.</p>
<p><a href="https://blog.appsignal.com/2023/09/27/an-introduction-to-litestack-for-ruby-on-rails.html">https://blog.appsignal.com/2023/09/27/an-introduction-to-litestack-for-ruby-on-rails.html</a></p>]]></description>

    </item>
    <item>
      <title>How I setup a Mac, with lots of productivity tools, step-by-step guide</title>
      <link>https://henry.catalinismith.com/2024/02/17/how-i-setup-a-mac-with-lots-of-productivity-tools-step-by-step-guide/</link>
      <guid>https://henry.catalinismith.com/2024/02/17/how-i-setup-a-mac-with-lots-of-productivity-tools-step-by-step-guide/</guid>
      <pubDate>Sat, 17 Feb 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Some interesting ideas in this. This is a lot more config than I do for my own computers and I'm mainly bookmarking this so that I can remember to revisit it someday and see if there's anything I should borrow.</p>
<p><a href="https://github.com/maoxiaoke/setup-a-mac-for-frontend-dev">https://github.com/maoxiaoke/setup-a-mac-for-frontend-dev</a></p>]]></description>

    </item>
    <item>
      <title>Routing: Parallel Routes | Next.js</title>
      <link>https://henry.catalinismith.com/2024/02/16/routing-parallel-routes-or-next-js/</link>
      <guid>https://henry.catalinismith.com/2024/02/16/routing-parallel-routes-or-next-js/</guid>
      <pubDate>Fri, 16 Feb 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Came across this Next.js functionality while trying to get something else working. I'd never heard of it before but could immediately think of a bunch of different examples where it would've been useful. Bookmarking so that I remember to come back and try it out.</p>
<p><a href="https://nextjs.org/docs/app/building-your-application/routing/parallel-routes">https://nextjs.org/docs/app/building-your-application/routing/parallel-routes</a></p>]]></description>

    </item>
    <item>
      <title>This Machine Kills Fascists</title>
      <link>https://henry.catalinismith.com/2024/02/15/this-machine-kills-fascists/</link>
      <guid>https://henry.catalinismith.com/2024/02/15/this-machine-kills-fascists/</guid>
      <pubDate>Thu, 15 Feb 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2024/02/15/this-machine-kills-fascists.jpg" alt="Laptop on table in the foreground, person in a grey hoodie typing in the background. A sticker reading &quot;This machine kills fascists&quot; is visible on the laptop." /><p>Really cool photo from a bit of a <a href="https://www.arbetsvarlden.se/the-cba-struggle-at-spotify-traumatized-him/">depressing Arbetsvärlden interview I did</a>. TCO aren't particularly radical so it's a rare treat to get a slogan like this into their magazine.</p>
]]></description>

    </item>
    <item>
      <title>Kampen för kollektivavtal på Spotify blev ett trauma</title>
      <link>https://henry.catalinismith.com/2024/02/15/kampen-for-kollektivavtal-pa-spotify-blev-ett-trauma/</link>
      <guid>https://henry.catalinismith.com/2024/02/15/kampen-for-kollektivavtal-pa-spotify-blev-ett-trauma/</guid>
      <pubDate>Thu, 15 Feb 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote lang="sv">Oron gjorde fysiskt ont, det var som att det gick vågor av smärta genom kroppen som gjorde mig helt tom.</blockquote>
<p><a href="https://www.arbetsvarlden.se/kampen-for-kollektivavtal-blev-ett-trauma/">https://www.arbetsvarlden.se/kampen-for-kollektivavtal-blev-ett-trauma/</a></p>]]></description>

    </item>
    <item>
      <title>Enhancing your Rails app with SQLite</title>
      <link>https://henry.catalinismith.com/2024/02/15/enhancing-your-rails-app-with-sqlite/</link>
      <guid>https://henry.catalinismith.com/2024/02/15/enhancing-your-rails-app-with-sqlite/</guid>
      <pubDate>Thu, 15 Feb 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>The blog post that inspired me and showed me how to use ULIDs with SQLite in a Rails app. I shipped ULID primary keys in 666a because of this post.</p>
<p><a href="https://fractaledmind.github.io/2023/12/13/enhancing-rails-sqlite-prefixed-ulids/">https://fractaledmind.github.io/2023/12/13/enhancing-rails-sqlite-prefixed-ulids/</a></p>]]></description>

    </item>
    <item>
      <title>Screencasting Secrets</title>
      <link>https://henry.catalinismith.com/2024/02/07/screencasting-secrets/</link>
      <guid>https://henry.catalinismith.com/2024/02/07/screencasting-secrets/</guid>
      <pubDate>Wed, 07 Feb 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Screencasting is my secret weapon as a remote software engineer. I'm one of those people who just wants to go fast all the time, and you get to move a lot faster once you get good at showing people what you've made and putting them at ease about the idea of shipping it. At any job, one of the most common questions I hear is &quot;How do you do all those GIFs and videos and screenshots and stuff?&quot;. Here's how.</p>
<h2>Text is first</h2>
<p>Working well with plain old text is a prerequisite for any kind of screencasting success. Deep down it's the same thing: you're trying to get information from your head into someone else's. If your written communication isn't clear, your screen recordings won't be either.</p>
<p>Think about how you report bugs, for example. The phrase &quot;it's broken&quot; might mean anything from &quot;it's crashing on startup for 100% of users&quot; to &quot;I don't feel like the performance is reliable enough&quot;. The phrase &quot;the numbers are wrong&quot; might mean something as severe as &quot;these miscalculations will get us sued by the tax authorities&quot; or as minor as &quot;we're showing too many decimal places here&quot;. If your text communication style is vague, your screenshots and screen recordings will probably be vague too.</p>
<p>The trick with the bug report example is to think about what your expectations were, contrast them with what actually happened, and write something that conveys the difference between the two as clearly as possible. It's a thought process that requires you to put yourself in the shoes of the audience and take the time to shape the message around their perspective. Half the ingredients of success when producing a video or screenshot of something is applying that same thought process in a visual way.</p>
<h2>Screenshots</h2>
<p>The simplest thing to share is often a screenshot. If something can be conveyed in a static image, it's almost always preferable to do so rather than deal with the extra headaches that come with video. The principles of taking good screenshots, such as tailoring the framing and sizing to suit the target platform and audience, are fundamental to good screen recordings too.</p>
<p>You can take a screenshot of your entire desktop by pressing ⌘⇧3. That's usually the wrong option though. It's almost always better to use ⌘⇧4 and then select a region using the mouse. Another great option is to press ⌘⇧4, then space, and then click on a window to take a screenshot of it. In the following video, I'll demo all three of these, in the same order as they're written.</p>
<figure>
  <video src="/2024/02/07/screenshot.mp4" controls></video>
  <figcaption>
    I'm using <a href="https://appahead.studio/apps/keystroke-pro/">Keystroke Pro</a> in the video above to visualise the key presses. It's a tool I recommend very highly. It comes in especially handy if you need to screencast a series of keyboard interactions like this one.
  </figcaption>
</figure>
<p>Even the humble screenshot has some nuances that are worth thinking about. Where will you upload your screenshot and how much space is available for it there? What size is optimal to help your audience understand your point as easily as possible? If there are multiple windows involved, is there some way you can rearrange them to structure the information in the screenshot more clearly?</p>
<p>If you're posting something on a GitHub issue or pull request, for example, you'll have about 800px of width to play with. Could it work for you to resize the window in preparation for your screenshot so that it doesn't appear too zoomed out and squished there? For <a href="https://github.com/zetkin/app.zetkin.org/pull/1631">before/after screenshots</a>, it fits particularly well if both screenshots are a common mobile resolution.</p>
<h2>Annotated screenshots</h2>
<p>Sometimes your screenshots need a little extra something. Like occasionally it's just easier to <a href="https://github.com/zetkin/app.zetkin.org/pull/1641">visually highlight some detail</a> in there with an annotation. For this, I use Skitch.</p>
<p>Awkwardly, <a href="https://techcrunch.com/2011/08/18/evernote-acquires-image-sharing-site-skitch/">Evernote acquired Skitch back in 2011</a>, and in recent years it's basically become abandonware. But for now at least, you can still do <code>brew install --cask skitch</code>, and it'll run. In theory you can do ⌘⇧5 to take screenshots directly into Skitch, but in practice that's been broken for years, so I take them with the macOS native ⌘⇧4 and then drag &amp; drop them into Skitch like this.</p>
<figure>
  <video src="/2024/02/07/skitch.mp4" controls></video>
  <figcaption>
    I'm using the ⌘-Space keyboard shortcut here to open Skitch using <a href="https://support.apple.com/guide/mac-help/search-with-spotlight-mchlp1008/mac">Spotlight</a>.
  </figcaption>
</figure>
<p>It's a shame Skitch is slowly dying. I've been recommending it to colleagues since like 2015, and still occasionally see someone I introduced it to share something annotated with it on social media. Will be sad when that connection is finally broken.</p>
<h2>Animated GIF screen recordings</h2>
<p>You can get a lot done with screen recordings in animated GIF format. They're incredibly versatile, because almost all chat &amp; collaboration platforms allow you to post GIFs. <a href="https://gifox.app/">Gifox</a> is the best app for this, and well worth the cost.</p>
<p>Fear of failure holds people back from trying this. People worry it'll require advanced technical skills. It doesn't. Here's a video of the full end-to-end recording and editing workflow to produce one GIF. It takes less than a minute.</p>
<figure>
  <video src="/2024/02/07/gifox.mp4" controls></video>
  <figcaption>
    This is what it looks like to create a screencast GIF using Gifox. The app I'm using as an example to record is <a href="https://github.com/IvanMathy/Boop">Boop</a>.
  </figcaption>
</figure>
<p>Gifox gives you lots of control over how to export your GIF. The one I use most often is the resizing option, which is why I made sure to demo it in the video above. Big animated GIFs take so long to load that nobody will watch your video, and scaling down is an easy way to avoid this. Most of the time you don't really need a full 100% original size GIF either.</p>
<p>The secret to doing these things right is to keep them short. Animated GIFs almost never have playback controls, so your audience has no way to rewind or pause your video. And longer GIFs will exceed most platforms' upload file size limits anyway.</p>
<p>Another thing to bear in mind is that GIFs loop. Sometimes it's necessary for the clarity of the video that the end point should be very distinctive. Other times it's super nice to make the loop completely seamless. It's a case-by-case thing and you get a feel for it after a while.</p>
<h2>Video screen recordings</h2>
<p>When something won't fit within the limitations of the GIF format, I'll fire up QuickTime and do a screen recording instead. This has a similar workflow to Gifox. You select an area to record, do your demo, end the recording with the little taskbar stop button, and then press ⌘T to trim the clip.</p>
<figure>
  <video src="/2024/02/07/quicktime.mp4" controls></video>
  <figcaption>
    I made all the other videos for this post using this workflow. <em>This</em> one took some fucking doing though.
  </figcaption>
</figure>
<p>It's worth checking the options before hitting <code>Record</code>. Pay particular attention to the microphone setting. Most of the time you'll want to set this to <code>None</code>. Nobody needs to hear the background hum of your dishwasher while you demo your new feature or whatever you're recording.</p>
<p>QuickTime will output a fairly chunky <code>.mov</code> file at the end of this. I tend to use <code>ffmpeg</code> to scale these down and convert them to <code>.mp4</code>. This will often cut the file size from tens or hundreds of megabytes down into the 1MB-ish range.</p>
<pre class="">ffmpeg -i words.mov -vf "scale=iw/2:ih/2" words.mp4
</pre>
<h2>Video screen recordings with system audio</h2>
<p>When I need to include system audio in a screen recording, I reach for Rogue Amoeba's excellent <a href="https://rogueamoeba.com/loopback/">Loopback</a> app. Nine times out of ten, if I'm doing this it's because I want someone to hear what a screen reader interaction with their UI sounds like. For this, I have a premade VoiceOver virtual device configured in Loopback. It just needs switching on, and then it's available as a microphone in QuickTime's recording options.</p>
<figure>
  <video src="/2024/02/07/loopback.mp4" controls></video>
  <figcaption>
    This one's complex enough that I figured it's helpful to make <a href="/2024/02/07/voiceover.mp4" target="_blank">the resulting screen recording</a> available so that you can see for yourself that the screen reader announcement audio has been captured in the recording.
  </figcaption>
</figure>
<p>For screen reader announcements in particular, it's often overkill to go to these lengths. I've mainly found it useful when working in partnership with blind people to evaluate and improve complex ARIA implementations. For demonstrating screen reader announcement changes to sighted colleagues I've often found it sufficient to show them <a href="https://github.com/zetkin/app.zetkin.org/pull/1724">animated GIFs with VoiceOver's visual announcement visible in the viewport</a>.</p>
<h2>Give it a try</h2>
<p>You don't need to wait for your employer to approve budget for some expensive 3rd party SaaS screencasting platform like Loom. Fancypants extras – like enabling you to overlay a video of yourself talking on your screencasts – might sound like gamechangers. But I think most of the outcome in these techniques depends on whether or not you personally engage with communication as a craft in itself, and you don't necessarily need to add another subscription to your monthly bills if you're willing to learn your way around a handful of standalone tools.</p>
<p>Sighted people bloody <em>love</em> a visual demo, and catering to that preference is an underutilised way to speed up feedback loops and build trust and consensus around shipping things sooner. If you take away nothing else from this, I hope you install Gifox today!</p>
]]></description>

    </item>
    <item>
      <title>Maining VSCode Terminal</title>
      <link>https://henry.catalinismith.com/2024/01/30/maining-vscode-terminal/</link>
      <guid>https://henry.catalinismith.com/2024/01/30/maining-vscode-terminal/</guid>
      <pubDate>Tue, 30 Jan 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Once upon a time, the main tools I used for work were Vim and tmux. And until recently, once every few months I'd get this compulsive urge to try to recapture those glory days. If you know, you know.. That urge has stopped lately though. Visual Studio Code has reached a tipping point where the Vim support and terminal emulator are a better package than anything I can hack together with lua plugins and tmux config.</p>
<p>Turning VSCode into something that feels cosy for this type of retro workflow preference doesn't even take a lot of configuration. Here's how I'm doing it.</p>
<h2>Editor</h2>
<p>The editor is basically good to go once you install the <a href="https://marketplace.visualstudio.com/items?itemName=vscodevim.vim">Vim plugin</a> and make one or two tweaks. By default, VSCode does a lot of automatic closing of brackets and tags and such. Some people love this. For me it just feels like that Sorcerer's Apprentice scene with the out-of-control magic brooms in Fantasia, so I gotta turn it all off.</p>
<pre class="">"editor.autoClosingBrackets": "never",
"editor.autoClosingDelete": "never",
"editor.autoClosingOvertype": "never",
"editor.autoClosingQuotes": "never",
"html.autoClosingTags": false,
"javascript.autoClosingTags": false,
"typescript.autoClosingTags": false,
</pre>
<p>That's about it, actually. The rest is handled by <a href="https://github.com/stars/henrycatalinismith/lists/vscode">extensions</a>.</p>
<h2>Terminal</h2>
<p>The terminal is where most of the tweaking is necessary. The default setup caters for limited use cases – stuff like opening it in the morning to run <code>yarn start</code> and then closing it in the evening. If you're using the terminal more like an IDE, it needs a little bit of extra juice.</p>
<h3>Colors</h3>
<p>VSCode's terminal has this incredible <a href="https://code.visualstudio.com/docs/editor/accessibility#_minimum-contrast-ratio">minimum contrast ratio option</a> that I can't live without any more. This option alone might be enough to convince many people to switch from other terminal emulators. Ever used a program in the terminal whose ANSI colors contasted so little with your background color that the text became effectively invisible? Crank up this setting to 4.5 and VSCode will automatically detect and fix that whenever it happens.</p>
<pre class="">"terminal.integrated.minimumContrastRatio": 4.5,
</pre>
<p>I've been using Solarized for pretty much my whole career, and I love that VSCode ships with it included. It also ships with what I consider to be Solarized's worst flaw: the &quot;bright&quot; version of the palette is a gross soup of grays and oranges. VSCode makes it real easy to patch this though. I tend to just duplicate the regular palette, and then trust the magic of the minimum contrast ratio setting to fix any trouble this causes.</p>
<pre class="">"workbench.colorTheme": "Solarized Dark",
"workbench.colorCustomizations": {
  "gitlens.trailingLineForegroundColor": "#93a1a1",
  "terminal.ansiBrightBlack": "#002b36",
  "terminal.ansiBrightBlue": "#268bd2",
  "terminal.ansiBrightCyan": "#2aa198",
  "terminal.ansiBrightGreen": "#9bb300",
  "terminal.ansiBrightMagenta": "#d33682",
  "terminal.ansiBrightRed": "#dc322f",
  "terminal.ansiBrightWhite": "#fdf6e3",
  "terminal.ansiBrightYellow": "#b58900"
}
</pre>
<h3>Keyboard</h3>
<p>The keyboard shortcuts to control the terminals are the other big thing to address. Once you've experienced tmux it's hard to accept the rigidity of just having one little panel you can toggle below the code that requires mouse interactions for half its functionality.</p>
<p>First up is the focus management. I need to be able to toggle focus back and forth between the editor and the terminal easily. The following <code>keybindings.json</code> entries configure ⌘↓ to focus the terminal and ⌘↑ to focus the editor.</p>
<pre class="">{
	"key": "cmd+up",
	"command": "workbench.action.focusActiveEditorGroup",
	"when": "terminalFocus"
},
{
	"key": "cmd+down",
	"command": "workbench.action.terminal.toggleTerminal",
	"when": "!terminalFocus"
}
</pre>
<p>When I'm working in the terminal, I want common shortcuts like ⌘T and ⌘W to open and close terminal tabs like they would in iTerm2. In VSCode there are two contexts a terminal can be open in: either the panel, or the editor area. The default keyboard controls for these two contexts are different, and the following <code>keybindings.json</code> entries standardise them across both.</p>
<pre class="">{
  "key": "cmd+t",
  "command": "workbench.action.terminal.newInActiveWorkspace",
  "when": "terminalFocus"
},
{
  "key": "cmd+t",
  "command": "workbench.action.createTerminalEditor",
  "when": "terminalEditorFocus"
},
{
  "key": "cmd+w",
  "command": "workbench.action.terminal.kill",
  "when": "terminalFocus"
},
{
  "key": "cmd+w",
  "command": "workbench.action.terminal.killEditor",
  "when": "terminalEditorFocus"
},
</pre>
<p>Another quality of life thing is to have ^⇥ and ^⇧⇥ always mean &quot;focus next tab&quot; and &quot;focus previous tab&quot;. When I'm working in the panel with multiple terminal tabs open, I want these combos to switch over seamlessly so that they iterate through terminal tabs instead of editor tabs. The defaults here are a <em>long</em> way from this. This next bit of config makes ^⇥ and ^⇧⇥ do the right thing no matter what's focused.</p>
<pre class="">{
  "key": "ctrl+tab",
  "command": "workbench.action.nextEditor"
},
{
  "key": "ctrl+shift+tab",
  "command": "workbench.action.previousEditor"
},
{
  "key": "ctrl+tab",
  "when": "terminalFocus",
  "command": "workbench.action.terminal.focusNext"
},
{
  "key": "ctrl+shift+tab",
  "when": "terminalFocus",
  "command": "workbench.action.terminal.focusPrevious"
},
{
  "key": "ctrl+tab",
  "when": "terminalEditorFocus",
  "command": "workbench.action.nextEditor"
},
{
  "key": "ctrl+shift+tab",
  "when": "terminalEditorFocus",
  "command": "workbench.action.previousEditor"
}
</pre>
<p>Depending on the size of the VSCode window, the position of the panel might vary. Sometimes it needs to be on the right of the editor, and sometimes below. I do most of my window management using <a href="https://rectangleapp.com/">Rectangle.app</a>'s keyboard shortcuts, so it's most efficient if I can follow one of those combos with another in VSCode. The following bit of config sets up VSCode so that ⌘⇧→ and ⌘⇧↓ move it to those positions.</p>
<p>This is going to be more lines of config than you're probably expecting. The reason for the bloat here is that this way preserves keyboard focus. If you just run <code>workbench.action.positionPanelRight</code>, then afterwards you have to refocus whatever bit of UI you were working in. The keybindings here detect whether you're invoking the shortcuts from inside a terminal or not, and ensure you land back where you started.</p>
<pre class="">{
  "key": "cmd+shift+right",
  "when": "terminalFocus",
  "command": "runCommands",
  "args": {
    "commands": [
      "workbench.action.positionPanelRight",
      "workbench.action.terminal.focus"
    ]
  }
},
{
  "key": "cmd+shift+down",
  "when": "terminalFocus",
  "command": "runCommands",
  "args": {
    "commands": [
      "workbench.action.positionPanelBottom",
      "workbench.action.terminal.focus"
    ]
  }
},
{
  "key": "cmd+shift+right",
  "when": "!terminalFocus && !terminalEditorFocus",
  "command": "runCommands",
  "args": {
    "commands": [
      "workbench.action.positionPanelRight",
      "workbench.action.focusActiveEditorGroup"
    ]
  }
},
{
  "key": "cmd+shift+down",
  "when": "!terminalFocus && !terminalEditorFocus",
  "command": "runCommands",
  "args": {
    "commands": [
      "workbench.action.positionPanelBottom",
      "workbench.action.focusActiveEditorGroup"
    ]
  }
}
</pre>
<p>VSCode's support for placing terminals in the editor area is brilliant when you're doing something really terminal centric. Sometimes a little panel off to the side isn't big enough. By default, this is a mouse-driven interaction though. If I'm in a terminal in a bottom panel, I want ⌘⇧↑ to move it into the editor area, hide the panel, and focus the terminal. This next bit of config makes that happen.</p>
<pre class="">{
  "key": "cmd+shift+up",
  "when": "terminalFocus",
  "command": "runCommands",
  "args": {
    "commands": [
      "workbench.action.togglePanel",
      "workbench.action.terminal.moveToEditor",
      "workbench.action.focusActiveEditorGroup"
    ]
  }
},
</pre>
<p>For the reverse scenario, when I want to clear away my editor area terminal back down into the panel, this entry makes ⌘⇧↓ do that.</p>
<pre class="">{
  "key": "cmd+shift+down",
  "when": "terminalEditorFocus",
  "command": "runCommands",
  "args": {
    "commands": [
      "workbench.action.terminal.moveToTerminalPanel",
      "workbench.action.positionPanelBottom"
    ]
  }
},
</pre>
<p>That's pretty much it. It's just enough so that I can shuffle around the position of the panel and move terminals in and out of it using the keyboard. Apparently that's all I ever actually wanted. It feels pretty fantastic to have the keyboard-driven terminal winxow management I love without sacrificing any of the benefits that come from using the most popular tool in my corner of the industry. Much like <a href="/2024/01/14/my-sqlite-in-production-epiphany">using SQLite in production</a>, it feels like it shouldn't even be possible. I'm certainly in a real happy place these days regarding devtools.</p>
<h2>Future Tweaks</h2>
<p>Yesterday, I decided the final piece of the puzzle would be to have VSCode start up with the terminal open in the editor area. I chucked <code>vscode startupeditor terminal</code> into Google and found my way to a GitHub issue thread titled &quot;<a href="https://github.com/microsoft/vscode/issues/154366"><code>workbench.startupEditor</code> should support opening a terminal in editor area</a>&quot;. It had a bunch of other people back in 2022 describing exactly what I was looking for.</p>
<p>This is a type of search result I normally associate with disappointment. The purple &quot;Closed&quot; badge here normally means &quot;thanks, but no thanks&quot;. Not this time though. I scrolled to the bottom and could hardly believe what I was seeing: a pull request, merged 4 days ago, titled <a href="https://github.com/microsoft/vscode/pull/203567">Add terminal as a startup editor</a>. OMFG! So when that commit makes it into a shipped build, the config line to use it will be like this.</p>
<pre class="">"workbench.startupEditor": "terminal",
</pre>
<p>Can't wait! In the meantime, the <a href="https://gist.github.com/henrycatalinismith/1358f66b029d8a0a358c159b1ce1c146">entire config all together</a> is available as a gist.</p>
]]></description>

    </item>
    <item>
      <title>Zetkin Quote</title>
      <link>https://henry.catalinismith.com/2024/01/22/zetkin-quote/</link>
      <guid>https://henry.catalinismith.com/2024/01/22/zetkin-quote/</guid>
      <pubDate>Mon, 22 Jan 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2024/01/22/zetkin-quote.jpg" alt="A person with long blonde hair stood smiling in a green coat with their back to the sea. The text reads “Meet Henry. I came into my software career through my interest in open source, which in my youthful innocence led me to expect a progressive industry driven by solidarity. Volunteering with Zetkin is the fulfillment of that dream after many years of disillusionment”." /><p>Zetkin have been doing little interviews with some of the volunteers lately. I loved this promo image that came out of <a href="https://www.linkedin.com/posts/zetkin-foundation_we-asked-henry-some-questions-about-his-life-activity-7155076637217243136-mUdQ">the interview they did with me</a>.</p>
]]></description>

    </item>
    <item>
      <title>Night Work, Tech, And Swedish Labour Law</title>
      <link>https://henry.catalinismith.com/2024/01/22/night-work-tech-and-swedish-labour-law/</link>
      <guid>https://henry.catalinismith.com/2024/01/22/night-work-tech-and-swedish-labour-law/</guid>
      <pubDate>Mon, 22 Jan 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote>
<p>This was originally posted at https://666a.se/news/night-work-tech-and-swedish-labour-law and has
been migrated here since for long-term hosting.</p>
</blockquote>
<p>Last week’s <a href="https://arbetet.se/2024/01/19/nattarbete-forbjuds-nu-kan-spotify-flytta-tjanster-utomlands/">news about Spotify’s night work ruling from the administrative court</a> was a landmark moment for the Swedish tech industry. It’s the latest in a series of news stories about tech employers trying and failing to circumvent the Swedish labour market model through legal maneuvers. There’s a clear pattern forming: it doesn’t work.</p>
<p>This was the original Work Environment Authority case that inspired the idea for 666a. The case had a lot of twists and turns, and it was too easy to go a week without noticing an important new filing, so I longed for a work environment email alert service to inform me automatically. And then when something did come up, explaining it to people was made more difficult by the lack of linkable English translations of relevant legislation.</p>
<p>Now that the case is drawing to a close and my dream of being able to explain the story and its context in terms of the laws involved is finally possible, here’s a chronological walkthrough.</p>
<h2>The daily rest period</h2>
<p><a href="https://lagstiftning.github.io/arbetstidslagen/2022:450/section-13">Section 13 of the Swedish Working Hours Act</a> protects the right to a daily rest period. This must be at least 11 consecutive hours in a given 24 hour period. It must also include the hours between midnight and 05:00.</p>
<p>This is a problem for employers whose businesses involve software systems with the potential to break during those hours. In tech it’s commonplace to organise an on-call rota for this work, which means engineers take turns. If something breaks outside of normal business hours, a service like PagerDuty phones the engineer on call and wakes them up to fix the problem.</p>
<p>This practice isn’t legal in Sweden unless certain checks and balances are in place. Despite this, some tech employers have ignored the law, instructing employees to work during the night anyway.</p>
<h2>Safety representative training</h2>
<p><a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/chapter-6-section-4">Chapter 6 Section 4 of the Swedish Work Environment Act</a> creates a joint responsibility, shared by both employers and their employees, that safety representatives must receive the training necessary to perform their  role.</p>
<p>Ensuring that employers’ personnel practices are compliant with <a href="https://lagstiftning.github.io/arbetstidslagen/2022:450">the Working Hours Act</a> is exactly the kind of thing safety reps are meant to do. The Swedish tech industry’s low engagement with the country’s labour movement has enabled years of non-compliance by many employers. Safety representatives without union support – who may well receive all their training from the employer despite the clear conflict of interest this entails – often won’t notice the violation, or are easily instructed to ignore it.</p>
<p>This pattern is exactly why the government’s 2023 instructions to the work environment authority to increase the number of safety reps “regardless of union membership status” met with so much <a href="https://www.arbetsvarlden.se/regeringen-oppnar-for-fler-skyddsombud-utan-facktillhorighet/">backlash from the central unions</a>. Safety reps without union support are easily sidelined. It’s my understanding that cases of full-blown employer co-optation of entire work environment committees aren't unheard of.</p>
<h2>Exemptions by the Work Environment Authority</h2>
<p><a href="https://lagstiftning.github.io/arbetstidslagen/2022:450/section-19">Section 19 of the Swedish Working Hours Act</a> gives the Work Environment Authority the power to grant exemptions to <a href="https://lagstiftning.github.io/arbetstidslagen/2022:450/section-13">the night work ban imposed by section 13</a>. In <a href="https://www.av.se/om-oss/sok-i-arbetsmiljoverkets-diarium/?id=2023/016334-18">2023/016334-18</a>, they explained the criteria for the exemptions in some detail.</p>
<blockquote>
<p>It appears from practice that the exemption option regarding the night work ban must be applied restrictively and is intended for situations that satisfy important societal interests and urgent service needs.</p>
<p>The work that is granted an exemption from the night work ban thus either needs to support a directly exempt activity or in itself be of great societal interest. It is also required that there is an important societal interest in the work being carried out at night.</p>
</blockquote>
<p>In blunt terms, &quot;we make more money when the servers are up&quot; doesn't cut it. If you're a SaaS business and one of your customers depends on your product to deliver a socially critical service then you can still get an exemption because of that, but otherwise there's only one other route to legal night work.</p>
<h2>Legal night work through collective bargaining</h2>
<p><a href="https://lagstiftning.github.io/arbetstidslagen/2022:450/section-3">Section 3 of the Swedish Working Hours Act</a> grants workers the flexibility to negotiate away <a href="https://lagstiftning.github.io/arbetstidslagen/2022:450/section-13">the night work ban imposed by section 13</a> through collective bargaining with the employer.</p>
<p>This is one of my personal favourite Swedish laws. I think there's just such an instinctive fairness to it. To agree to be randomly awoken in the night to urgently defend your employer's business is to take a level of responsibility more commonly associated with a parent of a newborn baby. It's fair for workers willing to invest this much of themselves in a business to expect their employer to respect them as an equal counterpart in negotiations about working conditions and the like.</p>
<p>This is the point Spotify's founding team missed when <a href="https://medium.com/@SpotifySE/vi-m%C3%A5ste-agera-eller-bli-omsprungna-383bb0b808eb#.u5h5pqrva">they first threatened to withdraw the company from Sweden back in 2016</a>.</p>
<blockquote>
<p>Think how amazing it would be if Sweden became the country where the employees became part-owners of the companies where they work. It suits us and our culture perfectly. We as owners are prepared to share. If anything, politics should promote that ownership spreads and creates solidarity.</p>
</blockquote>
<p>It sounds alright <a href="https://www.theguardian.com/technology/2023/apr/11/techscape-zirp-tech-boom">superficially</a>, but the words turns to ashes in your mouth once you understand that small-time shareholders don't have any meaningful say in working conditions compared to the co-determination already provided for by Sweden's world-leading labour law. Once you're being woken up at 03:00 to fix servers, the board's fiduciary duty to shareholders may even be in conflict with your most pressing material needs (i.e. a full night's sleep as often as possible). That's why I think <a href="https://lagstiftning.github.io/arbetstidslagen/2022:450/section-3">section 3</a> is such a clever piece of legal judo to empower workers. You're such a key worker that you sometimes need to get up in the night like a superhero? Then you get a seat at the table when big decisions are being made.</p>
<h2>Fines for non-compliance</h2>
<p><a href="https://lagstiftning.github.io/arbetstidslagen/2022:450/section-24">Section 24 of the Swedish Working Hours Act</a> imposes fines for employers who violate <a href="https://lagstiftning.github.io/arbetstidslagen/2022:450/section-13">the night work ban imposed by section 13</a>.</p>
<p>I'm not as impressed with this law as I am with the flexibility of <a href="https://lagstiftning.github.io/arbetstidslagen/2022:450/section-3">section 3's compliance via collective bargaining</a>. Klarna's fine was <a href="https://kollega.se/arbetsmiljo/efter-arbetsmiljobrister-klarna-maste-betala-miljonbelopp">1,094,471kr</a> and Spotify's was only <a href="https://kollega.se/arbetsratt/spotify-tvingas-betala-nattarbete-saknade-avtal">356,000kr</a>. Fines this small are not a serious financial deterrent.</p>
<p>There is also the soft penalty of the brand damage an employer incurs by flouting labour laws, but most employers aren't as high profile as Klarna or Spotify, so this penalty is much smaller for them. And even in cases where this leverage exists, it's a severe flaw for the system to depend on individual union representatives or safety reps taking on the personal risk of actually using that leverage to achieve compliance. Fear of retaliation has a very powerful chilling effect.</p>
<h2>The right to appeal</h2>
<p><a href="https://lagstiftning.github.io/arbetstidslagen/2022:450/section-29">Section 29 of the Swedish Working Hours Act</a> makes it possible to appeal the Work Environment Authority's decisions in an administrative court.</p>
<p>Something I'll wonder about for the rest of my days is how much impact the events of the Tesla strike had on Spotify's appeal. In a regular year, I reckon the sheer brand power that Spotify wields in Swedish society might have been enough to browbeat an off-guard administrative court into granting their appeal.</p>
<p>But 2023 wasn't a regular year. Of particular note were <a href="https://da.se/2023/12/annu-ett-bakslag-for-tesla-postnord-behover-inte-lamna-ut-skyltar/">Tesla's failed Solna district court case</a> and their <a href="https://www.domstol.se/nyheter/2023/12/hovratten-upphaver-tingsrattens-tillfalliga-beslut-att-lata-tesla-hamta-registreringsskyltar-direkt-hos-tillverkaren/">loss on appeal in the Norrköping district court</a>. I can't shake the feeling that all this racket Tesla made might have awoken an awareness among Sweden's legal profession that a couple of powerful employers were attempting a sudden Americanisation of the Swedish labour market through courtroom shenanigans.</p>
<h2>Enforcement</h2>
<p><a href="https://lagstiftning.github.io/arbetstidslagen/2022:450/section-22">Section 22 of the Swedish Working Hours Act</a> empowers the Work Environment Authority to issue any prohibitions necessary to get employers to follow the law. <a href="https://lagstiftning.github.io/arbetstidslagen/2022:450/section-23">Section 23</a> imposes penalties ranging from fines to up to a year of imprisonment for failure to comply with prohibitions under section 22.</p>
<p>It seems unlikely the Spotify case will come to this. Their stance is clear: they'll instruct their overseas workforce to pick up these tasks rather than engage in collective bargaining with their Swedish workforce.</p>
<p>I think that's a really exciting move – part of a strategy conceived in early 2023, when they filed for their night work ban exemption the day after the formation of the Spotify Unionen club. Back then, it had been years since Unionen had last invoked <a href="https://lagstiftning.github.io/medbestammandelagen/2021:1114/section-45">section 45 of the Swedish Co-Determination Act
</a>, which I bet made this seem like more of a risk analysis slam dunk than it might seem now.</p>
]]></description>

    </item>
    <item>
      <title>My SQLite in production epiphany</title>
      <link>https://henry.catalinismith.com/2024/01/14/my-sqlite-in-production-epiphany/</link>
      <guid>https://henry.catalinismith.com/2024/01/14/my-sqlite-in-production-epiphany/</guid>
      <pubDate>Sun, 14 Jan 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>My work environment email alerts service – <a href="https://666a.se/">666a</a> – is a Rails app using SQLite for its production database. I'm super happy with this stack, but it wasn't an obvious choice from the start, and I know a lot of folks still haven't heard the growing hype about using SQLite in production in the Rails community. Here's how I ended up shipping a production app with a SQLite database, and how it helped me rediscover some joy in full-stack work.</p>
<h2>Back on Rails</h2>
<p>I built the very first prototype version of 666a in Rails. Nothing beats Active Record when you need to iterate really quick on a concept for a database schema. It ran on our old MacBook Air where our Plex server lives. Then, in late August, I got sidetracked by the idea that for the &quot;real&quot; version I needed to redo it in a more &quot;modern&quot; web stack like Next.js.</p>
<p>What a waste of a month this turned out to be. You have to jump through so many hoops for this new edge computing paradigm, but none of the benefits are applicable to an app like 666a with relatively stable load whose users are concentrated in one geographic location. Plus, the core things 666a actually <em>needs</em> – mundane stuff like an ORM or a nice mature localisation framework – are all third party plugins in Next.js. Afterthoughts.</p>
<p>I churned through so many libraries and platforms trying to make this mismatch work. The ones I can remember include <a href="https://kysely.dev/">Kysely</a>, <a href="https://www.prisma.io/">Prisma</a>, <a href="https://planetscale.com/">Planetscale</a>, <a href="https://vercel.com/docs/storage/vercel-postgres">Vercel Postgres</a>, and <a href="https://www.inngest.com/">Inngest</a>. It seemed like no matter what I picked, it was going to get expensive fast, and yet at the same time nothing's fully working right yet because the whole edge functions thing is still so bleeding edge.</p>
<p>By the end of September I was fed up. I deleted my Next.js app and ran <code>rails new</code> with some considerable relief.</p>
<h2>But… SQLite? In production?</h2>
<p>As I was making that decision to jump back to Rails, I was aware of a growing wave of hype about using SQLite in production. I eagerly followed Stephen Margheim's series of <a href="https://fractaledmind.github.io/tags/sqlite/">SQLite-related blog posts</a>, <a href="https://blog.appsignal.com/2023/09/27/an-introduction-to-litestack-for-ruby-on-rails.html">AppSignal's series on LiteStack</a>, as well as <a href="https://fly.io/ruby-dispatch/sqlite-and-rails-in-production/">anything Fly.io published about it</a>.</p>
<p>This used to be unthinkable. In fact it's only in the past month that the Rails core team <a href="https://github.com/rails/rails/pull/50463">removed the warning message about running SQLite in production</a>. I reckon it's a combination of factors: it's enabled by technological advances, and driven by a reduced focus on exponential growth due to high interest rates.</p>
<p>Whatever the underlying reason for the mindset shift, it doesn't seem to be news to the folks behind SQLite itself. The quote below has been on their site <a href="https://web.archive.org/web/20050204022544/https://www.sqlite.org/whentouse.html">since at least 2005</a>.</p>
<blockquote>
<p>SQLite works great as the database engine for most low to medium traffic websites (which is to say, most websites). Generally speaking, any site that gets fewer than a 100,000 hits/day should work fine with SQLite.</p>
</blockquote>
<p>666a is right in the centre of the sweet spot for a SQLite in production use-case. It's a service targeting a niche interest group in a tiny country of 10 million people. I reckon the entire Swedish labour movement could sign up before I'd even need to starting googling for performance tips.</p>
<h2>The experience so far</h2>
<p>It's rare for me to find this much joy in the back-end &amp; infrastructure side of a project. Normally it's the front-end work that gives me these feelings, but there's something truly special about this tech stack. And the fact that it's cheaper – 666a currently fits within the Fly.io free tier – is only part of it.</p>
<p>The sensation of being able to ship an entire full-stack app as a single Docker image and not even have a <code>docker-compose.yml</code> at all is difficult to describe. There's something weirdly cosy about it. It also feels like it shouldn't even be possible, and brings back nostalgic memories of the 2000s-era trend for PHP features to use a &quot;flat file&quot; for storage instead of a database.</p>
<p>Four months in, there have been no downsides to speak of. It's literally just… fantastic. My database is around 350MB, doing something on the order of 1000ish writes and (<em>really</em> guessing now) 10,000ish reads per day. It's got indexes, I'm doing joins and group by statements and all that normal stuff, and I'm never being confronted with unexpected barriers resulting from the choice of SQLite.</p>
<p>In fact I'm even using <a href="https://fractaledmind.github.io/2023/09/22/enhancing-rails-sqlite-ulid-primary-keys/">ULID primary keys</a> cos I didn't want the infosec headaches of autoincrementing integers (any labour movement-related software always deserves a bit of paranoia) or the awkward ergonomics of regular UUIDs. Setting that up was a piece of piss too.</p>
<p>The contrast I find the most striking in all this is that in Next.js I was just setting up a normal app the normal way, yet somehow still it felt like swimming against the tide, whereas with Rails, even configuring a quirky primary key format on a non-standard database was easy and actually kind of fun.</p>
<p>When you consider the fact that I have zero professional Rails experience, and that I've spent the better part of a decade working mostly with React, it does seem a bit weird. I mean I even really <em>like</em> React for fuck's sake. Seems silly that it's somehow not the easiest way for me to ship a simple app like this one.</p>
<p>My gut feeling is that it's partly an incentives thing. Vercel's in the PaaS business, so obviously the product strategy for Next.js is wrapped up in that and it makes sense to prioritise promoting the serverless paradigm they've bet their entire company on over e.g. integrating a production-ready i18n solution. By contrast, nothing about 37signals' SaaS business incentivises Rails to double as the top of a freemium conversion funnel.</p>
<p>Nothing showcases that difference in incentives better than production SQLite. We use Next.js at my current job, where it's a great fit, and I think I kinda get it: this new serverless stuff is way more worth the trouble when you're hoping to scale up as fast and as big as possible. For more modest projects with smaller troubleshooting time budgets, maybe it’s natural that a tool built by and for the VC ecosystem doesn't fit so great. It feels great that this production SQLite adventure has helped me understand all this a bit better, and after a decade of React I'm stoked about the prospect of having a new go-to stack with more batteries included.</p>
]]></description>

    </item>
    <item>
      <title>Operating 666a</title>
      <link>https://henry.catalinismith.com/2024/01/09/operating-666a/</link>
      <guid>https://henry.catalinismith.com/2024/01/09/operating-666a/</guid>
      <pubDate>Tue, 09 Jan 2024 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>In the final quarter of 2023 I launched my little side project <a href="https://666a.se/">666a</a>, which is a service providing work environment email notifications for union reps and people like that. It took a few months of work to build something shippable, and I've been refining it ever since to increase its reliability. I thought it'd be nice to share a glimpse of what that refinement work looks like. This is gonna be a technical one, so apologies to anyone who preferred the union propaganda.</p>
<h2>How 666a works</h2>
<p>The beating heart of 666a is a daily cron job that checks for new public filings on the Work Environment Authority's website and sends email notifications whenever it finds one matching a user's subscription criteria.</p>
<p>Filings are published with one day of delay, which means Monday's filings become available on Tuesday and so on. So each day, 666a scans the filings from the previous day.</p>
<h2>Backdated filings and &quot;document lag&quot;</h2>
<p>The complicating factor here is that not all Monday's filings are immediately available on Tuesday. In fact, they might not even be filed at all until next Friday. This is a phenomenon I've been referring to as &quot;document lag&quot;. The Work Environment Authority isn't an API: it's an organisation powered by people, interactions, emails, and even good old fashioned physical mail. This makes for a much more socially constructed model of time than I'm used to in my everyday tech work where machine-generated timestamps with millisecond accuracy are the norm.</p>
<p>I didn't spot this nuance until after launch. <a href="https://666a.se/incident-report">I take the responsibility of operating this service really really seriously</a>, and I'm not comfortable with the idea of anyone missing out on important information because of a detail like that. So I've been slowly tweaking the design of the system to meet this requirement.</p>
<h2>Manually triggered backfill</h2>
<p>My first move once I understood the system was missing some of the data was to start manually triggering the scan job from time to time. I was very deliberate about designing the actual jobs around this kind of versatility, so a bit of manual intervention was easy and didn't require any code changes. This is more or less what I'd run in the rails console from time to time.</p>
<pre class="ruby">WorkEnvironment::DayJob.perform_now("2023-11-04")
</pre>
<p>Doing this every day was a labour-intensive approach, but it was a nice way to feel out the scope of the problem. Took about a week for this to give me a nice clear sense of how far back stuff was typically getting backdated.</p>
<h2>Scheduled backfill</h2>
<p>Based on that informal feel for the typical lag between document filing dates and their actual first appearance, I began scheduling a bunch of backfill jobs like these.</p>
<pre class="ruby">scheduler.cron("0 14 * * *") do
  WorkEnvironment::DayJob.perform_later(
    2.days.ago.strftime("%Y-%m-%d")
  )
end
</pre>
<p>These have been running nicely since early December. For most days, the average document lag is only about a day or two. So except for the occasional rogue document filed 30 days after its official filing date, this was mission accomplished.</p>
<h2>Christmas</h2>
<p>The arrival of Christmas unlocked a new level of this puzzle. Suddenly, my daily document count graph flatlined. Everybody had buggered off to watch <a href="https://en.wikipedia.org/wiki/From_All_of_Us_to_All_of_You">Donald Duck</a>, and even the steady everyday drumbeat of the <a href="https://www.av.se/om-oss/sok-i-arbetsmiljoverkets-diarium/?OrganisationNumber=559068-7967">asbestos removal company filings</a> fell silent.</p>
<figure>
  <img
    src="/2024/01/09/december-2023.png"
    alt="
      Bar chart with y axis going up to 1500 and x axis of dates ranging across December 2023.
      The first three weeks of the month average between 500 and 1000 documents per weekday.
      The final week averages zero.
    "
  />
  <figcaption>
    Documents per day in December 2023, as of New Year's Eve
  </figcaption>
</figure>
<p>This would be no big deal, except by this point I'd also backfilled the data well into 2022. And the December 2022 graph's final week looked nothing like this.</p>
<figure>
  <img
    src="/2024/01/09/december-2022.png"
    alt="
      Bar chart with y axis going up to 1000 and x axis of dates ranging across December 2022.
      The first three weeks of the month average between 500 and 1000 documents per weekday.
      The final week averages 250.
    "
  />
  <figcaption>
    Documents per day in December 2022
  </figcaption>
</figure>
<p>I immediately suspected that this was another case of document lag. In other words everyone's off for Christmas, and when they get back they'll backdate all the filings that were missed during the holidays.</p>
<h2>Quantifying document lag</h2>
<p>The only way to find out if my document lag theory was the right explanation was to ignore the problem, enjoy Christmas, and wait and see. It probably didn't matter anyway: I don't think many world-changing public filings are dropping during the Christmas season.</p>
<p>I did want some way to visualise the issue when the backdated filings began to trickle in though. So I created a new chart displaying the document lag for each day since launch. The bar height here represents the average number of days difference between that date and the true chronological first appearance of the documents officially filed on that date.</p>
<figure>
  <img
    src="/2024/01/09/document-lag.png"
    alt="
      Bar chart with y axis going up to 10 and x axis of dates ranging across Q3 of 2023.
      Until late December the values average at one or two with occasional blips.
      After December averages above 5 are more tpical.
    "
  />
  <figcaption>
    Average document lag per day since launch day
  </figcaption>
</figure>
<p>The Christmas spike represents the fact that the documents officially filed on e.g. December 27th were in fact not filed until January 3rd when people began returning to work.</p>
<h2>Next Steps</h2>
<p>I think the scale of this phenomenon will probably more or less double for Midsummer, so that's what I want to be prepared for next. Once the dust settles from the Christmas period, I'm thinking I'll figure out the maximum document lag measured in that week, double it, and then wire up the scheduler to backfill that far back every single day. I want Midsummer to run smoothly even if I'm too busy to do any manual interventions in the moment.</p>
<p>By the way, if you're a tech worker in Sweden and the events of the past year or so have got you thinking some new thoughts about labour relations in our industry, you might wanna check out 666a more closely. You can grab your employer's <em lang="sv">organisationsnummer</em> from <a href="https://foretagsinfo.bolagsverket.se/sok-foretagsinformation-web/foretag">Bolagsverket's company search tool</a> and then <a href="https://666a.se/register">subscribe to get notified (for free) about their correspondence with the Work Environment Authority</a>. I'm also hosting web versions of the Swedish government's unofficial English translations of the <a href="https://666a.se/aml-v2014:659-in-english">Work Environment Act</a>, the <a href="https://666a.se/mbl-v2021:1114-in-english">Co-Determination Act</a> and the <a href="https://666a.se/las-v2022:836-in-english">Employment Protection Act</a>, which can be useful resources to know about depending on how 2024 unfolds at your job. Check it out!</p>
]]></description>

    </item>
    <item>
      <title>Sam&#39;s Boat</title>
      <link>https://henry.catalinismith.com/2023/12/19/sams-boat/</link>
      <guid>https://henry.catalinismith.com/2023/12/19/sams-boat/</guid>
      <pubDate>Tue, 19 Dec 2023 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2023/12/19/sams-boat.jpg" alt="Minecraft screenshow featuring a pixelated wooden boat in some shallow water in the shade of a cherry tree and an oak tree with a wooden bridge in the background." /><p>Sam likes the boats in Minecraft. This is one of his boats.</p>
]]></description>

    </item>
    <item>
      <title>It won’t grow if you don’t delegate</title>
      <link>https://henry.catalinismith.com/2023/12/09/it-wont-grow-if-you-dont-delegate/</link>
      <guid>https://henry.catalinismith.com/2023/12/09/it-wont-grow-if-you-dont-delegate/</guid>
      <pubDate>Sat, 09 Dec 2023 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>The first time I read <a href="https://organizing.work/2022/01/it-wont-grow-if-you-dont-delegate/">It won’t grow if you don’t delegate</a>, I was at Vänsterpartiet Malmö's <a href="https://malmo.vansterpartiet.se/event/studier-for-forandring/">studier för förändring</a> course at Kvarnby folkhögskola.
It had been translated into Swedish and printed onto paper, and it was all very exciting.</p>
<p>The article itself's a must-read for any new organiser. The leadership stuff it covers is similar to what you learn when you go into management, but re-contextualised for the labour movement. It felt great to have stumbled on this key bit of knowledge and I was dead excited to have become a little bit more dangerous.</p>
<p>Thing is, in hindsight it's pretty clear that the message didn't sink in completely. Like I think I'd understood it superficially, at an intellectual level, but emotionally I hadn't bought in fully. It's not as if this was anywhere near the campaign's biggest problem or setback, but it's probably the one thing I had the most personal control over that could have gotten us even further sooner if I'd been more on top of it.</p>
<p>Looking back, there were some warning signs that I missed. I feel like writing them down. I'd love if it could help someone else's campaign gain ground faster by enabling them to internalise this lesson earlier.</p>
<h2>Warning Signs Of My Failure To Delegate</h2>
<h3>Warning Sign #1: Exhaustion</h3>
<p>Sounds obvious, doesn't it? Like if you're working your fingers to the bone and feel like the intensity might <em>actually</em> be killing you, the delegation light should just automatically switch on in your head, right?</p>
<p>Didn't happen for me. You think you're immune to all that &quot;rise &amp; grind&quot; glorification of overwork until suddenly you realise you're arsehole deep in it and hadn't even noticed it happening.</p>
<p>I've come to understand that behaviours that feel intuitively toxic in a profit-driven context can seem like righteous self-sacrifice in a union campaign. The fact that I wasn't making any money in the process biased me away from noticing any similarities between the choices I was making and the workaholic loner tech industry stereotype I'd spent my career trying to escape.</p>
<h3>Warning Sign #2: Passive Aggressive Delegation</h3>
<p>There were a few occasions when I just totally fucking imploded. I remember one time in particular when I was in the middle of the redundancy process and a total nervous wreck about it, and had some kind of outburst to the rest of the group.</p>
<p>I was overwhelmed and failing real fuckin hard at any kind of emotional regulation. Instead of taking a little inventory of the stuff to do and figuring out what to offload, I just expressed my general desperation and panic to the group. An ugly moment.</p>
<p>This was a lovely bunch of folks, and I got some great support out of that. But instead of getting that support by doing actual pro-active delegation like a proper leader, it had happened the opposite way around, by me catching fire and the others rushing to rescue things from the flames.</p>
<h3>Warning Sign #3: Denial</h3>
<p>At some point the penny did drop. I wasn't delegating enough and it was hurting the campaign, not to mention hurting me. It's interesting now – with some distance – to reflect on how even after <em>that</em> realisation I still managed to avoid learning the lesson completely.</p>
<p>There's just so fucking <em>many</em> ways to bullshit yourself. &quot;This one would be too much to ask anyone else to do&quot;, &quot;that person's too busy for this&quot;, &quot;I already delegated that one other thing so now I'm lazy if I delegate this too&quot;, &quot;they didn't sign up for this level of commitment&quot;, &quot;this task's scary, and the risky stuff is <em>my</em> job&quot;.</p>
<p>The first two warning signs feel more like once-and-done lessons learned, but I reckon this last one is more of an ongoing process. Might be more like something I always have to look out for, rather than a to-do list item that can be crossed off forever at some point. But these denial thoughts have a certain recognisable smell to them, and once that recognition's locked in real good I think it's harder for them to have as much influence.</p>
<h2>Delegation's Hard</h2>
<p>I have a theory that it's a very particular type of intense person who tends to find themself leading a union campaign. I've certainly met a good few of them by now. Maybe a little less interested in money than a typical entrepreneur, but similar in terms of risk tolerance and work ethic.</p>
<p>That work ethic part can be a real Achilles' heel, I reckon. If you're used to getting a lot of your sense of who you are out of the pride you take in your productivity, it's easy to mistake delegation for laziness.</p>
<p>In a business leadership context, you'd always have someone &quot;above&quot; you to coach you through this stuff. In a union campaign it's not so simple. I feel like if I'd been able to read something along these lines in addition to <a href="https://organizing.work/2022/01/it-wont-grow-if-you-dont-delegate/">It won’t grow if you don’t delegate</a> back in November 2022, I might have been more primed to learn this lesson sooner. Hopefully someone else stumbles on it in advance of their own campaign and benefits from it.</p>
]]></description>

    </item>
    <item>
      <title>Incident Report</title>
      <link>https://henry.catalinismith.com/2023/12/03/incident-report/</link>
      <guid>https://henry.catalinismith.com/2023/12/03/incident-report/</guid>
      <pubDate>Sun, 03 Dec 2023 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote>
<p>This was originally posted at https://666a.se/news/incident-report and has
been migrated here since for long-term hosting.</p>
</blockquote>
<p>This weekend there was a minor incident where 666a over-alerted a little bit, resulting in a total of less than 100 email alerts to be sent in error. No data loss or privacy breaches occurred as part of this incident, just a few emails getting sent that shouldn't have.</p>
<p>Here's the explanatory email I sent to the folks who got some unnecessary emails.</p>
<blockquote>
<p>Hey folks</p>
<p>Earlier today 666a went a bit haywire and started sending loads of email notifications about arbetsmiljöverket filings from April. It’s fixed now and you shouldn’t see any more.</p>
<p>I take operating this service really seriously and wanted to get in touch and explain. I’ve been tweaking the diarium update algorithm this week to try to avoid missing documents if they’re filed late and then backdated to earlier in the week. While doing so I made a small coding mistake that turned on email notifications for all documents.</p>
<p>Normally only a fraction of documents get email notifications sent about them. I’ve got 666a slowly backfilling its database with the entire 2023 dataset because I think I can operate the service best with at least one complete year of data history. Email notifications are switched off for those historical documents but my change this week accidentally turned them on.</p>
<p>Rest assured it won’t happen again, and as you can tell I'm very biased towards overalerting rather than ever risk someone missing something, so I think that's at least not completely terrible.</p>
<p>Henry</p>
</blockquote>
]]></description>

    </item>
    <item>
      <title>You Dumb Son Of A Bitch</title>
      <link>https://henry.catalinismith.com/2023/11/19/you-dumb-son-of-a-bitch/</link>
      <guid>https://henry.catalinismith.com/2023/11/19/you-dumb-son-of-a-bitch/</guid>
      <pubDate>Sun, 19 Nov 2023 24:00:00 GMT</pubDate>
      <description><![CDATA[<video
              controls
              preload="none"
              class="mt-4 max-h-screen w-full object-cover"
              poster="https://henry.catalinismith.com/2023/11/19/you-dumb-son-of-a-bitch.jpg"
            >
              <source
                src="https://henry.catalinismith.com/2023/11/19/you-dumb-son-of-a-bitch.mp4"
                type="video/mp4"
              />
            </video><p>Made this lil remix in iMovie on my phone. Free Palestine, you dumb son of a bitch.</p>
]]></description>

    </item>
    <item>
      <title>English translations of Swedish laws</title>
      <link>https://henry.catalinismith.com/2023/11/14/english-translations-of-swedish-laws/</link>
      <guid>https://henry.catalinismith.com/2023/11/14/english-translations-of-swedish-laws/</guid>
      <pubDate>Tue, 14 Nov 2023 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote>
<p>This was originally posted at
https://666a.se/news/english-translations-of-swedish-laws and has been
migrated here since for long-term hosting.</p>
</blockquote>
<p>The work environment email alerts launch a couple of weeks ago has gone great. It's operating really smoothly now and delivering email alerts to way more people than I dreamed would sign up this early. So I'm moving to the next phase, which begins today.</p>
<p>Linked here is an <a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/chapter-6-section-6a">English translation of chapter 6, section 6a of the Swedish Work Environment Act</a>. This is the law that 666a is named after. Until today the English version of it hasn't had its own URL. You could link to PDFs containing it somewhere on page 15, or pages that mention it in passing, but there was no way to send your English-speaking colleague a convenient link to it to help them understand their rights.</p>
<p>The data entry work that's gone into creating this resource was gruelling. The reason it was worth the trouble is simple. I saw first-hand during the Spotify campaign how the absence of this kind of resource is a strategic weakness for Sweden's labour movement, with its dreams of organising the country's influential tech immigrant workforce.</p>
<p>People move to this country to work in tech. Sweden's bursting with cool international employers whose company language is English. So you get off the plane on Saturday, unpack on Sunday, roll into the office on Monday and just get started. No language barrier, everything's in perfect English.</p>
<p>Later that week you stop by the bank during lunch to try to open an account. Not so easy. The person helping you speaks great English, but the forms are in Swedish. It takes longer than expected and makes you return late from lunch. Right from the start, your new life in Sweden is defined by this contrast between the comfort and familiarity provided by your employer and the friction and inconvenience of Swedish society at large. It's a barrier to integration.</p>
<p>Ten years ago, the Swedish government produced unofficial English translations of key laws. These were published as PDFs on government.se, where they remain to this day. The laws themselves have been updated repeatedly since then, but not all the translations have been updated to match. To a lawyer, the failure to maintain such an important resource might seem like the headline problem. But in tech culture, it's actually the PDF thing.</p>
<p>It's impossible to send someone a link to a specific part of a PDF, which means sending a colleague a link to e.g. section 11 of the Co-determination Act in English is impossible. You have to send them the PDF link and tell them &quot;scroll down to xyz&quot; instead. Many people won't.</p>
<p>And the dominant mobile device among this demographic – the iPhone – provides no immediate means of generating a machine translation if you send someone a link to a resource in Swedish.  They can copy-paste the text into Google Translate if they're <em>really</em> keen. But many people won't.</p>
<p>The experience of receiving a PDF link is worse too. A web page will usually have metadata configured so that a link pasted into a chat platform such as WhatsApp or Slack will appear with a short description or excerpt of the page's content. PDFs can't do this, so on most platforms you just see a bare link instead and have to make a leap of faith that it might contain something useful. Many people won't.</p>
<p>This friction is a serious barrier to increasing engagement. Tech people <em>live</em> on the internet in a way that politicians and lawyers just <em>don't</em>. In our interactions with online services we perceive subtle signs of value or quality or trustworthiness that people who are less terminally online might not.</p>
<p>Starting today, 666a is taking one of those decade-old translations and hosting it as proper linkable web content. You can browse the <a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349">full text of the Work Environment Act in Swedish and English side by side</a>. And when you find the section you're looking for, you can grab its URL for bookmarking or sharing. So finally there's a way to send someone a link to <a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349/chapter-6-section-6a">chapter 6 section 6a in English</a>.</p>
<p>The decision to include the original Swedish alongside the unofficial English translation is deliberate too. Those little moments of exposure will help grow your vocabulary. Integration isn't just about spoon-feeding us translations forever. Any immigrant's long-term goal is always language acquisition. Thoughtful design choices in services we depend on can support that long-term goal even as we focus on solving our short-term everyday problems.</p>
<p>I'll repeat this process for more laws over the coming weeks. There are some particularly important ones that are my top priority, like the Co-Determination Act and the Employment Protection Act. Please do email me at henry@666a.se and let me know if there's one you think is important not to miss.</p>
<p>My big dream for this feature would be to secure some funding from somewhere to spend on updating all the translations. I think there's almost limitless potential here. For example, I would absolutely love to commission professional Arabic translations of all these laws and host them right here alongside the English ones. I'm convinced that meeting immigrants where we are is the way to make us feel seen and wanted, and inspire us to engage more with Swedish society.</p>
<p>But first things first. Here's an <a href="https://lagstiftning.github.io/arbetsmiljolagen/2023:349">English copy of the Work Environment Act</a> that's ten years out of date.</p>
]]></description>

    </item>
    <item>
      <title>Announcing 666a</title>
      <link>https://henry.catalinismith.com/2023/10/31/announcing-666a/</link>
      <guid>https://henry.catalinismith.com/2023/10/31/announcing-666a/</guid>
      <pubDate>Tue, 31 Oct 2023 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote>
<p>This was originally posted at https://666a.se/news/launch-announcement and has
been migrated here since for long-term hosting.</p>
</blockquote>
<p>Public filings at the Swedish Work Environment Authority are essential for understanding organizations and the current work environment of companies. Keeping up to date is a prerequisite for driving sustainable development in the Swedish labour market. 666a is a modernization of Sweden's principle of public access to information, making information automatic, customized, and multilingual, rather than merely available.</p>
<h2>Origin</h2>
<p>The idea for this tool comes from personal experience with union involvement in the workplace. As a union representative at Spotify, a problem I often encountered in my work was the difficulty of keeping up to date with public filings at the Work Environment Authority, which was information that was crucial to our campaign to secure a collective bargaining agreement.</p>
<p>666a is the tool I was missing. It's finally here.</p>
<p>If you have any questions, feedback, or thoughts on how the tool can be further developed, email me at henry@666a.se.</p>
]]></description>

    </item>
    <item>
      <title>Almedalsveckan 2023</title>
      <link>https://henry.catalinismith.com/2023/06/30/almedalsveckan-2023/</link>
      <guid>https://henry.catalinismith.com/2023/06/30/almedalsveckan-2023/</guid>
      <pubDate>Fri, 30 Jun 2023 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2023/06/30/almedalsveckan-2023.jpg" alt="Person stood smiling at a booth at a conference. Next to them is a banner for the Swedish trade union “Unionen” with a slogan encouraging people to organise unions at their own workplaces." /><p>A happy photo from a magical day in Visby.</p>
]]></description>

    </item>
    <item>
      <title>Spotify sells its music-creation tool Soundtrap back to its founders</title>
      <link>https://henry.catalinismith.com/2023/06/09/spotify-sells-its-music-creation-tool-soundtrap-back-to-its-founders/</link>
      <guid>https://henry.catalinismith.com/2023/06/09/spotify-sells-its-music-creation-tool-soundtrap-back-to-its-founders/</guid>
      <pubDate>Fri, 09 Jun 2023 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>I was in Soundtrap so this was the end of the Spotify campaign for me. I exercised my right under <a href="https://666a.se/section-6b-of-las-v2022:836-in-english">Section 6b of the Employment Protection Act</a> to oppose the transfer of my employment, but a transfer of business like this one doesn't leave much legal scope after that to avoid redundancy under Swedish employment law.</p>
<p><a href="https://musically.com/2023/06/09/spotify-sells-its-music-creation-tool-soundtrap-back-to-its-founders/">https://musically.com/2023/06/09/spotify-sells-its-music-creation-tool-soundtrap-back-to-its-founders/</a></p>]]></description>

    </item>
    <item>
      <title>Spotify kör kampanj mot kollektivavtal</title>
      <link>https://henry.catalinismith.com/2023/04/21/spotify-kor-kampanj-mot-kollektivavtal/</link>
      <guid>https://henry.catalinismith.com/2023/04/21/spotify-kor-kampanj-mot-kollektivavtal/</guid>
      <pubDate>Fri, 21 Apr 2023 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Faily standard <a href="https://laborlab.us/5_common_union_busting_tactics/">American-style anti-union tactics</a> really.</p>
<p><a href="https://kollega.se/fackligt/spotify-kor-kampanj-mot-kollektivavtal">https://kollega.se/fackligt/spotify-kor-kampanj-mot-kollektivavtal</a></p>]]></description>

    </item>
    <item>
      <title>“Spotify is going to find that a union deal is a competitive advantage”</title>
      <link>https://henry.catalinismith.com/2023/04/14/spotify-is-going-to-find-that-a-union-deal-is-a-competitive-advantage/</link>
      <guid>https://henry.catalinismith.com/2023/04/14/spotify-is-going-to-find-that-a-union-deal-is-a-competitive-advantage/</guid>
      <pubDate>Fri, 14 Apr 2023 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote>
<p>&quot;Fair play to them on this, they stayed out of it. They left it to us, which I think is the right thing to do,&quot; Catalini Smith recalls. &quot;They haven't tried to stop us. You hear about in America, these meetings they have, these consultants they bring in. They play these silly games. And it's not really the way things are done in Sweden. They've become a bit of an American company in some ways over the years, but they've held on to some core Swedish values.&quot;</p>
</blockquote>
<p><a href="https://www.thelocal.se/20230414/interview-spotify-is-going-to-find-that-a-union-deal-is-a-competitive-advantage">https://www.thelocal.se/20230414/interview-spotify-is-going-to-find-that-a-union-deal-is-a-competitive-advantage</a></p>]]></description>

    </item>
    <item>
      <title>Unionen begär förhandling om kollektivavtal på Spotify</title>
      <link>https://henry.catalinismith.com/2023/04/12/unionen-begar-forhandling-om-kollektivavtal-pa-spotify/</link>
      <guid>https://henry.catalinismith.com/2023/04/12/unionen-begar-forhandling-om-kollektivavtal-pa-spotify/</guid>
      <pubDate>Wed, 12 Apr 2023 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote lang="sv">
Ingen förstår arbetstagarna bättre än vi själva och vi vill ta plats vid bordet där beslut som påverkar vår arbetsvardag fattas. Vi ser en enorm möjlighet både för oss själva och för arbetsgivaren. Facket gör företag bättre, säger Henry Catalini Smith.
</blockquote>
<p><a href="https://www.unionen.se/pressmeddelande/3344779">https://www.unionen.se/pressmeddelande/3344779</a></p>]]></description>

    </item>
    <item>
      <title>Negotiation Petition Sent</title>
      <link>https://henry.catalinismith.com/2023/04/12/negotiation-petition-sent/</link>
      <guid>https://henry.catalinismith.com/2023/04/12/negotiation-petition-sent/</guid>
      <pubDate>Wed, 12 Apr 2023 24:00:00 GMT</pubDate>
      <description><![CDATA[<video
              controls
              preload="none"
              class="mt-4 max-h-screen w-full object-cover"
              poster="https://henry.catalinismith.com/2023/04/12/negotiation-petition-sent.png"
            >
              <source
                src="https://henry.catalinismith.com/2023/04/12/negotiation-petition-sent.mp4"
                type="video/mp4"
              />
            </video><p>Made this audiogram for a Spotify Workers podcast episode using the Web Audio API. The code is viewable at <a href="https://glitch.com/edit/#!/negotiation-petition-sent">glitch.com/edit/#!/negotiation-petition-sent</a>, and runnable at <a href="https://negotiation-petition-sent.glitch.me/">negotiation-petition-sent.glitch.me</a>.</p>
<p>The episode itself is still available on Spotify.</p>
<iframe style="border-radius:12px" src="https://open.spotify.com/embed/episode/5mQ1vBhdc6uygikLbR4B30?utm_source=generator" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
]]></description>

    </item>
    <item>
      <title>Malmö Live</title>
      <link>https://henry.catalinismith.com/2023/02/25/malmo-live/</link>
      <guid>https://henry.catalinismith.com/2023/02/25/malmo-live/</guid>
      <pubDate>Sat, 25 Feb 2023 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2023/02/25/malmo-live@800x800.jpeg" alt="Person with long blonde hair in a bright red hoodie stands in modern-looking hotel lobby." /><p>Photo by <a href="https://www.freddybillqvist.com/">Freddy Billqvist</a>.</p>
]]></description>

    </item>
    <item>
      <title>Spotify och Klarna vill bana väg för fler klubbar</title>
      <link>https://henry.catalinismith.com/2023/01/31/spotify-och-klarna-vill-bana-vag-fler-klubbar/</link>
      <guid>https://henry.catalinismith.com/2023/01/31/spotify-och-klarna-vill-bana-vag-fler-klubbar/</guid>
      <pubDate>Tue, 31 Jan 2023 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote lang="sv">Det är otroligt skrämmande att få erbjudande om att bli utköpt. Men Sen Kanner, klubbordföranden på Klarna tackade nej till sitt erbjudande och därför gör jag det också. Jag vill inte vara sämre.</blockquote>
<p><a href="https://kollega.se/fackligt/spotify-och-klarna-vill-bana-vag-fler-klubbar">https://kollega.se/fackligt/spotify-och-klarna-vill-bana-vag-fler-klubbar</a></p>]]></description>

    </item>
    <item>
      <title>Spotify Workers Logo</title>
      <link>https://henry.catalinismith.com/2023/01/21/spotify-workers-logo/</link>
      <guid>https://henry.catalinismith.com/2023/01/21/spotify-workers-logo/</guid>
      <pubDate>Sat, 21 Jan 2023 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2023/01/21/spotify-workers.jpg" alt="A shuffle symbol with a white foreground and a red spraypaint outline is seen affixed as a sticker to a laptop next to other stickers." /><p>The shuffle symbol represents radical change and the creation of a new order. The main factor in the design of this was to avoid mimicking the employer's existing branding in any way. This was partly a symbolic gesture as I think unions should seek to define themselves in their own terms, and partly a legal risk management move to avoid <a href="https://fortune.com/2023/10/19/starbucks-sues-union-name-logo-a-pro-palestine-post-damage-reputation/">getting sued for trademark infringement</a>.</p>
]]></description>

    </item>
    <item>
      <title>My CPWA Experience</title>
      <link>https://henry.catalinismith.com/2023/01/14/my-cpwa-experience/</link>
      <guid>https://henry.catalinismith.com/2023/01/14/my-cpwa-experience/</guid>
      <pubDate>Sat, 14 Jan 2023 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>2022 was the year my dream of getting more into accessibility finally came true. While I was studying for the <a href="https://www.accessibilityassociation.org/s/certification">IAAP certifications</a> I was surprised by how valuable I found other people’s accounts of how they studied for them. I promised myself I’d contribute back to that if I passed the exams. And I passed, so here’s what I did!</p>
<h2>Background</h2>
<p>Most people writing about accessibility online seem to be hardcore experts with years upon years of experience working exclusively on accessibility. That’s not me, and I think that’s probably important information here. Like, this certification isn’t just for those superstars. So here’s some background in case it helps someone make a decision about taking these exams.</p>
<p>At my previous job one of my side projects was scoping out and building a business case for a WCAG compliance retrofitting project. My accessibility knowledge back then was within the average range for a decent web developer: I knew how to fire up VoiceOver and how to fix the worst &amp; simplest issues. I knew I wanted to learn more, and that our app’s accessibility issues had commercial drawbacks, but I’d never done anything like build an <a href="https://www.w3.org/WAI/ARIA/apg/example-index/combobox/combobox-select-only.html">accessible ARIA combobox implementation</a> myself yet.</p>
<p>The COVID-19 pandemic spoiled my plans there, because in the healthtech business anything that wasn’t COVID-related got deprioritised in 2020. But at my next job, COVID had the opposite effect, as the rise of remote learning brought <em>that</em> app under the jurisdiction of <a href="https://www.section508.gov">government procurement legislation</a>, with all its accessibility requirements.</p>
<p>So I spent most of 2022 retrofitting a decade’s worth of accessibility issues as quickly as I possibly could, and learned a whole lot in a very short period of time. This was a well-funded project where I got to learn from expert colleagues as well as third party auditors and UX research. Towards the end of this project was when I decided to shoot my shot for the IAAP certs.</p>
<h2>Studying</h2>
<p>The <a href="https://dequeuniversity.com/curriculum/packages/iaap-certification-prep">Deque study package for the CPACC and WAS exams</a> is some of the best $170 I’ve ever spent. If you’re thinking of having a go at these exams, and if you take away nothing else from this post, you should at least buy that package. The three most important things for me in my studies were:</p>
<ul>
<li>The deque course.</li>
<li>Notebooks.</li>
<li>Flash cards.</li>
</ul>
<p>I went through the Deque material for both exams once very slowly, making my own set of notes in my own words. This was the part of the process where I’d stop for more research if I found something I didn’t immediately understand. It filled a good few notebooks by the time it was done. Once the notebook phase was done and I was confident I’d seen and understood the full breadth of the material, I created flash cards based on the notes.</p>
<p><img src="/2023/01/14/my-cpwa-experience-notebooks@1024x768.jpg" alt="Two A5 spiral-bound notebooks on a wooden table next to a stack of flash cards about 15cm high. "></p>
<p>My full study material for both courses looked like this once complete.</p>
<h2>CPACC</h2>
<p>The CPACC course had the most material that was totally new to me, so I focused most of my study efforts on it. The international laws, the different models of disability, the Universal Design for Learning stuff: all of it was new and exciting (and a bit intimidating too) so I threw most of my weight behind learning it.</p>
<p><img src="/2023/01/14/my-cpwa-experience-economic-model@1024x768.jpg" alt="
Spiral bound notebook open to a page titled 'Economic model'.
Below the title, handwritten text as follows.
Defines disability in terms of a persons inability to participate in work.
Assesses severity in terms of the degree of lost productivity and the economic consequences to individuals, employers and the state."></p>
<p>As someone who dropped out of a humanities university degree course back in 2006 it felt great to see that I’ve learned how to engage with this kind of material properly in the years since.</p>
<p>It was great fun learning about the different <a href="https://en.wikipedia.org/wiki/Social_model_of_disability">models of disability</a>. That’s such a useful conceptual framework for making sense of so many things. <a href="https://en.wikipedia.org/wiki/Universal_Design_for_Learning">Universal Design for Learning</a> was a topic I expected to find a little irrelevant to my own interests, but ended up finding super fun too. The way it categorises the different aspects of learning helped me understand my own learning process better. And the <a href="https://ec.europa.eu/social/main.jsp?catId=1202">international legal material</a> felt like a bit of a slog at first, but the value of the knowledge felt really clear once it was inside my head. Having a broad idea of what the legal requirements are like in different countries across the world gives a great high-level perspective.</p>
<p>All told, I think the material for this exam felt about equivalent to a typical semester-long university module. The Deque course is a great complement to the IAAP’s own <a href="https://www.accessibilityassociation.org/resource/IAAP_CPACC_BOK_March2020">CPACC Book of Knowledge</a>. I don’t believe there was a single exam question that wasn’t covered by the Deque course. They have really created a very special resource in that course. And no, they’re not paying me to promote it.</p>
<p>If you’re interested in accessibility, I think you should definitely consider studying for the CPACC exam. The material isn’t particularly technical as it’s not aimed solely at software engineers. If you’re excited about accessibility and willing to study, you can absolutely pass this exam.</p>
<p>This exam went quite well for me, which reflects how much effort I put in, I think. I was really happy with my result, which built my confidence up for the much harder Web Accessibility Specialist exam.</p>
<h2>WAS</h2>
<p>The study material for the WAS exam felt more familiar to me than the CPACC stuff because it‘s more technical, which led me to invest less of my study time in it. I regret this now. This exam turned out to be the harder of the two, and I didn’t pass it by as big a margin as the CPACC exam.</p>
<p>I also went off on more tangents, investing a lot of time studying <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA">ARIA</a> and <a href="https://www.w3.org/WAI/standards-guidelines/atag/">ATAG</a> in way more detail than either the Deque course or the <a href="https://www.accessibilityassociation.org/resource/WAS_Certification_FInal_2020_FINAL">WAS Book of Knowledge</a> cover them in. I even made an honest attempt to memorise the whole <a href="https://www.w3.org/TR/wai-aria/img/rdf_model">ARIA taxonomy</a>, which was way too ambitious and miles beyond the scope of the Book of Knowledge.</p>
<p><img src="/2023/01/14/my-cpwa-experience-aria-taxonomy@1904x811.png" alt="Sprawling UML diagram showing all the ARIA roles as boxes and the inheritance relationships between them as connecting lines."></p>
<p>I tried to memorise this.</p>
<p>I’m still happy I did this because that’s knowledge I now personally value. Having a bit of a general idea about how the different ARIA roles inherit from other more general ones feels cool as fuck. But in hindsight I should probably have focused more on the core material.</p>
<p>What was fun about this course was that it took me outside the stuff I’d covered in the retrofitting project at work. One of the coolest things I was most excited to learn about was <a href="https://webaim.org/blog/three-things-voiceover/">the different screen reader modes in JAWS and NVDA</a>. Since I only have access to VoiceOver, this course was my first exposure to that concept, and it’s really important to know about!</p>
<p><img src="/2023/01/14/my-cpwa-experience-screen-reader-modes@1024x768.jpg" alt="
Spiral bound notebook open to a page titled 'Screen reader modes'.
Below the title, handwritten text as follows.
Forms mode.
No char key shortcuts here b/c typing!
Focus only on focusable items so random text will be missed.
Document/Browse/Scan mode (default)
Lots of shortcuts, focus anything."></p>
<p>This is by far the most important UX difference between VoiceOver and the big two Windows screen readers.</p>
<p>This certification does not fuck around. It’s not like those softball LinkedIn skill tests, and it’s sure as hell not like those scrum master &quot;certifications&quot; that you get after doing a quick two day course with a perfunctory little test on the end. To stand a chance at passing this one, you need to be willing to try to memorise <a href="https://dequeuniversity.com/screenreaders/nvda-keyboard-shortcuts">keyboard shortcuts for a bunch of different screen readers</a>. You need to at least have an honest try at memorising as many of the <a href="https://www.w3.org/TR/WCAG21/">WCAG success criteria</a> as you can. It would have been impossible to pass this exam without the benefit of everything I learned from the accessibility retrofitting project at work. My experience level within the field of accessibility was definitely at the bottom end of the viable range for this certification and I only squeezed through by studying my ass off to compensate for that.</p>
<p>My result for this exam was too close for comfort. If I’d been a bit unlucky on a handful of questions, I’d have failed. A pass is a pass, sure, but I’d have preferred a comfortable pass for both exams rather than a slam dunk for one and a near miss for the other. Something to think about if your experience profile matches mine and you’re wondering how to structure your studies, I reckon.</p>
<h2>The exams themselves</h2>
<p>Kryterion are doing a great job. The potential for cheating is obvious when people are taking exams from home, and the risk that that represents for the credibility of these certifications is equally obvious. After going through the process twice, I came away with a really strong sense that successfully cheating at these exams would have been harder than just studying for them. The Kryterion folks know what they’re doing, and that’s great, I think.</p>
<p>That said, I’ve also heard anecdotally that this same online proctoring process can prevent blind people from obtaining these accessibility certifications, because it hasn’t been built in an accessible way. The irony would genuinely be quite funny if this wasn’t having a material negative impact on peoples lives. I hate that this is an issue. Everything else about this process has been so fantastic, but this does piss on the cornflakes quite a bit and that’s a shame.</p>
<p>My approach to the exams was to charge my laptop beforehand and set it up on a completely empty desk in a room with the door locked. I made sure to book the exam for a time when it’d definitely be quiet at home too. I was a little nervous about making the proctoring people suspicious, so taking steps like these was a good way to bring my nerves down for the exam.</p>
<h2>Next Steps</h2>
<p>My CPWA certification expires in 2025. If I want to renew it, I’ll have to earn at least 55 &quot;Continuing Accessibility Education Credits&quot;. So yet again the IAAP is setting its certifications apart from the more dubious tech industry certs where simply paying a fee is enough to renew them. Good for them.</p>
<p>I really hope I’ll manage to squeeze that continuous learning in and hang on to the cert. Accessibility has shown me that there’s some genuine potential for social good inherent to literally all software. If you wanted to read a whole bunch of different stuff from all over the world 50 years ago you were basically just shit out of luck if you were blind, for example, and technology has transformed that in the years since. It’s healed a badly wounded part of my soul to find a niche in this industry where the work and its outcomes are coherent with my own personal values.</p>
<p>The downside with accessibility seems to be that it’s a more precarious form of work than the industry standard AB testing grind. Elon Musk’s firing of the entire accessibility team at Twitter was shortly followed by the cancellation of the accessibility program I’d been expecting to work on at my own job. So further specialisation in accessibility doesn’t seem like the best option from a pure risk minimisation perspective, but I don’t think I care. Hopefully there will be lots of opportunities ahead to put all this hard-earned knowledge to good use!</p>
]]></description>

    </item>
    <item>
      <title>Use Your Hammer, Shithouse</title>
      <link>https://henry.catalinismith.com/2023/01/12/use-your-hammer-shithouse/</link>
      <guid>https://henry.catalinismith.com/2023/01/12/use-your-hammer-shithouse/</guid>
      <pubDate>Thu, 12 Jan 2023 24:00:00 GMT</pubDate>
      <description><![CDATA[<video
              controls
              preload="none"
              class="mt-4 max-h-screen w-full object-cover"
              poster="https://henry.catalinismith.com/2023/01/12/use-your-hammer-shithouse.jpg"
            >
              <source
                src="https://henry.catalinismith.com/2023/01/12/use-your-hammer-shithouse.mp4"
                type="video/mp4"
              />
            </video><p>Ever since <a href="https://www.facebook.com/share/v/E1kn5V8Dip6Zn8ED/?mibextid=KsPBc6">Darren Gee's run-in with the hammer weirdo</a> I find myself saying this whenever I come across Hammer Bros in Mario. And now thanks to this video, so will you!</p>
]]></description>

    </item>
    <item>
      <title>Unions Are For Us</title>
      <link>https://henry.catalinismith.com/2022/11/28/unions-are-for-us/</link>
      <guid>https://henry.catalinismith.com/2022/11/28/unions-are-for-us/</guid>
      <pubDate>Mon, 28 Nov 2022 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Many of us have grown up in fiercely anti-union cultural environments. These early experiences guide our beliefs about the role of unions in society throughout our lives. It's time for us to understand this and re-examine those beliefs with a critical perspective.</p>
<h2>So long dental plan</h2>
<p>For many of us, our first encounter with the concept of a union was <em>Last Exit To Springfield</em>. This is rightly one of the most beloved classic Simpsons episodes ever made. It's a great story and it's packed with big laughs. It's also brimming with anti-union messages. Here's a clip.</p>
<figure>
 <video
  poster="/2022/11/28/unions-are-for-us-meeting-poster.jpg"
  src="/2022/11/28/unions-are-for-us-meeting.mp4"
  title=""
  controls
  playsinline>
 </video>
 <figcaption>
 </figcaption>
</figure>
<p>In less than 30 seconds it portrays the union as corrupt, violent, feckless, stupid and ineffective. Even the eventual victory is a skin-of-the-teeth retention of the status quo that's only secured through luck. It's ahistorical and wrong. It certainly doesn't reflect lived experiences of workers in Sweden where union membership has been in the 65% - 80% ballpark for decades, powering world-leading productivity and happiness simultaneously.</p>
<p>We grew up watching this stuff, and our employers did too. Those experiences shape our beliefs just as they shape those of our employers. We're accustomed to seeing our employers as authority figures and as domain experts in their field of business, so when they reflect those same early cultural influences back at us during the early stages of unionisation it can be very demoralising.</p>
<p>It's critical that we're consciously aware during those conversations that our employers' domain expertise ends at the boundaries of their field of business. Employers are generally not amateur historians of the labour movement. We can and should feel a strong sense of empathy with them when they share their worries about a change they've been taught since birth to fear.</p>
<p>What we don't owe them is to assign a false sense of authority to the things they say about this topic. We can listen, empathise, then push it from our minds and form our own opinion based on the observable reality around us. For those of us in Sweden, that reality is consistently high quality of life rankings and over two thirds union membership.</p>
<h2>Stories that don't go anywhere</h2>
<p>In my very first job after graduating from university we got to leave early on Friday afternoons, and let me tell you, it was fucking <em>fantastic</em>. Half of us went directly from the office to the nearest pub where we'd stay until we were almost too drunk to stand.</p>
<figure>
 <img
  alt="Lenny drinking his beer after saying 'So long dental plan'"
  src="/2022/11/28/unions-are-for-us-stories-beer.jpg"
 />
</figure>
<p>If we'd made moves towards unionising there, they'd have undoubtedly pointed to those Friday afternoons as something that may only have been possible thanks to the flexibility of their carte blanche authority over the terms and conditions of work.</p>
<p>Thing is, the employers in this case benefited from that policy too. They loved leaving early on Friday, and on more than one occasion they even followed us to that pub. Under a collective bargaining agreement they'd have had every right to propose that policy during the negotiation period. But they might not have known that, and their cultural biases would have filled in that knowledge gap with anxiety. Then they'd have presented that anxiety to us as if it was an authoritative warning.</p>
<p>And as fun as it was getting blackout drunk by 5pm on Fridays with the bosses, if we’d had a proper channel of communication for negotiating about the terms and conditions of work, we might have suggested that a pension scheme was a more urgent need. Employers and workers tend to have quite different incentives and experiences like that. And if workers don’t talk among themselves and organise a coherent, unified negotiation, we leave employers to fill in that gap with guesses informed by their vastly different lives.</p>
<p>You can like your boss on a personal level and also believe you understand your own needs better than they do. You can feel gratitude for their generosity while acknowledging it could be harnessed more effectively through proper negotiation.</p>
<p>We have similarly generous terms governing working time at my current job. And just like at my first job, our employers here love those policies too and benefit greatly from them. It would be understandable for them to issue a few anxiety-driven &quot;warnings&quot; in the coming months and we should be mindful to correctly interpret those as well-meaning but misguided.</p>
<p>The decision making process about the terms and conditions of work will be strengthened - not weakened - by the meaningful inclusion of workers in those decisions. If you've experienced the guilt-laden cognitive dissonance of knowing that your compensation is good but simultaneously wishing it was <em>different</em>, what's missing from your life is collective bargaining. Without collective bargaining the amount of negotiating flexibility available to <em>you</em> is approximately zero. Don't allow yourself to be demoralised by these &quot;flexibility&quot; and &quot;innovation&quot; stories that don't go anywhere.</p>
<figure>
 <video
  poster="/2022/11/28/unions-are-for-us-stories-poster.jpg"
  src="/2022/11/28/unions-are-for-us-stories.mp4"
  title=""
  controls
  playsinline>
 </video>
 <figcaption>
 </figcaption>
</figure>
<p>Imagine a business transaction. Maybe a CEO is negotiating new terms with an important supplier. The supplier offers to handle both sides of the negotiation and promises the CEO better terms in exchange for this concession. Patently ridiculous, right? This is the offer we're accepting by choosing not to negotiate collectively on our own behalf. Even if the CEO's lifelong best friend is in charge at the supplier, it's an offer they'd refuse anyway as it'd set a precedent that would be difficult to change later if either of them moved to a new company.</p>
<h2>It was the best of times, it was the blurst of times</h2>
<p>Speaking of CEOs leaving companies, today is exactly one year since November 28th 2021, which was the last ever normal Sunday for the employees of Twitter. As far as they knew, everything was wonderful and would be wonderful on Monday too. If you'd asked them about unionising that weekend, they might have suggested that they didn't need to because things were so good. The next day, Jack Dorsey resigned, setting in motion a chain of events leading to mass layoffs and significantly worse working conditions for those left behind.</p>
<figure>
 <video
  poster="/2022/11/28/unions-are-for-us-blurst-poster.jpg"
  src="/2022/11/28/unions-are-for-us-blurst.mp4"
  title=""
  controls
  playsinline>
 </video>
 <figcaption>
  "please be prepared to do brief code reviews as I'm walking around the office."
 </figcaption>
</figure>
<p>Would an identical company with a strong union have been such an attractive hostile takeover target for a CEO with those intentions? Could that union have influenced the outcome of the takeover bid through industrial action? Might they have been able to offer some resistance to the onslaught of ultimatums and dictates regarding working conditions? Perhaps we can make an educated guess based on <a href="https://www.cnbc.com/2022/08/29/tesla-ban-on-pro-union-shirts-violated-workers-rights-nlrb.html">Elon Musk's long established opposition to unions</a>.</p>
<figure>
 <img
  alt="Mr. Burns and his father in a sepia-filtered scene where they confront a worker."
  src="/2022/11/28/unions-are-for-us-atoms.jpg"
 />
 <figcaption>
  Elon and his dad greet one of the many happy employees at their Zambian emerald mine.
 </figcaption>
</figure>
<p>The best time to join a union is when things are good. To do so is to recognise that things are good, and that it's worth taking steps to protect what you and your employer have built together. At its best, signing a collective agreement is an act of deep mutual respect.</p>
<p>The worst time to join a union is when it's too late to make a difference because you waited for a crisis. In Jane McAlevey's <em>A Collective Bargain</em>, she refers to this scenario as a &quot;hot shop&quot;.</p>
<blockquote>
<p>The employer did something horribly wrong, which enraged a majority of workers pretty much overnight, and they rushed into a drive to organize. Most hot shop efforts in our current climate end up similar to Winmore's: they fail, despite the agitation (&quot;heat&quot;) for a union.</p>
</blockquote>
<p>Even if they'd begun to organise on November 29th, the workers at Twitter might have been too late to stop what happened to them. From what I've heard it sounds like they'd built a really special culture there, and now it's been destroyed. Obviously it feels quite far fetched to imagine that happening at any of the companies where the rest of us work. It would have seemed far fetched at Twitter too.</p>
<p>The idea that unionisation is primarily a crisis response tactic is a widespread cultural trope. It's incorrect. Unions make good companies better.</p>
<h2>They have the plant but we have the power</h2>
<p>Will you work at your current job for the rest of your career? Are you sure? How sure? As sure as those engineers at Twitter were a year ago?</p>
<p>If there's a particular innovative policy that you like at your current job, then the rational thing for you to do is to use the power available to you via the labour movement to help that policy spread throughout society at large. In Sweden there's a well-defined process for this. For next year, they're prioritising a <a href="https://www.unionen.se/opinion/avtal-2023-detta-vill-vi-i-avtalsrorelsen">higher-than-normal wage increase</a> and further expansion of the flexible pension system.</p>
<p>Offering unique one-of-a-kind benefits is in your employer's interest because scarcity increases their power in their relationship with you. Improving the terms and conditions of work in general across society is in your personal interest as a worker because it decouples your basic quality of life from the randomness of the financial markets. This is the mindset that keeps Sweden at the top end of those &quot;happiest country in the world&quot; lists.</p>
<p>Is it possible you may have conflated your employer's interests with your own? Do you want a unique one-of-a-kind dental plan that vanishes from your life forever when you're laid off in the next financial crisis, or do you want that same dental plan to be table stakes for all employers so that you can keep it in your next job?</p>
<figure>
 <img
  alt="Lisa's school photo with her cheap braces resulting from her father's lack of a dental plan."
  src="/2022/11/28/unions-are-for-us-photo.jpg"
 />
</figure>
<p>The idea that unions are primarily a tool for workers with weaker leverage at the lower end of the compensation scale is culturally widespread. It's a key reason behind the low union membership in the tech industry. It's incorrect. The basic laws of physics are the same for all workers regardless of how many ping pong tables are at their employer's headquarters.</p>
<p>There's no amount of individual brilliance and luck that can overcome global macroeconomic forces. Even those world-class engineers who've taken the time to master that whole LeetCode interview rat race and gotten into Facebook are being laid off in their thousands now.</p>
<p>If you're a software engineer wanting to secure your current quality of life for the future, you could grind LeetCode for a few months and passively hope you come out of the recession lucky. Or you can do something with some actual impact and <a href="https://www.unionen.se/en/become-member"><strong>join a union now</strong></a>.</p>
]]></description>

    </item>
    <item>
      <title>Squad, Tribe, Union</title>
      <link>https://henry.catalinismith.com/2022/11/25/squad-tribe-union/</link>
      <guid>https://henry.catalinismith.com/2022/11/25/squad-tribe-union/</guid>
      <pubDate>Fri, 25 Nov 2022 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>In the 2010s, a new Swedish way of organising product development work took the tech industry by storm. Henrik Kniberg's <a href="https://blog.crisp.se/wp-content/uploads/2012/11/SpotifyScaling.pdf">whitepaper about scaling agile</a> – full of hip new words like &quot;squads&quot; – was the defining management fad of the decade. If you're in tech, you probably have fond memories of a day some five or six years ago when you found out you and your colleagues were soon to be re-organised according to this model.</p>
<p>Some of us were so impressed that we were inspired to emigrate - leaving behind our families, friends, and favourite burrito places - and go to work for the company where the model originated. Many of us were astonished by the contrast between Sweden and the countries we’d left behind. World-leading union membership levels had won a level of dignity for workers here that was unimaginable back home. Six months of parental leave on full pay is commonplace here thanks to unions.</p>
<p>We didn’t have a collective agreement of our own back then. We didn’t much care either. We were more excited about that world famous agile methodology. And besides, we still benefited from the herd immunity of all the other Swedish companies’ collective agreements, since matching those collectively bargained compensation packages was a prerequisite of competing for talent in Sweden.</p>
<p>The 2010s are behind us now, and the 2020s are shaping up to be quite a different kind of decade. One thing I want to carry forward, though, is Sweden being an exporter of cool, progressive ways to improve organisations. For the 2020s, Sweden’s 70% nationwide union membership is what the world should be copying.</p>
<p>To explain why, I want to share this modern reimagining of that infamous 2012 scaling agile whitepaper, and try to bridge the union knowledge gap using ideas we’re already familiar with in tech. Just like the whitepaper was back then, this is somewhat aspirational. My colleagues and I haven’t achieved our collective agreement yet. This is the way for us to help keep Sweden at the vanguard of the tech industry, and give our employer a chance to enjoy another ten years as the most exciting, relevant and influential employer brand.</p>
<h2>Command and control</h2>
<p>We need to lay down some foundations first to create some perspective for the model itself, so let’s begin with a completely blank slate. Here's a hypothetical company with 24 employees.</p>
<p><img src="/2022/11/25/squad-tribe-union-individual-structure.png" alt="24 faceless blue humanoid shapes arranged in three rows and two columns."></p>
<p>The individual worker is the basic indivisible unit of this org chart. Each one sells their labour power to the employer in exchange for a salary.</p>
<p>The most simplistic organisational model is direct command and control, where the employer assigns tasks to each individual worker one by one. Here’s an illustration that visualises the employer’s line of communication with the workers under the command and control model.</p>
<p><img src="/2022/11/25/squad-tribe-union-individual-organisation.png" alt="
Large red circle with a symbol of a building inside it.
Dozens of multicolored arrows shooting out of the circle.
Each arrow connects it to one of the 24 faceless blue humanoids below.
Visually very chaotic."></p>
<p>Looks like absolute chaos, right? Siloing each worker like this would disincentivise collaboration and inhibit the formation of communities. People facing similar challenges wouldn't build relationships with each other, so opportunities to share experiences and uncover economies of scale would be missed. Nonexistent collaboration would lead to significant duplication of effort. The lack of transparency would breed suspicion and resentment about fairness. And if a worker became ill, for example, whatever tasks they were responsible for would simply stop happening. Bottom line: you'd make less money this way.</p>
<p>This approach to management is not trendy at all. Capital recognises that workers achieve better outcomes through organisation. Workers agree.</p>
<h2>Squad</h2>
<p>Let’s assume the different arrow colours in the diagram above represent different business goals that the tasks contribute to. Under Henrik Kniberg’s model we should get the people with the same mission together in squads and give those squads ownership of that mission instead of assigning each individual task from the top down. So let’s get our re-org started and set up some squads.</p>
<p><img src="/2022/11/25/squad-tribe-union-squad-structure.png" alt="
24 faceless blue humanoids arranged in three rows and two columns.
Each set of four is enclosed in a box representing a squad."></p>
<p>Company owners who are accustomed to the command-and-control model can find this quite a scary transition. And it’s understandable. Superficially, it’s a lot of power to relinquish. And all those new squads have leaders insisting on new things like autonomy and ownership, which initially feels more like a challenge to their central authority than a new kind of collaboration.</p>
<p>The results are impossible to argue with though. The increased engagement alone is worth equivalent to a doubling of the headcount. Workers pool their knowledge and discover that each individual had their own unique workflows and workarounds. The best workflows spread now, and everything speeds up.</p>
<p><img src="/2022/11/25/squad-tribe-union-squad-organisation.png" alt="
Large red circle with a symbol of a building inside it.
Six multicolored arrows shooting out of the circle connecting it to each of the six squads below."></p>
<p>The company owners discover that they have a lot more free time. Under command-and-control, workers required their constant attention. Each time a task was completed, a new one had to be assigned immediately. This reactive work ate up most of their time, reducing their availability for initiatives to explore potential new sources of value.</p>
<p>In exchange for a bit of trust and autonomy, the workers are able to deliver a significant increase in surplus value to the employer. Everyone's happy. The employer can grow the business, and the workers are that little bit less alienated from their product.</p>
<p>We're not finished yet, though. The dependencies and relationships between the squads are important, but this org design doesn't address them yet. If one squad needs something from another, but they're busy on another project, what takes priority? How do we ensure that the squad missions are working towards a coherent overall goal? Is that the company owner's job?</p>
<h2>Tribe</h2>
<p>Continuing our re-org, let's identify our squads with related areas and put them in tribes accordingly. Our imaginary company has two. They're quite small for tribes really, but this model is all about scaling anyway so let's assume there are big expansion plans for both tribes.</p>
<p><img src="/2022/11/25/squad-tribe-union-tribe-structure.png" alt="
24 faceless blue humanoids arranged in three rows and two columns.
Each set of four is enclosed in a box representing a squad.
Each column of 12 is enclosed in another box representing a tribe."></p>
<p>This extra organisational layer maximises the strategic impact of the work of the squads. Tribe leads have a very broad perspective of the tribe's business context, enabling them to identify opportunities that may not be apparent at the lower level to product managers in squads.</p>
<p>It also further streamlines the communication between the employer and the workers.</p>
<p><img src="/2022/11/25/squad-tribe-union-tribe-organisation.png" alt="
Large red circle with a symbol of a building inside it.
Two multicolored arrows shooting out of the circle connecting it to both of the tribes below."></p>
<p>The broader missions of tribes means they operate on longer timelines than squads. This enables employers to set a long-term goal and make the tribe leads accountable for delivering it. It deepens the strategic maturity of the company's operations, which are now unrecognisable compared to the command-and-control model from the beginning.</p>
<p>The incredible popularity of this model throughout the 2010s demonstrates that employers and workers understand that organised, autonomous groups of workers can deliver superior outcomes as compared to siloed individuals. Some of us felt strongly enough about the importance of this that it played a role in convincing us to move to Sweden to be a part of it.</p>
<p>But this old model only covers the employer's side of the business relationship. And employers are right to focus on their side: running a successful product development company is very difficult. Applying the lessons of this model to the workers' side of the relationship to meet the challenges of the new decade is our responsibility as workers. Only we can do it.</p>
<h2>Union</h2>
<p>In much of the world, it's still considered normal to manage the worker's side of the business relationship with the command-and-control model. Each worker negotiates the terms of their employment individually with the employer, with very little transparency. Cooperation between employees is discouraged in favour of maximising the employer's influence.</p>
<p><img src="/2022/11/25/squad-tribe-union-individual-organisation.png" alt="
Large red circle with a symbol of a building inside it.
Dozens of multicolored arrows shooting out of the circle.
Each arrow connects it to one of the 24 faceless blue humanoids below.
Visually very chaotic."></p>
<p>This has the same inferior outcomes in this context as it does for product development.</p>
<p>The absence of a clear organisational channel to communicate about shared challenges leads to significant duplication of effort. Without a structured way to negotiate, workers resort to a system of ad-hoc petitions and word-of-mouth pressure campaigns. Each time workers undertake one of these campaigns they have to repeat time-consuming networking and promotional work.</p>
<p>For the employers, responding to these petitions is reactive work that's impossible to manage satisfactorily. Without a defined negotiation period, there's no way to get a holistic look at the workers' full set of demands. Last month they wanted reforms to the stock option program. This month they want to change how the fitness stipend works.</p>
<p>Put yourself in the employer's shoes and imagine trying to decide if this current request is the right one to fund. You can't fund them all. How do you know there isn't a more impactful and cheaper request coming next month that you'll regret not waiting for? The workers don't even know that themselves yet, because they're completely disorganised.</p>
<p>This is a solved problem, and the solution is the Swedish collective agreement system. Let's re-org our workers one more time. This time, they're joining a union.</p>
<p><img src="/2022/11/25/squad-tribe-union-union-structure.png" alt="
24 faceless blue humanoids arranged in three rows and two columns.
All 24 are enclosed in a single large box representing a union."></p>
<p>This is an easy re-org compared to the squads and tribes. For one, it creates an order of magnitude fewer new leadership roles. Also, because the workers are very happy with their current terms, the initial collective agreement is easy to achieve.</p>
<p>Just like the transition from the command-and-control approach to product development, this moment is understandably a little scary on the employer's side. And the results are just as impossible to argue with: unions are how Sweden so successfully balances the needs of its workers and its employers, leading the world in quality of life and innovation simultaneously.</p>
<p>In our imaginary company, the chaos of the command-and-control model is gone, and the lines of communication between the employer and the workers are significantly streamlined.</p>
<p><img src="/2022/11/25/squad-tribe-union-union-organisation.png" alt="
Large red circle with a symbol of a building inside it.
One arrow shooting out of it.
The arrow connects it to the single box below containing 24 faceless blue humanoids."></p>
<p>The union's ownership of its mission empowers it to develop a deep understanding of the workers' current likes and dislikes about their working conditions. These can then be collected together, prioritised, and negotiated over in a structured way each time the previous collective agreement expires.</p>
<p>The holistic perspective of the workers' requests means the employer is more readily able to respond to them. The commitment to peace once the agreement is signed gives them a guarantee that there really isn't another set of requests just around the corner. That certainty empowers them to give workers more in return for their labour.</p>
<h2>The time is now</h2>
<p>My colleagues have inspired the world before. For years after I moved to Sweden, I would periodically hear from yet another friend back home in the UK whose employer was adopting Henrik Kniberg's agile model. It felt like the whole UK was doing squads and tribes at one point.</p>
<p>Thatcherism mortally wounded the union movement in the UK, kicking off a political crisis that's still smouldering today. Union membership levels back home seem to have finally hit rock bottom after decades of decline. What I really want right now is for my colleagues in Sweden to inspire all my friends back home one more time and kickstart their recovery.</p>
<p>If they see us do it, they might do it too. We hold tremendous power in our hands right now. We can be part of a hugely consequential international tipping point if we can find the will to use that power. Many of us packed up our entire lives and moved countries to be a part of the old model. So we already know we're brave enough to do a <a href="https://www.unionen.se/en/become-member">quick Bank ID signup</a> for this new one.</p>
]]></description>

    </item>
    <item>
      <title>Why A Collective Agreement</title>
      <link>https://henry.catalinismith.com/2022/11/23/why-a-collective-agreement/</link>
      <guid>https://henry.catalinismith.com/2022/11/23/why-a-collective-agreement/</guid>
      <pubDate>Wed, 23 Nov 2022 24:00:00 GMT</pubDate>
      <description><![CDATA[<h2>For the past</h2>
<p>Workers in Sweden today owe their good working conditions to the country’s strong labour movement. A century of worker power has carved high expectations of working conditions into the bedrock of Swedish culture.</p>
<p>There exist rare cases today where workers without collective agreements receive benefits such as paid parental leave anyway. Even then, those workers are indirectly profiting from the strength of the labour movement which made those benefits commonplace. Organised labour is such a driving force in Sweden that employers still have to compete with the collectively bargained compensation offered by their competitors even if their own employees haven’t organised yet.</p>
<p>It took decades upon decades to build what we have today in Sweden. Many hundreds of thousands of people made untold sacrifices along the way. This is an important and successful social project spanning multiple generations. It’s something we should be enormously proud of and work to maintain.</p>
<h2>For the present</h2>
<p>Hard times are here. Cost-cutting and <a href="https://layoffs.fyi">layoffs</a> are everyday things right now. I broadly trust the people I work for, but there’s no collective agreement in place. I believe my employer’s intentions are good, but now is no time for wishful thinking. Now is the time to stand eye-to-eye as adults and make written, legally binding commitments.</p>
<p>I’m from a part of the world where union power was decimated by Thatcherism. Organising is still possible in the UK and groups like <a href="https://utaw.tech">UTAW</a> are proof of what’s possible. But the idea of a country where two thirds of the population are union members almost sounds like fantasy to someone like me. We have real power in our hands, right here and now. The question is whether we can find the will to use it.</p>
<p>While we’re deciding that, a newly elected right wing government is beginning the process of defunding key state institutions and social programs. The labour movement in Sweden has played an important role as a hedge against the slow unraveling of the welfare state since the 90s, and now is no exception. If you have private health insurance, for example, now would be an especially bad time to lose it.</p>
<h2>For the future</h2>
<p>My children will grow up in Sweden. One day they’ll need jobs. If the legacy of the boomers is that of a kind of asshole generation, pulling up the ladder behind themselves, I want my generation’s to be the opposite. I've seen first-hand what a weak labour movement and years of right wing cuts do to a country and I don't want my kids to have to work on <a href="https://en.wikipedia.org/wiki/Zero-hour_contract">zero-hour contracts</a> at Biff's Pleasure Paradise. I want to pay forward with interest what workers in Sweden fought for over the course of the past century.</p>
<p>The future’s uncertain. The rise of remote work and the platform economy - both of which are trends my employer is a key driver of - each present their own unique challenges to the labour movement. It’s critical that we meet those challenges head-on, and I think my colleagues and I have a key role to play in that.</p>
<p>The company I work for is very influential in my industry. For the past decade, <a href="https://www.atlassian.com/agile/agile-at-scale/spotify">companies have looked to us for inspiration</a> about how to organise the wage labour of their workers. I want the decade ahead to be about those same workers in those same companies looking to us for inspiration about a different kind of organising. I want the “Spotify Model” of the 2020s to be union membership.</p>
]]></description>

    </item>
    <item>
      <title>#kollektivavtal</title>
      <link>https://henry.catalinismith.com/2022/11/14/kollektivavtal/</link>
      <guid>https://henry.catalinismith.com/2022/11/14/kollektivavtal/</guid>
      <pubDate>Mon, 14 Nov 2022 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote>
<p>This is a full archive copy of the inaugural post I wrote for the #kollektivavtal Slack channel at Spotify. On November 14, 2022 I created this channel and then copypasted in this pre-written text to try to start it off on the right foot.</p>
</blockquote>
<p>It's time to move towards getting a collective agreement in place, like the majority of other workers in Sweden already have. Slido questions and ad-hoc Google doc petitions have served us well over the years, but the company's outgrown them: there are so many of us that it's become chaotic. We've become a large company, and now's the time to stop muddling along with a small company approach to these conversations. Going forward, the structure and leverage of a collective agreement is the way for us to influence how our working conditions evolve during the uncertain times ahead.</p>
<p>I personally have a lot of confidence in the current senior leadership team and I think they're genuinely committed to the Swedish values of Spotify's employer branding. That's the reason I feel comfortable posting this despite the stigma that exists around this topic in other countries: I don't anticipate any San Francisco-style unpleasantness. That's partly because collective agreements are as Swedish as julmust and parental equality and therefore an opportunity to develop the Spotify employer brand to a new level, but also because I think it's clear it's the right way to scale these conversations after this year of dizzying headcount growth.</p>
<p>In the short term, a collective agreement can also provide protection for benefits such as paid parental leave, which are otherwise theoretically vulnerable to being cut in favor of investments elsewhere. In the long term, it can even provide some continuity between senior leadership teams, by limiting how drastically a new CEO - for example - can change our working conditions.</p>
<p>I want to be clear that I don't believe any such changes are imminent, and that if they were, we'd be starting this process too late now anyway. But none of us has a crystal ball with which to make guarantees about what will or won't happen in the future, and especially not given the current macroeconomic context. In fact I believe this is another reason why a collective agreement could be welcomed by both sides: our current senior leadership team are sincere about the values underpinning the working conditions here at Spotify, and a collective agreement takes certain options off the table that investors may otherwise pressure them to consider if - for example - we have a bad series of quarterly results.</p>
<p>If you're on board with the idea. Join Unionen now if you're not already a member. There are other unions out there too, and membership in those also helps, but Unionen is the biggest, most inclusive choice, and a safe bet. If you're in Sweden on a work permit, look into guest membership. If you have any questions or thoughts, let's discuss them here in this channel. I know many of you have wanted a collective agreement for some time but are perhaps a little nervous about it, and I hope I've convinced you it's not as adversarial or conspiratorial as you might have thought. but if not. I'm also available to talk in private. I'm gonna get Unionen on the phone ASAP to discuss next steps, and if there's anything to share l'll post it here, so be sure to join the channel if you're interested!</p>
]]></description>

    </item>
    <item>
      <title>Passport Hacking</title>
      <link>https://henry.catalinismith.com/2022/11/09/passport-hacking/</link>
      <guid>https://henry.catalinismith.com/2022/11/09/passport-hacking/</guid>
      <pubDate>Wed, 09 Nov 2022 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>The passport system in Sweden collapsed earlier this year when pandemic travel restrictions lifted and half the country tried to renew their passports at once. In March I tried to book an appointment to get passports for the kids so they could visit their extended family for the first time. The date I got was in October.</p>
<figure>
 <img
  src="/2022/11/09/passport-hacking-passexpedition@768x640.jpeg"
  alt="Waiting room with fluorescent lights and an LED sign showing current queue positions. Wooden benches in the foreground. Behind them are several booths with curtains around them for taking flash photos inside."
 />
 <figcaption>
  In Sweden you have to go to one of these special offices where a cop literally watches you pose for your passport photo.
 </figcaption>
</figure>
<h2>Pass für alle</h2>
<p>By May the crisis was so bad that <a href="https://github.com/jonkpirateboy/Pass-fur-alle">Pass für alle</a> went viral. This was a bit of JavaScript that could automatically refresh the passport booking page and grab earlier slots.</p>
<p>It helped a few Stockholm people I knew get a better appointment, but it wasn't working for me down in Skåne. In Stockholm there was more of everything: more passport offices, more cancellations, more new booking slots available. In Skåne there was less activity, so the script needed to run longer to get results. And there's only one passport office per town here, so the logistics are more complicated.</p>
<p>I <em>really</em> wanted to get the kids to the UK during the summer if possible so that we wouldn't spend the whole trip indoors. So I set about building my own Skåne-friendly version of Pass für alle.</p>
<h2>Beep boop</h2>
<p>The first thing I did was make it beep. Skåne's slower pace meant it wasn't practical to sit and watch the screen. The beeping meant the laptop could be across the room and I'd know how it was going without looking.</p>
<h3>Beep beep</h3>
<p>First up: some constant high pitched beeping.</p>
<pre class="">setInterval(() => {
  sfx(pow2(9), "triangle", pow2(8))
}, pow2(10))
setInterval(() => {
  sfx(pow2(9), "triangle", pow2(8))
}, pow2(11))
</pre>
<figure>
 <audio
  controls
  src="/2022/11/09/passport-hacking-beep-beep.mp3"
 ></audio>
 <figcaption>
  Beep beep
 </figcaption>
</figure>
<p>That made for a nice loud heartbeat so that the sudden silence would be noticeable if anything broke and it stopped running. It's quite a high-pitched and annoying sound, but it had to compete with the noise from two small kids.</p>
<h3>Boop boooooop</h3>
<p>The most common thing to happen after reloading the page was for no appointments to be found. This needed a noise too.</p>
<pre class="">sfx(20, "square", 500)
  .then(() => wait(10))
  .then(() => sfx(40, "square", 4000))
</pre>
<figure>
 <audio
  controls
  src="/2022/11/09/passport-hacking-boop-boooop.mp3"
 ></audio>
 <figcaption>
  Boop booooop.
 </figcaption>
</figure>
<p>I kept the pitch low for this one. The script failed like 99.99% of the time so this didn't need a lot of attention. Plus from a musical perspective it combined quite nicely with the high pitch of the page load heartbeat like this.</p>
<h3>Beep beep boop</h3>
<p>Sometimes there would be an appointment a few towns away. As long as it was late enough to get there in time by train this was great news! A nice high pitched alert sound announced this scenario.</p>
<pre class="">sfx(600, "sawtooth", 400)
  .then(() => wait(10))
  .then(() => sfx(400, "sawtooth", 420))
  .then(() => wait(10))
  .then(() => sfx(200, "sawtooth", 440))
</pre>
<figure>
 <audio
  controls
  src="/2022/11/09/passport-hacking-beep-beep-boop.mp3"
 ></audio>
 <figcaption>
  Beep beep boop.
 </figcaption>
</figure>
<h3>Boop boop beep</h3>
<p>The best case scenario was an appointment here in Malmö. A triumphant little chirp was the sound for this.</p>
<pre class="">sfx(400, "triangle", 500)
  .then(() => wait(10))
  .then(() => sfx(500, "triangle", 220))
  .then(() => wait(10))
  .then(() => sfx(600, "triangle", 240))
</pre>
<figure>
 <audio
  controls
  src="/2022/11/09/passport-hacking-boop-boop-beep.mp3"
 ></audio>
 <figcaption>
  Boop boop beep!
 </figcaption>
</figure>
<h2>The finished product</h2>
<p>If you're interested, you can read <a href="/2022/11/09/passport-hacking-script.js">the full source code</a>. For a few days I ran that for several hours at a time. Here's a little ten second taste of that experience.</p>
<figure>
 <video
  poster="/2022/11/09/passport-hacking-running-poster@768x432.jpeg"
  src="/2022/11/09/passport-hacking-running@768x432.mp4"
  title="Macbook with the code linked above visible on screen and an excited baby repeatedly hitting the keyboard with his hand."
  controls
  playsinline>
 </video>
 <figcaption>
  The secret ingredient is violence.
 </figcaption>
</figure>
<h2>Climactic Ending</h2>
<p>Around about the same time as I got this running, the police increased their capacity and added a bunch of new times. The instant they did that I got a next-day booking the old fashioned way. lol.</p>
]]></description>

    </item>
    <item>
      <title>Tailbone Instructions</title>
      <link>https://henry.catalinismith.com/2022/10/25/tailbone-instructions/</link>
      <guid>https://henry.catalinismith.com/2022/10/25/tailbone-instructions/</guid>
      <pubDate>Tue, 25 Oct 2022 24:00:00 GMT</pubDate>
      <description><![CDATA[<h2>Jump</h2>
<p>On a touchscreen device, press the screen once to jump.
On a keyboard, the <code>X</code> key triggers a jump. The <code>space</code> key also works.
Clicking the left mouse button works too.</p>
<figure>
 <video
  controls
  loop
  muted
  playsinline
  style="aspect-ratio:1/1"
  poster="/2022/10/25/tailbone-jump-poster@512x512.png"
  src="/2022/10/25/tailbone-jump-loop@512x512.mp4"
 ></video>
 <figcaption>
  You die if you crash into a cactus!
 </figcaption>
</figure>
<h2>Slam</h2>
<p>While in the air, press jump a second time to slam.</p>
<figure>
 <video
  controls
  loop
  muted
  playsinline
  style="aspect-ratio:1/1"
  poster="/2022/10/25/tailbone-slam-poster@512x512.png"
  src="/2022/10/25/tailbone-slam-loop@512x512.mp4"
 ></video>
 <figcaption>
  Slamming a cactus kills it!
 </figcaption>
</figure>
<h2>Fly</h2>
<p>Instead of releasing your slam straight away, hold down that second jump press to fly.
Flying makes your jump last longer so you can cross larger distances in the air.</p>
<figure>
 <video
  controls
  loop
  muted
  playsinline
  style="aspect-ratio:1/1"
  poster="/2022/10/25/tailbone-grab-poster@512x512.png"
  src="/2022/10/25/tailbone-grab-loop@512x512.mp4"
 ></video>
 <figcaption>
  You can fly for about one whole screenful of distance.
 </figcaption>
</figure>
<h2>Combo</h2>
<p>Chain together multiple tricks without touching the floor to fill up your combo bar.
Each time you max out the bar you get a score bonus and the difficulty increases slightly.</p>
<figure>
 <video
  controls
  muted
  playsinline
  style="aspect-ratio:1/1"
  poster="/2022/10/25/tailbone-combo-poster@512x512.png"
  src="/2022/10/25/tailbone-combo-loop@512x512.mp4"
 ></video>
 <figcaption>
  Watch out for the lava!
 </figcaption>
</figure>
]]></description>

    </item>
    <item>
      <title>Sequencer VoiceOver Demo</title>
      <link>https://henry.catalinismith.com/2022/04/04/sequencer-voiceover-demo/</link>
      <guid>https://henry.catalinismith.com/2022/04/04/sequencer-voiceover-demo/</guid>
      <pubDate>Mon, 04 Apr 2022 24:00:00 GMT</pubDate>
      <description><![CDATA[<video
              controls
              preload="none"
              class="mt-4 max-h-screen w-full object-cover"
              poster="https://henry.catalinismith.com/2022/04/04/sequencer-voiceover-demo.jpg"
            >
              <source
                src="https://henry.catalinismith.com/2022/04/04/sequencer-voiceover-demo.mp4"
                type="video/mp4"
              />
            </video><p>Retrofitted this drum sequencer UI with some accessibility improvements. Particularly proud of how the use of “bars”, “beats” and “cells” in the ARIA labels makes it possible to perceive a data structure that was previously only represented visually via varying amounts of blank space. I think it makes for a lovely demo of what's possible in this field.</p>
]]></description>

    </item>
    <item>
      <title>Island Village</title>
      <link>https://henry.catalinismith.com/2021/05/21/island-village/</link>
      <guid>https://henry.catalinismith.com/2021/05/21/island-village/</guid>
      <pubDate>Fri, 21 May 2021 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2021/05/21/island-village.png" alt="Minecraft screenshot featuring an aerial shot of a T-shaped island with a village on it and walls around the perimeter." /><p>A village transformation I did in Minecraft. This was seed 542630838 on Bedrock.</p>
]]></description>

    </item>
    <item>
      <title>Highvalley</title>
      <link>https://henry.catalinismith.com/2021/05/04/highvalley/</link>
      <guid>https://henry.catalinismith.com/2021/05/04/highvalley/</guid>
      <pubDate>Tue, 04 May 2021 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2021/05/04/highvalley.jpeg" alt="Minecraft screenshot featuring a top-down aerial shot of a town. There are mountains and forests to the north and desert to the south. A river runs along the western boundary. The center of the town is fortified and the entire perimeter is fenced off." /><p>A Minecraft village transformation. This was a seed with like 5 adjacent villages, which I fortified into a large town.</p>
]]></description>

    </item>
    <item>
      <title>Boomshak</title>
      <link>https://henry.catalinismith.com/2021/03/11/boomshak/</link>
      <guid>https://henry.catalinismith.com/2021/03/11/boomshak/</guid>
      <pubDate>Thu, 11 Mar 2021 24:00:00 GMT</pubDate>
      <description><![CDATA[<video
              controls
              preload="none"
              class="mt-4 max-h-screen w-full object-cover"
              poster="https://henry.catalinismith.com/2021/03/11/boomshak.png"
            >
              <source
                src="https://henry.catalinismith.com/2021/03/11/boomshak.mp4"
                type="video/mp4"
              />
            </video><p>An SVG remake I made of the PICO-8 font. The <a href="https://github.com/henrycatalinismith/boomshak">code for this is on GitHub</a> and there's <a href="https://henry.catalinismith.com/boomshak/">a little demo site</a> where you can browse the glyphs. My fav detail about this is how animateable it is, so that's what the video showcases.</p>
]]></description>

    </item>
    <item>
      <title>moonrise</title>
      <link>https://henry.catalinismith.com/2021/03/04/moonrise/</link>
      <guid>https://henry.catalinismith.com/2021/03/04/moonrise/</guid>
      <pubDate>Thu, 04 Mar 2021 24:00:00 GMT</pubDate>
      <description><![CDATA[<video
              controls
              preload="none"
              class="mt-4 max-h-screen w-full object-cover"
              poster="https://henry.catalinismith.com/2021/03/04/moonrise-demo-poster@512x512.png"
            >
              <source
                src="https://henry.catalinismith.com/2021/03/04/moonrise-demo@512x512.mp4"
                type="video/mp4"
              />
            </video><p>Moon animation in pure CSS.</p>
<iframe height="300" style="width: 100%;" scrolling="no" title="Moonrise" src="https://codepen.io/henrycatalinismith/embed/MWxdOqZ?default-tab=css%2Cresult" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href="https://codepen.io/henrycatalinismith/pen/MWxdOqZ">
  Moonrise</a> by Henry Catalini Smith (<a href="https://codepen.io/henrycatalinismith">@henrycatalinismith</a>)
  on <a href="https://codepen.io">CodePen</a>.
</iframe>
]]></description>

    </item>
    <item>
      <title>hivernal</title>
      <link>https://henry.catalinismith.com/2021/02/21/hivernal/</link>
      <guid>https://henry.catalinismith.com/2021/02/21/hivernal/</guid>
      <pubDate>Sun, 21 Feb 2021 24:00:00 GMT</pubDate>
      <description><![CDATA[<video
              controls
              preload="none"
              class="mt-4 max-h-screen w-full object-cover"
              poster="https://henry.catalinismith.com/2021/02/21/hivernal-demo-poster@512x512.png"
            >
              <source
                src="https://henry.catalinismith.com/2021/02/21/hivernal-demo@512x512.mp4"
                type="video/mp4"
              />
            </video><p>Winter animation in pure CSS.</p>
<iframe height="300" style="width: 100%;" scrolling="no" title="Hivernal" src="https://codepen.io/henrycatalinismith/embed/OJqYOwj?default-tab=css%2Cresult" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href="https://codepen.io/henrycatalinismith/pen/OJqYOwj">
  Hivernal</a> by Henry Catalini Smith (<a href="https://codepen.io/henrycatalinismith">@henrycatalinismith</a>)
  on <a href="https://codepen.io">CodePen</a>.
</iframe>
<h2>How This Works</h2>
<h3>Pure CSS</h3>
<p>This is a pure CSS implementation of a Pythagoras tree with a bit of snow as an added flourish. By &quot;pure CSS&quot; I mean no extra HTML elements except for the bare minimum required to deliver the CSS in a valid way, so no <code>&lt;div class=&quot;tree&quot;&gt;</code> helper elements or anything like that.</p>
<h3>Pythagoras tree</h3>
<p>The tree is based on the <a href="https://rosettacode.org/wiki/Pythagoras_tree">Pythagoras tree example code on Rosetta Code</a>. I haven't found anywhere else that someone's built a pythagoras tree in CSS like this, so here's how mine works.</p>
<p>I set a brown background on the <code>::after</code> pseudo-element on the body, and then use <code>clip-path</code> to hide the parts outside the tree. To create the wind effect on the branches, I generate two slightly different trees and use a keyframe animation to bounce back and forth between them.</p>
<h3>Snow</h3>
<p>The snow uses the same combination of <code>background-color</code> and <code>clip-path</code> as the tree, except with circles instead of polygons. The snow moves left as it falls in time with the swaying of the tree, which is supposed to create a bit of a wind effect.</p>
<h3>Performance trade-offs</h3>
<p>This one has slightly better performance than the CPU melting <a href="/2020/12/01/doomfire/">doomfire animation</a> I made a couple of months ago, but it's still not really a technique you'd want in a production website. Who cares though? It's fun as hell making these.</p>
<p>And just like with doomfire, one thing I really like about this is that it takes advantage of one of the unique strengths of CSS. In this case, it's the swaying tree animation. Almost everywhere you find pythagoras trees, they're a completely static image. CSS made it fairly easy to bring this one to life with the keyframe animation, whereas most other technologies would require you to write a bunch of extra code for that.</p>
]]></description>

    </item>
    <item>
      <title>doomfire</title>
      <link>https://henry.catalinismith.com/2020/12/01/doomfire/</link>
      <guid>https://henry.catalinismith.com/2020/12/01/doomfire/</guid>
      <pubDate>Tue, 01 Dec 2020 24:00:00 GMT</pubDate>
      <description><![CDATA[<video
              controls
              preload="none"
              class="mt-4 max-h-screen w-full object-cover"
              poster="https://henry.catalinismith.com/2020/12/01/doomfire-demo-poster@512x512.png"
            >
              <source
                src="https://henry.catalinismith.com/2020/12/01/doomfire-demo@512x512.mp4"
                type="video/mp4"
              />
            </video><p>Fire animation in pure CSS inspired by the PlayStation version of DOOM.</p>
<iframe height="300" style="width: 100%" scrolling="no" title="doomfire" src="https://codepen.io/henrycatalinismith/embed/preview/jOrraKw?default-tab=css%2Cresult" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href="https://codepen.io/henrycatalinismith/pen/jOrraKw">
  doomfire</a> by Henry Catalini Smith (<a href="https://codepen.io/henrycatalinismith">@henrycatalinismith</a>)
  on <a href="https://codepen.io">CodePen</a>.
</iframe>
<h2>How This Works</h2>
<p>The algorithm for the fire itself is from Fabien Sanglard's <a href="https://fabiensanglard.net/doom_fire_psx/">How DOOM fire was done</a>. Fabien's write-up was so helpful that it inspired me to try and pay it forward by explaining how my implementation works. So here goes!</p>
<h3>Pure CSS</h3>
<p>It's quite common for CSS animation demos like these to include a bunch of placeholder HTML elements. Typically it'll be like a bunch of <code>&lt;div&gt;</code> elements for the CSS to animate.</p>
<p>This one doesn't have any of that, which is what I mean when I call it a &quot;pure CSS&quot; implementation. There's no HTML involved except for the bare minimum required to deliver the CSS in a valid way. What this means is that at its very core, the whole animation piggybacks off a pseudo element on the <code>&lt;body&gt;</code> tag.</p>
<h3>One square, one frame</h3>
<p>We need one static black square as a starting point.</p>
<pre class="css">body::after {
  background: black;
  content: "";
  position: absolute;
  width: 128px;
  height: 128px;
}
</pre>
<figure>
 <img
  alt="White square with a black square in the top left."
  src="/2020/12/01/doomfire-example-output-1@256x256.png"
 />
 <figcaption>
  The black square is the <code>::after</code> pseudo-element.
 </figcaption>
</figure>
<p>The black square is the <code>::after</code> pseudo-element.</p>
<h3>Two squares, one frame</h3>
<p>The next step is to turn that 1x1 black square into a whole 2D screen, and the magic words for that is box-shadow. In most everyday web development, box shadows are blurry and obscured by the element they belong to. To use them for this kind of magic, there are three rules:</p>
<ol>
<li>Hide the element itself: no background color.</li>
<li>Position them so that they're completely outside the element.</li>
<li>Don't set a blur radius.</li>
</ol>
<p>So here's an updated example using the above technique to increase the resolution from 1x1 to 1x2.</p>
<pre class="css">body::after {
  content: "";
  position: absolute;
  width: 128px;
  height: 128px;
  box-shadow:
    128px calc(128px * 0) yellow,
    128px calc(128px * 1) red;
}
</pre>
<figure>
 <img
  alt="White square with a yellow square in the top right and a red one in the bottom right."
  src="/2020/12/01/doomfire-example-output-2@256x256.png"
 />
 <figcaption>
  The yellow square is drawn by the first <code>box-shadow</code> and the red square is drawn by the second one.
 </figcaption>
</figure>
<p>The yellow square is drawn by the first <code>box-shadow</code> and the red square is drawn by the second one.</p>
<h3>Two squares, three frames</h3>
<p>From here, increasing the resolution beyond 1x2 is a matter of adding more box shadows to the list. And making them update to look like a fire is a keyframe animation.</p>
<pre class="css">@keyframes fire {
  33% {
    box-shadow:
      128px calc(128px * 0) white,
      128px calc(128px * 1) white;
  }
  66% {
    box-shadow:
      128px calc(128px * 0) white,
      128px calc(128px * 1) red;
  }
  99% {
    box-shadow:
      128px calc(128px * 0) yellow,
      128px calc(128px * 1) red;
  }
}
</pre>
<figure>
 <img
  alt="White square with a black square in the top left."
  src="/2020/12/01/doomfire-example-output-1@256x256.png"
 />
 <figcaption>
  The black square is the <code>::after</code> pseudo-element.
 </figcaption>
</figure>
<p>Now it's starting to look like a fire.</p>
<h3>Performance trade-offs</h3>
<p>One of the downsides of this technique is how inefficient it is. Box shadows don't animate efficiently even at small scale and this takes them to an extreme. On the bright side, the heating effect this fire animation has on your CPU adds an extra level of immersion and realism to the experience.</p>
<p>And because every pixel in every frame of the animation needs to be declared explicitly, this is a bandwidth hog too. This 16 second animation is 3.5 megabytes of CSS! Rather than have it cut out abruptly after 16 seconds, I've made it loop infinitely. And fortunately enough, the loop is really seamless. But to make it loop, I've had to cut the part at the beginning where the fire spreads in from the bottom, which is a shame.</p>
<p>It's not all downsides though. The original DOOM implementation has a real videogame look to it, and the reason this implementation looks a bit more like real flames is thanks to CSS. While the example code above uses a square pseudo element, the real animation uses a long thin one. This stretches the flames out a bit vertically, without changing anything about the algorithm powering it. Combined with the blur filter, I think it produces a pretty neat effect!</p>
]]></description>

    </item>
    <item>
      <title>itsy studio</title>
      <link>https://henry.catalinismith.com/2020/09/15/itsy-studio/</link>
      <guid>https://henry.catalinismith.com/2020/09/15/itsy-studio/</guid>
      <pubDate>Tue, 15 Sep 2020 24:00:00 GMT</pubDate>
      <description><![CDATA[<video
              controls
              preload="none"
              class="mt-4 max-h-screen w-full object-cover"
              poster="https://henry.catalinismith.com/2020/09/15/itsy-studio.jpg"
            >
              <source
                src="https://henry.catalinismith.com/2020/09/15/itsy-studio.mp4"
                type="video/mp4"
              />
            </video><p>I tried to make a mobile version of the PICO-8 fantasy console. It's unfinished and abandoned, but this video lives on as proof of how far I got. Had to write <a href="https://github.com/henrycatalinismith/itsy/tree/main/itsyplay">a lot of C code</a> for this, and dealt with a lot of difficult issues passing data back and forth between React Native, web views, and web assembly.</p>
]]></description>

    </item>
    <item>
      <title>Natural Cycles Animation</title>
      <link>https://henry.catalinismith.com/2020/04/22/natural-cycles-animation/</link>
      <guid>https://henry.catalinismith.com/2020/04/22/natural-cycles-animation/</guid>
      <pubDate>Wed, 22 Apr 2020 24:00:00 GMT</pubDate>
      <description><![CDATA[<video
              controls
              preload="none"
              class="mt-4 max-h-screen w-full object-cover"
              poster="https://henry.catalinismith.com/2020/04/22/natural-cycles-animation.png"
            >
              <source
                src="https://henry.catalinismith.com/2020/04/22/natural-cycles-animation.mp4"
                type="video/mp4"
              />
            </video><p>Explanatory animation about the Natural Cycles algorithm. I came up with this concept and implemented it as an A/B test for the &quot;How It Works&quot; page on the Natural Cycles website. It generated enough of an uplift in conversion rate that we kept it after the test concluded, until it was eventually displaced by a later successful A/B test result. The animation is powered by React and CSS.</p>
]]></description>

    </item>
    <item>
      <title>Tailbone Launch</title>
      <link>https://henry.catalinismith.com/2018/06/05/tailbone-launch/</link>
      <guid>https://henry.catalinismith.com/2018/06/05/tailbone-launch/</guid>
      <pubDate>Tue, 05 Jun 2018 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2018/06/05/tailbone-launch.png" alt="App Store screenshot showing a game called Tailbone and several screenshots and demo videos." /><p>Tailbone was my first ever App Store release and this was the screenshot I took as a souvenir when it got approved and published.</p>
]]></description>

    </item>
    <item>
      <title>Tailbone</title>
      <link>https://henry.catalinismith.com/projects/tailbone/</link>
      <guid>https://henry.catalinismith.com/projects/tailbone/</guid>
      <pubDate>Tue, 05 Jun 2018 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2018/06/05/tailbone@672x353.png" alt="" />]]></description>

    </item>
    <item>
      <title>Högdalen</title>
      <link>https://henry.catalinismith.com/2018/05/04/hogdalen/</link>
      <guid>https://henry.catalinismith.com/2018/05/04/hogdalen/</guid>
      <pubDate>Fri, 04 May 2018 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2018/05/04/hogdalen.jpg" alt="Busy street scene with people coming and going, multicolored bunting hanging above, as well as a circular white sign with a red rooster symbol. The same symbol is emblazoned in a 3 meter tall sign on a tall building nearby, underneath a large sign saying “Högdalen”." />]]></description>

    </item>
    <item>
      <title>Hyperlink Design Sprint</title>
      <link>https://henry.catalinismith.com/2017/11/28/hyperlink-design-sprint/</link>
      <guid>https://henry.catalinismith.com/2017/11/28/hyperlink-design-sprint/</guid>
      <pubDate>Tue, 28 Nov 2017 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2017/11/28/hyperlink-design-sprint.jpg" alt="A person in a red hoodie sits at a table looking at a piece of paper while holding a pen." /><p>Fun photo from a fun week where we chilled and shared ideas about how to rejuvenate the Spotify Play Button. That's this guy right here ⤵️</p>
<iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/0Bo5fjMtTfCD8vHGebivqc?utm_source=generator" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
<p>This ended up being my avatar on tons of things for years after. I loved that it's a photo of actual work happening, rather than some staged thing.</p>
<p><img src="/2017/11/28/hyperlink-design-sprint-avatar@409x409.jpg" alt="A person in a red hoodie sits at a table looking at a piece of paper while holding a pen"></p>
]]></description>

    </item>
    <item>
      <title>Home</title>
      <link>https://henry.catalinismith.com/2017/07/17/home/</link>
      <guid>https://henry.catalinismith.com/2017/07/17/home/</guid>
      <pubDate>Mon, 17 Jul 2017 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2017/07/17/home.jpg" alt="White bungalow with a grey roof on a clear sunny day. A white car and van are parked outside on a gravel drive." /><p>Miss this place.</p>
]]></description>

    </item>
    <item>
      <title>Backflip Goal</title>
      <link>https://henry.catalinismith.com/2017/06/19/backflip-goal/</link>
      <guid>https://henry.catalinismith.com/2017/06/19/backflip-goal/</guid>
      <pubDate>Mon, 19 Jun 2017 24:00:00 GMT</pubDate>
      <description><![CDATA[<video
              controls
              preload="none"
              class="mt-4 max-h-screen w-full object-cover"
              poster="https://henry.catalinismith.com/2017/06/19/backflip-goal.jpg"
            >
              <source
                src="https://henry.catalinismith.com/2017/06/19/backflip-goal.mp4"
                type="video/mp4"
              />
            </video><p>One of my better RL goals.</p>
]]></description>

    </item>
    <item>
      <title>OK Google Say Hey Siri Tell Me My Name</title>
      <link>https://henry.catalinismith.com/2017/05/18/ok-google-say-hey-siri-tell-me-my-name/</link>
      <guid>https://henry.catalinismith.com/2017/05/18/ok-google-say-hey-siri-tell-me-my-name/</guid>
      <pubDate>Thu, 18 May 2017 24:00:00 GMT</pubDate>
      <description><![CDATA[<video
              controls
              preload="none"
              class="mt-4 max-h-screen w-full object-cover"
              poster="https://henry.catalinismith.com/2017/05/18/ok-google-say-hey-siri-tell-me-my-name.jpg"
            >
              <source
                src="https://henry.catalinismith.com/2017/05/18/ok-google-say-hey-siri-tell-me-my-name.mp4"
                type="video/mp4"
              />
            </video><p>Some people say Discover Weekly is the most important innovation ever to come out of a Hack Week at Spotify. Those people are wrong.</p>
]]></description>

    </item>
    <item>
      <title>Spotify Boilerplate App</title>
      <link>https://henry.catalinismith.com/2017/02/12/spotify-boilerplate-app/</link>
      <guid>https://henry.catalinismith.com/2017/02/12/spotify-boilerplate-app/</guid>
      <pubDate>Sun, 12 Feb 2017 24:00:00 GMT</pubDate>
      <description><![CDATA[<video
              controls
              preload="none"
              class="mt-4 max-h-screen w-full object-cover"
              poster="https://henry.catalinismith.com/2017/02/12/spotify-boilerplate-app.gif"
            >
              <source
                src="https://henry.catalinismith.com/2017/02/12/"
                type="video/mp4"
              />
            </video><p>By 2017 there was consensus among the Spotify desktop team that we wanted new features to be built in React, but somehow it wasn't quite happening yet. I took it upon myself to solve this by rebuilding the “boilerplate” app in React. I put a lot of love into this to try to make it something that would get people feeling excited and positive.</p>
]]></description>

    </item>
    <item>
      <title>Guillotine</title>
      <link>https://henry.catalinismith.com/2017/01/21/guillotine/</link>
      <guid>https://henry.catalinismith.com/2017/01/21/guillotine/</guid>
      <pubDate>Sat, 21 Jan 2017 24:00:00 GMT</pubDate>
      <description><![CDATA[<video
              controls
              preload="none"
              class="mt-4 max-h-screen w-full object-cover"
              poster="https://henry.catalinismith.com/2017/01/21/guillotine.jpg"
            >
              <source
                src="https://henry.catalinismith.com/2017/01/21/guillotine.mp4"
                type="video/mp4"
              />
            </video><p>A lot of people made <a href="https://www.avclub.com/take-a-load-off-by-watching-remixes-of-richard-spencer-1798256950">one of these</a>, and this is mine.</p>
]]></description>

    </item>
    <item>
      <title>Rap do Bonde</title>
      <link>https://henry.catalinismith.com/2016/12/15/rap-do-bonde/</link>
      <guid>https://henry.catalinismith.com/2016/12/15/rap-do-bonde/</guid>
      <pubDate>Thu, 15 Dec 2016 24:00:00 GMT</pubDate>
      <description><![CDATA[<video
              controls
              preload="none"
              class="mt-4 max-h-screen w-full object-cover"
              poster="https://henry.catalinismith.com/2016/12/15/rap-do-bonde.jpg"
            >
              <source
                src="https://henry.catalinismith.com/2016/12/15/rap-do-bonde.mp4"
                type="video/mp4"
              />
            </video><p>Maybe you have to speak Swedish and Portuguese to appreciate this. Don't care. Can't watch the intro to <em lang="sv"><a href="https://www.tv4.se/bonde">Bonde Söker Fru</a></em> without thinking about this song, and had to make this video to get it out of my system. You have to watch to the end BTW.</p>
]]></description>

    </item>
    <item>
      <title>Manhattan Trump Protest</title>
      <link>https://henry.catalinismith.com/2016/11/09/manhattan-trump-protest/</link>
      <guid>https://henry.catalinismith.com/2016/11/09/manhattan-trump-protest/</guid>
      <pubDate>Wed, 09 Nov 2016 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2016/11/09/manhattan-trump-protest@1143x1143.jpeg" alt="City scene at night with a large crowd of people marching through a street in the rain. In the foreground a sign is visible that reads &quot;Fuck Donald Trump&quot;." /><p>I was in New York for work during the 2016 presidential elections. The day after, I got a warning email from some kind of employee travel safety company saying to stay away from Union Square that night because there was going to be a big protest. That's me in the bottom left of the picture next to the woman with the camera.</p>
]]></description>

    </item>
    <item>
      <title>No Cigar</title>
      <link>https://henry.catalinismith.com/2016/04/26/no-cigar/</link>
      <guid>https://henry.catalinismith.com/2016/04/26/no-cigar/</guid>
      <pubDate>Tue, 26 Apr 2016 24:00:00 GMT</pubDate>
      <description><![CDATA[<video
              controls
              preload="none"
              class="mt-4 max-h-screen w-full object-cover"
              poster="https://henry.catalinismith.com/2016/04/26/no-cigar.jpg"
            >
              <source
                src="https://henry.catalinismith.com/2016/04/26/no-cigar.mp4"
                type="video/mp4"
              />
            </video><p>Skating in Stockholm in April. Hate it here.</p>
]]></description>

    </item>
    <item>
      <title>Lost in space</title>
      <link>https://henry.catalinismith.com/2015/11/06/lost-in-space/</link>
      <guid>https://henry.catalinismith.com/2015/11/06/lost-in-space/</guid>
      <pubDate>Fri, 06 Nov 2015 24:00:00 GMT</pubDate>
      <description><![CDATA[<h1>Lost In Space</h1>
<p>Simulating gravity has made all the other space-related code I’ve written so far for this project seem easy. This has been one of those demoralising problems that you think you’ve solved until you try a new test scenario and suddenly you’re back at square one because it turns out it was never really working right at all. For a good while I genuinely didn’t think I was going to be able to make it work at all.</p>
<h2>The equation</h2>
<p>On the face of it, gravity’s really simple. It’s a tiny little formula that converts a body’s mass and your distance from it into your gravitational acceleration.</p>
<figure>
 <img
  src="/2015/11/06/lost-in-space-equation@640x360.png"
  alt="Newton's law of universal gravitation: g = GM/r2"
 />
 <figcaption>
  Easy.
 </figcaption>
</figure>
<h2>First attempts</h2>
<p>At least, it would have been that simple if I’d done a better job of the initial research. My first attempts were using a totally different and wrong equation that I hacked together based on an incomplete understanding of various things I’d hastily skim-read from Google.</p>
<p>I threw a bunch of code together, all excited to see some proper space stuff happening. The first test run felt so climactic that I recorded it. Here it is. Even if you really sucked at physics in school, I promise you’re gonna be able to spot the problem. Check it out.</p>
<figure>
 <video
  poster="/2015/11/06/lost-in-space-first-attempt-poster@564x472.png"
  src="/2015/11/06/lost-in-space-first-attempt@564x472.mp4"
  title="The Earth and Sun moving away from each other instead of towards each other."
  controls
  playsinline>
 </video>
 <figcaption>
  You had one job.
 </figcaption>
</figure>
<p>You had one job.</p>
<p>Yep, it’s backwards. The Earth takes one look at the Sun, turns around, and heads off into deep space. Even worse, the Sun itself seems to be being affected way more than it should by Earth’s comparatively tiny gravitational force.</p>
<h2>If at first you don't succeed</h2>
<p>There were lots more failed attempts shortly after this. Each one was more confusing than the last. I didn’t know what I was doing. I kept making little tweaks to the calculations without really understanding why. No wonder none of them worked.</p>
<p>This went on for a few days. Gradually I started to slow down and get a bit more methodical. Lots of stepping through equations to try to get a feel for the numbers. And yes, I use the word “Sol” instead of just “Sun” in one of the diagrams, purely because it felt more sciencey to write 😎</p>
<figure>
 <img
  src="/2015/11/06/lost-in-space-board1@700x525.jpg"
  alt="Whiteboard diagram with Newton's gravity formula and some planets with lots of little numbers and arrows."
 />
 <figcaption>
  Maths is hard.
 </figcaption>
</figure>
<p>After a few more days, the gravity calculation was sort of working. It was still miles away from being anything close to correct, but good enough progress to keep me interested.</p>
<h2>Bodge it and scarper</h2>
<p>I thought I was close to nailing it. When I saw it get the Moon to orbit the Earth, I was so happy I took another screen recording. This was around about the same time I discovered that deleting the call to clearRect made it leave behind a cool orbit trail.</p>
<figure>
 <video
  poster="/2015/11/06/lost-in-space-one-moon-poster@474x414.png"
  src="/2015/11/06/lost-in-space-one-moon@474x414.mp4"
  title="The Moon moving around the Earth, leaving a little white trail as it goes."
  controls
  playsinline>
 </video>
 <figcaption>
  The bit at the very end where it completes the orbit and returns to its exact point of origin is my favorite.
 </figcaption>
</figure>
<p>Wow, I was so pleased with that. Thing is, I’d had to grossly inflate the mass of the Earth to make it work like that, and I had no idea why. Everything was sort of working, but full of these weird little hacky tweaks that I didn’t know why they helped.</p>
<p>By now I was using the right gravity equation. But I had to subtract the result from 0 to make it work. Again, no idea why. It was just something I did at one point to see if it helped, and it did, so I left it in.</p>
<pre class="">const acceleration = 0 - (
  (G * subject.mass) /
  (Math.pow(distance, 2))
)
</pre>
<h2>Me reaping: Well this fucking sucks. What the fuck.</h2>
<p>So I definitely had a rude awakening coming. It came when I decided to test it with four Moons orbiting the Earth. They were positioned equidistant around the Earth and initialised with what should have been anti-clockwise orbits of equal sizes. What should happen in this next video is basically the same as in the last one except with four circles instead of one.</p>
<figure>
 <video
  poster="/2015/11/06/lost-in-space-terrible-poster@950x656.png"
  src="/2015/11/06/lost-in-space-terrible@950x656.mp4"
  title="Four moons orbiting the Earth, except it all goes immediately wrong and they fly away."
  controls
  playsinline>
 </video>
 <figcaption>
  Not a single thing that happens in this video is right.
 </figcaption>
</figure>
<p>Backwards gravity was back, and yet again, I had no idea why. It was demoralising as fuck.</p>
<p>The only thing to do was keep on going and try to get a little bit more serious and careful with each step. The thing about building this is that the gravity calculation is only a tiny part of it. Most of the work so far has gone into the geometry code. You need to be able to calculate angles and distances between points, add vectors together, and calculate vectors from an angle and a magnitude. Lots of Math.atan2 and that sort of thing.</p>
<p>The gravity calculation was okay, so I knew the problem was elsewhere and started digging around accordingly. There was something wrong with how I was applying the gravity to the planets. I started to try to tighten up my understanding of the basic geometry of this imaginary universe I’d built.</p>
<p><img src="/2015/11/06/lost-in-space-board3@700x456.jpg" alt="
Whiteboard diagram of a 2D grid with two points on it and an angle drawn between them.
Next to that, a pair of arrows compare 'current direction' with 'actual direction'."></p>
<figure>
 <img
  src="/2015/11/06/lost-in-space-board3@700x456.jpg"
  alt="
   Whiteboard diagram of a 2D grid with two points on it and an angle drawn between them.
   Next to that, a pair of arrows compare 'current direction' with 'actual direction'."
 />
 <figcaption>
  I literally didn't understand radians until this point.
 </figcaption>
</figure>
<p>Once I understood the basics a little better, I did what I always do when I’m as lost as this: I wrote tests. So many fucking tests… Just, basic things like putting two points next to each other and checking that the distances and angles are being calculated right. I wrote dozens of tests like that.</p>
<p>While I was writing a crapload of tests, I made a few teeny tiny little tweaks along the way. None of it seemed major. Somehow, though, things started working a bit better. I set the “four moons” test case back up, ready to be disappointed and feel stupid.</p>
<figure>
 <video
  poster="/2015/11/06/lost-in-space-four-moons-poster@744x604.png"
  src="/2015/11/06/lost-in-space-four-moons@744x604.mp4"
  title="Four moons orbiting the Earth beautifully and producing a lovely geometric pattern."
  controls
  playsinline>
 </video>
 <figcaption>
  Holy shit.
 </figcaption>
</figure>
<p>Almost perfect! This is where I’m at right now, and it’s good enough to consider moving on to whatever the next problem will be. It’s still a long way from perfect, but I haven’t seen any “backwards gravity” and to be honest, that’ll do.</p>
<p>Earth’s orbit around the Sun takes about 10 days longer than it should. And the Moon’s orbit around the Earth takes about half the time it should. Just like before, I haven’t got the slightest idea why. But this project doesn’t really have any explicit goals beyond “build something that makes my computer do some cool space stuff, and have fun doing it”. And it’s doing the cool space stuff well enough to be fun now!</p>
]]></description>

    </item>
    <item>
      <title>Scalable spacetime</title>
      <link>https://henry.catalinismith.com/2015/11/02/scalable-spacetime/</link>
      <guid>https://henry.catalinismith.com/2015/11/02/scalable-spacetime/</guid>
      <pubDate>Mon, 02 Nov 2015 24:00:00 GMT</pubDate>
      <description><![CDATA[<h1>Scalable Spacetime</h1>
<p>After building last week’s Solar System renderer, I was excited to move on to the fun stuff and see some planets moving around. I rushed on into implementing motion, which on the face of it is pretty simple. If Earth is moving along at 30,000m/s, for example, then you can just add its velocity to its current position once per second and get its new location.</p>
<figure>
 <img
  alt="
   Two blue circles separated horizontally by an arrow pointing right labelled 30,000m.
   The circle on the left is labelled ‘0 seconds’ and the one on the right is labelled ‘1 second later'."
  src="scalable-spacetime-simple@640x360.png"
 />
 <figcaption>
  We're moving, Rosie!
 </figcaption>
</figure>
<p>The code for this is an easy read. I threw together a little Motion class. So if Earth has a vector of 30000 horizontally and 0 vertically, then each tick of this method counts as one second of motion in my imaginary 2D universe, and it moves the earth along by 30km each time.</p>
<pre class="">class Motion {
  affect (universe) {
  universe.planets.map((planet) => {
    planet.position.add(planet.vector);
  });
  }
}
</pre>
<p>This worked on my first try, which as usual, meant I’d barely broken the surface of the problem. To give you a sense of perspective, here’s ten seconds of motion in plain old 1:1 time. It’s not exactly riveting. Earth’s 12,000km diameter makes 30km/s look slow. Honestly, I kind of thought it’d be a bit quicker, even at 1:1 scale. Remember this next time somebody’s talking about how we’re “hurtling through space on a giant rock”. It barely moves at all in this clip.</p>
<figure>
 <video
  poster="/2015/11/02/scalable-spacetime-slow-poster@540x346.png"
  src="/2015/11/02/scalable-spacetime-slow@540x346.mp4"
  title="2D earth moving almost imperceptibly slowly."
  controls
  playsinline>
 </video>
 <figcaption>
  Hurtling my arse.
 </figcaption>
</figure>
<p>No way I’m waiting an entire real-life year to see my simulated Earth make its way around the Sun once. What I needed was a way to speed up time.</p>
<p>Something I quickly realised was that this was more or less the same problem as the viewport scaling, just dressed up a little differently. The symmetry carries over into the solution, too, because just like in the graphical layer, I ended up creating a scale property to represent the conversion rate. This time, it was for converting between real life seconds and imaginary space seconds. So a scale of 1 gives you one second per real second, and a scale of 60 gives you a minute per real second, and so on.</p>
<p>The timing code is too involved (💤) to show a decent summarised version here. The gist of it is that for each tick, it multiplies the real life tick interval length by the scale factor, and passes that to any physics calculations so that they can multiply their results by that. For motion, that just means multiplying the planet’s vector by the number of seconds elapsed before adding it to the planet’s position.</p>
<pre class="">class Motion {
  affect (universe, seconds) {
  universe.planets.map((planet) => {
    planet.position.add(
    planet.vector.scale(seconds)
    );
  });
  }
}
</pre>
<p>Now here’s the Earth again, this time with scale pumped up to 600. That’s 10 imaginary space minutes for every real world second. If you’re good at maths you might notice that this video is 18 seconds long, and the timer doesn’t make it to 3 hours like it should at this scale. But then if you were paying that kind of attention you’d have noticed that only 10 seconds pass in the 12 second video earlier! Still got some minor issues to iron out there 😇</p>
<figure>
 <video
  poster="/2015/11/02/scalable-spacetime-fast-poster@538x342.png"
  src="/2015/11/02/scalable-spacetime-fast@538x342.mp4"
  title="2D earth moving much faster."
  controls
  playsinline>
 </video>
 <figcaption>
  Now <strong>this</strong> is podracing.
 </figcaption>
</figure>
<p>This is going great so far. It isn’t perfect, but I’m reasonably pleased with it. Getting the foundational stuff like graphics and timing right makes it so much more enjoyable to build the complicated stuff on top.</p>
]]></description>

    </item>
    <item>
      <title>Apple Pie From Scratch</title>
      <link>https://henry.catalinismith.com/2015/10/29/apple-pie-from-scratch/</link>
      <guid>https://henry.catalinismith.com/2015/10/29/apple-pie-from-scratch/</guid>
      <pubDate>Thu, 29 Oct 2015 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>This is a quick write-up of my solution to one of the first problems I bumped into in my latest project. I’m building a JavaScript model of the solar system, which in the end will hopefully feature all the planets orbiting the Sun according to some approximation of Newtonian gravity.</p>
<p>The problem arose because it’s easier to implement the equations if your data model uses SI units: meters, kilograms and seconds. Plus, if you adopt a nice convention like SI units, it makes the code so much more readable. I find names like distanceInKm or massInKg super ugly. It’s nicer if you can use distance and mass and just infer the units from the convention.</p>
<pre class="">class Planet {
  constructor ({ mass, position, radius }) {
  this.mass = mass;
  this.position = position; // { x, y }
  this.radius = radius;
  }
}
</pre>
<p>This is lovely, but the CanvasRenderingContext2D API works in pixels. Take it or leave it. So the code in charge of rendering planets needs to know how to convert between meters and pixels.</p>
<p>It’s the kind of problem that’s tempting to sort of hack your way through. Just keep throwing code at the wall and eventually something will stick. Easy enough, but the result is usually not great. It’s bad enough not understanding your own code a few weeks after writing it. Not understanding it while you’re still writing it is just… no fun.</p>
<p>So I made a cup of tea, cleared a whiteboard, and had a bit of a think. The resulting diagram is a bit incomprehensible, but I sometimes think it’d be nice if people were more open about how lost they get with even simple stuff like this, so here it is.</p>
<p>The gist of the solution is to have a scale property somewhere, denoting the conversion rate between pixels and meters. Next, I needed there to be a “thing” in my system to actually own that property and apply it. The name I settled on for that “thing” was Viewport.</p>
<p>The Viewport needs to a few things to do its job. It needs that scale value, for starters. It needs a reference to the rendering context, too. And I figured it also needs to know which part of the universe it’s centered on, which I pass in as an object called center with an x and a y property. Because x and y are spatial values, you can just assume they’re in meters. See how nice that is?</p>
<pre class="">class Viewport {
  constructor({ center, context, scale }) {
  this.center = center; // { x, y }
  this.context = context;
  this.scale = scale;
  }
}
</pre>
<p>The last thing that’s missing is a Viewport method to render planets. Rendering circles is nice and simple because it’s part of the browser API, so that’s a freebie. What’s less simple is that I’ve designed the Viewport to accept the coordinates of its center point in meters, whereas the built-in arc method expects the coordinates of the circle in pixels from the top-left corner.</p>
<p>This is important, because I need it to be easy to center the viewport on a given planet. I want it to be as simple as viewport.center = planet.position. As usual, the price of simplicity somewhere is complexity elsewhere.</p>
<p>Converting between those two points is a two-step calculation. First, you have to calculate the position of the top-left pixel of the canvas in imaginary space meters. Then you subtract the coordinates of that position from the coordinates of the planet, and multiply the results by the scale property from earlier. This gives you the pixel position of the planet within the canvas. The resulting code is really heavy on arithmetic and took a while to get right.</p>
<pre class="">drawPlanet (planet) {
  const { width, height } = this.context.canvas;
  const topLeft = new Point(
  this.center.x - ((width / 2) * (1 / this.scale)),
  this.center.y - ((height / 2) * (1 / this.scale))
  );

  this.context.fillStyle = planet.color;
  this.context.beginPath();

  this.context.arc(
  (planet.position.x - topLeft.x) * this.scale,
  (planet.position.y - topLeft.y) * this.scale,
  planet.radius * this.scale,
  0,
  Math.PI * 2
  );

  this.context.closePath();
  this.context.fill();
}
</pre>
<p>With that in place, I now have a working graphical layer that understands how to render my SI units data model onto a 2D canvas element.</p>
<p>It’s a really fundamental part of the system, so you don’t end up with much to show for all the effort, but I did manage to squeeze one cool thing out of it. By gradually shrinking the value of the scale property, I can generate a “flying backwards through space” effect. Check it out. Right at the very end you can see the Moon whizz by on the right once we’re far enough from Earth.</p>
<figure>
 <video
  src="apple-pie-from-scratch-zoom@960x540.mp4"
  title="
   2D earth fading into the distance as the camera moves backwards"
  controls
  playsinline>
 </video>
 <figcaption>
  Fun, fun, fun.
 </figcaption>
</figure>
<p>Now that the basics are in place to display what’s going on, the next step is to get everything moving. Right now I’m still struggling to make gravity work right. It’s a lot harder than this was.</p>
]]></description>

    </item>
    <item>
      <title>DownloadHelper Source</title>
      <link>https://henry.catalinismith.com/2015/07/29/downloadhelper-source/</link>
      <guid>https://henry.catalinismith.com/2015/07/29/downloadhelper-source/</guid>
      <pubDate>Wed, 29 Jul 2015 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2015/07/29/downloadhelper-source@1024x1024.png" alt="Two printed A4 sheets of paper stapled together with source code on them and red pen markings." /><p>Did some <a href="/roles/mixradio/#digital-rights-management">music streaming DRM work</a> once upon a time. The goal I was given was to get the music to play in the browser using the Web Audio API without the <a href="https://www.downloadhelper.net/">DownloadHelper</a> extension being able to download the track to the user's computer as an  <code>.mp3</code> file. The extension's source code was quite obfucated – I think maybe deliberately, to fuck with people like me trying to break it for The Man – so I ended up having to print it out and debug it the old fashioned way with a red pen.</p>
]]></description>

    </item>
    <item>
      <title>Gaming&#39;s Persecution Complex</title>
      <link>https://henry.catalinismith.com/2014/12/26/gamings-persecution-complex/</link>
      <guid>https://henry.catalinismith.com/2014/12/26/gamings-persecution-complex/</guid>
      <pubDate>Fri, 26 Dec 2014 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>I watched a shit documentary recently. It was called <em><a href="https://www.imdb.com/title/tt3214002/">Video Games: The Movie</a></em>. The central theme was a kind of chronological look back through the history of the gaming industry, which turned out to be a goldmine of little video clips of games from decades ago. That part was alright. As a plain nostalgia session, it was okay. Alongside that, though, was this weird little parallel story about “gamers”.</p>
<figure>
 <img
  alt="The promotional image for Video Games: The Movie, featuring many famous characters from Pac Man to Master Chief."
  src="/2014/12/26/gamings-persecution-complex-movie@700x394.jpeg"
 />
 <figcaption>
  pew pew pew
 </figcaption>
</figure>
<p>In the <em>Video Games: The Movie universe</em>, gamers are an oppressed social class. It has all these talking heads-style interviews with various geek celebrities, who tell the tale of all the things gamers have “survived”, such as “Congress”, “busybody parents”, and “religious-based hysteria”. It got to the point where it began to ruin the whole experience. Every time a segment on the history of games was punctuated by one of these “free the gamers” bits, it totally broke my engagement with the documentary. We were just laughing at it by the end.</p>
<p>This “oppressed gamer” identity is insidious. Maybe it’s a natural group reaction to somebody like Jack Thompson. But it’s problematic because evidently some people think it’s a license to play “culture war” and appropriate the words and actions of genuinely oppressed social groups. There are even people trying to make words like “anti-gamer” and “ludophobia” a thing. It’s bizarre, and they seem oblivious the contradiction that access to this identity is predicated on having enough economic privilege to buy expensive consumer electronics products. It’s a way for those of us who live high atop Privilege Mountain to make believe that we are in fact the plucky underdogs of society. We aren’t, and it’s disgusting to pretend otherwise.</p>
<figure>
 <blockquote class="twitter-tweet">
  <p lang="en" dir="ltr">
   <a href="https://twitter.com/LemonSqueezy14?ref_src=twsrc%5Etfw">
    @LemonSqueezy14
   </a>
   <a href="https://twitter.com/VGAdjudicator?ref_src=twsrc%5Etfw">
    @VGAdjudicator
   </a>
   @hnrysmth Geeks have long been bullied &amp; ostracized.
   Playing Oppression Olympics will not change that. Ever
  </p>
  &mdash; AJ (@Wavinator)
  <a href="https://twitter.com/Wavinator/status/548545106769235968?ref_src=twsrc%5Etfw">
   December 26, 2014
  </a>
 </blockquote>
 <figcaption>
  Off to do a speech at the UN Forum on Minority Issues about the unique challenges of being really really good at Mario.
 </figcaption>
</figure>
<p>It’d be harmless if not for the group psychology that it triggers. The power of this defensive impulse has been on display throughout the latter half of 2014. There are a bunch of people right now who are really upset about Anita Sarkeesian and her criticism of sexist tropes in video games. There’s another bunch who are equally upset about Zoe Quinn and her free text adventure game Depression Quest. In August, these two groups joined forces under the banner of <a href="https://en.wikipedia.org/wiki/Gamergate_controversy">Gamergate</a>, and they’ve spent the remainder of the year spewing bigotry and harassment like a volcano.</p>
<p>There are a lot of different groups of people involved. Right in the middle of it all are the 8chan-style “Sociopath Libertarian” types who think even indecent images of children should be protected free speech. Around them are the men’s rights activists, the white supremacists, Tea Party supporters, and all kinds of other right-wing dickheads. The biggest bunch of all though is this other group of “general idiots” who are just sort of along for the ride. These are a largely apolitical bunch who simply heard the “geek persecution” alarm bells and came running for a fight. They mostly didn’t have a strong stance on issues like feminism before August 2014, and the only reason they do now is because all the men’s rights types have told them feminists are “anti-gamer”. If you’re pro-Gamergate, you’re probably one of these idiots.</p>
<figure>
 <img
  alt="Hyper-sexualised video game advert featuring a woman in revealing clothes stood in the middle of a dusty marketplace."
  src="/2014/12/26/gamings-persecution-complex-ad@628x387.jpeg"
 />
 <figcaption>
  Those crazy feminist bitches didn't even like this Call Of
  Duty advert.
 </figcaption>
</figure>
<p>Years of pandering, epitomised by <em>Video Games: The Movie</em>, sowed the seeds of illusory oppression in the minds of the gaming industry’s favourite demographic: affluent young white guys. The Zach Braffs and Wil Wheatons of the world have been patting gamers on the head and commiserating with them about what a <em>struggle</em> it is being a white man with an expensive toy. The ongoing temper tantrum about Leigh Alexander’s late August <em><a href="https://www.gamasutra.com/view/news/224400/Gamers_dont_have_to_be_your_audience_Gamers_are_over.php">Gamers Are Over</a></em> piece shows how entitled to that pandering some people now feel.</p>
<figure>
 <blockquote class="twitter-tweet">
  <p lang="en" dir="ltr">
   @hnrysmth Her articles I had always found to be hit or miss, but that one was vicious and just plain mean spirited
  </p>
  &mdash; Kaz Hebdo (@KazuukHadoken)
  <a href="https://twitter.com/KazuukHadoken/status/548525941686018048?ref_src=twsrc%5Etfw">
   December 26, 2014
  </a>
 </blockquote>
 <figcaption>
  They targeted gamers. Gamers.
 </figcaption>
</figure>
<p>Gamergate is gaming’s persecution complex in its final form: stupid, incoherent, and angry. These people are standing firm alongside <a href="https://gamergate.wikia.com/wiki/Davis_M.J._Aurini">white supremacists</a>, <a href="https://ellorgast.tumblr.com/post/99422454733/gamergate-throwing-its-own-trans-supporters-under">transphobes</a>, <a href="https:///twitter.com/HW_BEAT_THAT/status/547013158116663296">distributors of obscene pornography</a>, and even Jack Thompson himself. There is a genuine sense within Gamergate that “gamer rights” are important enough to justify allegiances with bigots of all kinds as long as it serves the cause. The only reason so many idiots are giving these regressive monsters the time of day is because of this ongoing conspiracy theory about geek persecution, perpetuated by garbage like <em>Video Games: The Movie</em>.</p>
<p>Earlier this year I accidentally scared some people who saw the designs for <a href="/2014/08/04/not-planning-any-nuclear-attacks">a game I was working on</a>. It got a bit of <a href="https://www.kotaku.com.au/2014/08/police-called-on-game-creator-over-nuclear-war-diagrams/">media attention</a>. A few people accused me of making the whole thing up to sell copies of my (free) game, but for the most part people gave me the benefit of the doubt. What I’ve learned from Gamergate in the months since then is that, given a woman in equivalent circumstances, there’s a part of the gaming community that will form a mob to harass her and speculate about who she fucked at Kotaku to get that press hit. And because of the gamer persecution complex, they’ll be able to count on the wholehearted support of lots of people who ought to know better, just by sounding the “gamer oppression” alarm while they do it.</p>
<p>So it turns out that pretending geeks are oppressed isn’t harmless fun after all. It leads to very tangible, negative, immediate consequences in the real world. Real people’s lives are affected. So it’s something we need to work on. Be on the lookout for it, and call it out when you see it. Another example is the phrase ”<a href="https://observationdeck.io9.com/got-to-stop-saying-nerd-blackface-1498747759">nerd blackface</a>”. Cut that shit out. It’s not necessarily <a href="https://kotaku.com/we-might-be-witnessing-the-death-of-an-identity-1628203079">the death of an identity</a>. It’s more like the recategorisation of Pluto: “gamer” isn’t a marginalised social group, so let’s stop pretending it is.</p>
]]></description>

    </item>
    <item>
      <title>That Weird Keyboard</title>
      <link>https://henry.catalinismith.com/2014/11/16/that-weird-keyboard/</link>
      <guid>https://henry.catalinismith.com/2014/11/16/that-weird-keyboard/</guid>
      <pubDate>Sun, 16 Nov 2014 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>At the start of 2014 I started to pay the price for years and years of typing. A horrible RSI was causing shooting pains in my wrists by mid-afternoon each day. Something had to change, but obviously not typing any more wasn't an option. The solution I settled on was an ergonomic keyboard, specifically the <a href="https://www.ergodox.io/">Ergodox</a>.</p>
<p>The Ergodox is an open source hardware design. Like almost anything involving the words “open” and “source”, some assembly is required. The equipment you need is fairly standard, and the <a href="https://www.instructables.com/ErgoDox-Mechanical-Keyboard/">assembly instructions</a> list it all. The only extra I'd recommend is a magnifying glass, to help inspect those tiny diode solder joints and so on. Here's what it all looked like just before I got started. The <a href="https://www.youtube.com/watch?v=x1irVrAl3Ts">video playing on the laptop</a> is a 35 minute close-up of somebody who knows what they're doing completing the whole build. It really helped.</p>
<figure>
 <img
  alt="
   Photo of my desk during the assembly process.
   A Macbook with a fullscreen video showing a closeup of the circuit board is on top of a large red Ferrari flag alongside many bags of parts.
   On the desk itself are a soldering iron, several tools, a plate full of components, and the keyboard's circuit boards."
  src="/2014/11/16/that-weird-keyboard-equipment@700x525.jpeg"
 />
 <figcaption>
  Everyone knows you do better soldering if there's a Brazilian flag nearby.
 </figcaption>
</figure>
<p>The big thing that people worry about is whether they'll be able to cope with soldering the surface mount diodes. It really isn't that hard, and once you get into a rhythm it's kind of fun. The part I think is actually the most difficult is stripping all the plastic off the USB connector. Unlike the diodes, you don't build up any practice with that step, so it's a one shot deal. I actually fucked it up the first time and had to get another one and do it again.</p>
<p>Once the whole thing was put together, the left hand keyboard didn't work at all. This was pretty bad news. I don't know anywhere near enough about electronics to debug a circuit board. It started to look like I'd spent all this time and money on a failed project. I was out of ideas, so I spent about a day miserably retouching solder joints and checking things with the multimeter. Against all the odds, my desperate, clueless poking around randomly fixed whatever was wrong. Easily one of the most undeserved moments of success in my life.</p>
<figure>
 <img
  alt="Close-up photo of my keyboard's circuit boards with the surface mount diodes all soldered."
  src="/2014/11/16/that-weird-keyboard-board@700x400.jpeg"
 />
 <figcaption>
  This picture is quite lo-res and you can't really see these joints much better than this in real life without a magnifying glass.
 </figcaption>
</figure>
<p>The sheer difficulty of learning a new keyboard with no key labels was a major surprise. It took a week of practice before I could type a whole sentence slowly without a mistake. It took months for me to regain enough speed to use it in my day job. Months. After almost a year, I can type as naturally and fast on my Ergodox as I can on my laptop keyboard. Switching between the two is no problem at all either. But it took about six months of daily use before I could type without thinking about it.</p>
<p>Massdrop provide an excellent web-based <a href="https://www.massdrop.com/ext/ergodox">keyboard layout configurator</a>. Customising the layout was an experience full of lessons about ergonomics. Many of the Ergodox's buttons are great as modifiers or special keys, but terrible for typing regular characters. The default layout pretends that this isn't the case, and mixes both types of key haphazardly across all the different locations. Eventually I settled on <a href="https://www.massdrop.com/ext/ergodox/?referer=G9MWLU&amp;hash=ee3b6bf44643182a0ddc2ec08222be69">the layout below</a>.</p>
<figure>
 <img
  alt="A fairly standard-looking QWERTY layout with all the keys more or less where they'd be on a normal keyboard."
  src="/2014/11/16/that-weird-keyboard-layout@700x277.png"
 />
 <figcaption>
  Adding a modifier-free colon key and putting it right on the thumb cluster was a masterstroke.
 </figcaption>
</figure>
<p>The main principle behind my layout is that it mimics a normal QWERTY layout as much as possible. Learning to type all over again is hard enough without throwing in a new layout as well. Punctuation keys are as close to their usual homes as possible too. Just a few of them are squeezed out onto the thumb key clusters.</p>
<p>The left thumb keys deal with <code>[LCtrl]</code> and <code>[Esc]</code>, with <code>[Enter]</code> and <code>[Backspace]</code> on the right thumb. These are some of the most frequently used buttons on the keyboard, and it's so much more physically comfortable having the strong, dexterous thumbs deal with them instead of those poor overworked little fingers.</p>
<p>Apart from the number keys on the top row, I've kept the edges of the keyboard clear of keys that enter characters. I found it uncomfortable reaching for those keys while typing. You have to move your wrists to do it, which I felt undermined the whole reason for choosing the Ergodox. They're better suited for less frequently used special keys.</p>
<figure>
 <img
  alt="
   My completed keyboard fully-assembled and plugged in on a desk.
   It's a split keyboard with the two pieces connected by a cable.
   The keycaps are unlabeled and black."
  src="/2014/11/16/that-weird-keyboard-done@700x465.jpeg"
 />
 <figcaption>
  Behold.
 </figcaption>
</figure>
<p>The Ergodox is a great keyboard, but that almost seems irrelevant. It's definitely solved the original problem: no more shooting pains. And typing on it is really enjoyable. But at the end of the day it's a fun project that just happens to produce a nice keyboard as a byproduct.</p>
]]></description>

    </item>
    <item>
      <title>Monty Is Wrong</title>
      <link>https://henry.catalinismith.com/2014/10/20/monty-is-wrong/</link>
      <guid>https://henry.catalinismith.com/2014/10/20/monty-is-wrong/</guid>
      <pubDate>Mon, 20 Oct 2014 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>Last Friday, at All Your Base 2014, MySQL creator Monty Widenius said some controversial stuff about women. There was a lot of backlash.</p>
<figure>
 <blockquote class="twitter-tweet" lang="en">
  <p>
   So Monty just went on stage at <a href="https://twitter.com/hashtag/ayb14?src=hash">#ayb14</a> and said that women don&#39;t really &quot;get&quot; hacking.
   Feel like I should get my coat...
  </p>
  &mdash; Lorna Mitchell (@lornajane)
  <a href="https://twitter.com/lornajane/status/523150640747667457">
   October 17, 2014
  </a>
 </blockquote>
 <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
 <figcaption>
  You gobshite Monty.
 </figcaption>
</figure>
<p>Today, in an attempt to address the criticism, an interview was published in which Monty explained <a href="http://isit.kajarno.com/2014/10/on-obsession-monty-and-gender-issues.html">his views in more detail</a>.</p>
<blockquote>
<p>My personal feeling is that men get more easily obsessed with things, including computers. They forget their surroundings, neglect their families and friends. And I think that's more insulting to men than to women, who I think are better at combining work and having a life. This type of male obsession I find to be mostly a negative trait, even though single-minded focus on coding from the early teens, followed by 16 hour coding days at work, is what has enabled many successful pieces of software.</p>
</blockquote>
<p>If anything, this statement makes matters worse. Instead of retracting and apologising for his generalisations, Monty has reiterated them and explained them in more detail. It's unclear why anybody would think this might make a good preamble for a heartfelt apology about their sexist remarks, but there you go. Anyway, here is why I think Monty is wrong.</p>
<p>In 2008, a report called <a href="http://documents.library.nsf.gov/edocs/HD6060-.A84-2008-PDF-Athena-factor-Reversing-the-brain-drain-in-science,-engineering,-and-technology.pdf">The Athena Factor</a> was published exploring the many reasons why women leave science, engineering and tech jobs at such a higher rate than men. It painted a damning picture of a male-dominated industry structured in a way that systematically disadvantages women at every turn. It's worth a read, but here's the most damning thing from it. It's a diagram illustrating the disproportionate rate of attrition among women in tech.</p>
<figure>
 <img
  alt="Diagram illustrating a 47% rate of quitting among women in science, 39% in engineering, and 56% in technology."
  src="/2014/10/20/monty-is-wrong-quit@700x380.png"
 />
 <figcaption>
  Slightly confusing visuals here but the key takeaway is that over half of the engineers stop being engineers.
 </figcaption>
</figure>
<p>Right off the bat we're looking at a very different picture of the world than the one Monty describes. Rather than a simple pipeline problem (not enough women coming in), we're instead seeing women <em>driven out</em> of the industry at a worrying rate. In fact, the report even suggests that remarks like Monty's are a likely contributing factor to this the problem.</p>
<blockquote>
<p>Another sobering finding is the degree to which women at SET companies believe that their male colleagues consider females to be intrinsically less capable. In engineering and technology, more than a quarter of female respondents feel they are seen as genetically disadvantaged in SET fields. When Larry Summers, then-president of Harvard University, talked about how women have a “different availability of aptitude” in his infamous speech of January 2005, he was perhaps merely giving voice to a standard view!</p>
<p>Some researchers are convinced that “the societal assumption that women are innately less able than men” is the foremost factor contributing to women's slow advance in SET careers</p>
</blockquote>
<p>As well as driving away existing contributors, Monty's words also contribute to the very pipeline problem that they claim to explain. Remarks like these are a part of the oppressive framework that tells men and women that their lives have already been predetermined for them by their genetics, and that they should favour life choices that play to their “natural” strengths.</p>
<blockquote>
<p>When women are obsessed, I find they tend to focus on social aspects, which is why there have been much more of an uptake in women in senior management, rather than among introverted, solitary hackers.
<em>(more questionable wisdom from the interview containing Monty's apology)</em></p>
</blockquote>
<p>This is bullshit. It makes me angry to imagine some young woman who was at AYB or maybe read Monty's interview afterwards and is now questioning whether she's “obsessive enough” to contribute to open source projects or otherwise experience success in her software career. After all, if that really popular clever guy said it under the legitimising stage lights of a conference venue, couldn't it be true? We all suffer from the occasional bout of impostor syndrome. The last thing any of us needs is leading open source personalities telling anyone their gender makes them less obsessive and therefore less likely to create great stuff.</p>
<p>I do believe that there are obstacles for women who want to become big-time open source developers. But I believe that these obstacles are socially constructed and thus potentially fixable. Things like:</p>
<ul>
<li>Outdated social expectations about gender roles discourage young women from entering the field in the first place.</li>
<li>Systematic oppression and harassment drives women out of the software industry at a rate something like twice that of men.</li>
</ul>
<p>That's the final thing that I hate about this belief that the lack of women in software can be explained away by these “innate” differences: it absolves the believer of any responsibility to do anything about it. If it's predetermined by nature, then it's not your problem. Whereas if you dare to look at the issue as something humans can fix, you might even <a href="http://wiselit.com/arts-culture/voices/internet-got-godaddy-stop-objectifying-women-sexist-commercials">make a dent in it</a>.</p>
<p>Monty says he feels bad to be thought of as a sexist. Unfortunately, if you believe in innate differences between men and women that make women less likely to succeed in software, then you fucking <em>are</em> a sexist. And you will stand alone as such because the rest of us will not be complicit in our silence.</p>
]]></description>

    </item>
    <item>
      <title>Wargames screenshot after Guardian piece</title>
      <link>https://henry.catalinismith.com/2014/08/27/wargames-screenshot-after-guardian-piece/</link>
      <guid>https://henry.catalinismith.com/2014/08/27/wargames-screenshot-after-guardian-piece/</guid>
      <pubDate>Wed, 27 Aug 2014 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2014/08/27/wargames-screenshot.png" alt="Browser window showing Google Maps obscured by hundreds of red geodesic lines" /><p>Things got fairly hectic after the publicity.</p>
]]></description>

    </item>
    <item>
      <title>Police called on video game developer over &#39;Global Thermonuclear War&#39; plans</title>
      <link>https://henry.catalinismith.com/2014/08/26/police-called-on-video-game-developer-over-global-thermonuclear-war-plans/</link>
      <guid>https://henry.catalinismith.com/2014/08/26/police-called-on-video-game-developer-over-global-thermonuclear-war-plans/</guid>
      <pubDate>Tue, 26 Aug 2014 24:00:00 GMT</pubDate>
      <description><![CDATA[<blockquote>
<p>When they said they’d told the police I absolutely bricked it. I ran home to check if the police had raided the house or something.</p>
</blockquote>
<p>True story.</p>
<p><a href="https://www.theguardian.com/technology/2014/aug/26/police-video-game-developer-global-thermonuclear-war-plans">https://www.theguardian.com/technology/2014/aug/26/police-video-game-developer-global-thermonuclear-war-plans</a></p>]]></description>

    </item>
    <item>
      <title>Wargames screenshot before Guardian piece</title>
      <link>https://henry.catalinismith.com/2014/08/25/wargames-screenshot-before-guardian-piece/</link>
      <guid>https://henry.catalinismith.com/2014/08/25/wargames-screenshot-before-guardian-piece/</guid>
      <pubDate>Mon, 25 Aug 2014 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2014/08/25/wargames-screenshot.jpg" alt="Browser window showing Google Maps zoomed all the way out with hundreds of large red dots all over the planet." /><p>It didn't look this quiet again for months.</p>
]]></description>

    </item>
    <item>
      <title>I am not planning any nuclear attacks</title>
      <link>https://henry.catalinismith.com/2014/08/04/not-planning-any-nuclear-attacks/</link>
      <guid>https://henry.catalinismith.com/2014/08/04/not-planning-any-nuclear-attacks/</guid>
      <pubDate>Mon, 04 Aug 2014 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2014/08/04/innocent-whiteboard-diagram@700x525.jpeg" alt="Whiteboard flow chart with three boxes labeled ready, flight and detonated. Between the first two is an arrow labelled launch, and between the second two one labelled detonation. Below are some vague and barely legible notes. One of them says &#39;repaint trajectory whenever location changes&#39;. Another says &#39;detonate missile if within n km of target&#39;." /><p>I recently wrote about <a href="/2014/07/27/the-time-i-got-caught-planning-a-nuclear-attack-on-the-usa">a strange phone call that I received</a> from the letting agents in charge of the house I live in. They’d recently carried out a routine visual inspection of the house, and were concerned about my whiteboard diagrams for a game idea I’d been working on.</p>
<p>The phone call ended amicably, and seemed like it put their mind at rest. I thought I’d heard the end of the matter. I was wrong. Today, they emailed me informing me that they’ve referred the matter to the local police.</p>
<p>Understandably, being reported to the police as a suspected nuclear terrorist has come as something of a shock to me. So in the spirit of “If you have nothing to hide, you have nothing to fear”, here is what was on the whiteboards when they did their inspection.</p>
<figure>
 <img
  src="/2014/08/04/not-planning-any-nuclear-attacks-first-whiteboard@700x525.jpeg"
  alt="
   Crudely drawn world map drawn in black pen on a whiteboard.
   A red geodesic line originating in Russia ends in a red circle in the USA labelled &quot;Blast Radius&quot;.
   The line is laballed &quot;trajectory&quot;, the red circle is labelled &quot;explosion&quot; and &quot;target&quot;, and the origin is labelled &quot;launch site&quot;."
  />
  <figcaption>
   This one was for getting a general idea of what the moving parts would be.
  </figcaption>
</figure>
<figure>
 <img
  src="/2014/08/04/not-planning-any-nuclear-attacks-second-whiteboard@700x525.jpeg"
  alt="
   Whiteboard flow chart with three boxes labeled ready, flight and detonated.
   Between the first two is an arrow labelled launch, and between the second two one labelled detonation.
   Below are some vague and barely legible notes.
   One of them says 'repaint trajectory whenever location changes'.
   Another says 'detonate missile if within n km of target'. "
  />
  <figcaption>
   This one was for figuring out some of the different states and the transitions between them.
  </figcaption>
</figure>
]]></description>

    </item>
    <item>
      <title>The time I got caught planning a nuclear attack on the USA</title>
      <link>https://henry.catalinismith.com/2014/07/27/the-time-i-got-caught-planning-a-nuclear-attack-on-the-usa/</link>
      <guid>https://henry.catalinismith.com/2014/07/27/the-time-i-got-caught-planning-a-nuclear-attack-on-the-usa/</guid>
      <pubDate>Sun, 27 Jul 2014 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>I missed a phone call at work from my landlord this week. Landlord phone calls are scary. “Our rent payment probably hasn’t gone out or something”, I began to worry. I tend to panic quickly. “Shit, I bet it failed because our bank account is empty. Somebody’s gotten in and emptied out all our money. Fuck.” Fearing the worst, I phoned back straight away to check what was up.</p>
<blockquote>
<p>“Hi there, this is Henry Smith. Did you just try to call?”</p>
<p>“Ah hi Henry, thanks for calling back. Yes we did indeed.”</p>
<p>“Is everything alright?”</p>
<p>“Yes, everything’s absolutely fine.”</p>
</blockquote>
<p>For all of two seconds, I felt better. Everything was absolutely fine. But the conversation wasn’t over yet.</p>
<blockquote>
<p>“As I’m sure you’re aware, we performed a visual inspection of the property last week.”</p>
<p>“Yeah, sure.”</p>
<p>“And everything was fine. Absolutely fine.”</p>
<p>“Ah, good!”</p>
<p>“Except… the person who did the inspection did have some concerns about one thing. There were some… whiteboards? And some… drawings on them?”</p>
<p>“Ah shit! Yeah I totally forgot about those! You mean the nuclear attack thing, right?”</p>
</blockquote>
<p>It’s hard to know what to say next when a conversation is going this badly. This was my first time being confronted about suspicious nuclear attack-related whiteboard diagrams. I decided to come clean.</p>
<blockquote>
<p>“Yeah, that’s right.”</p>
<p>“Yeeeeeah… Sorry! You see… It’s for this game I was making! It’s like, a web thing and it uses Google Maps to simulate a nuclear war.”</p>
<p>“Ahhh, okay! We kind of thought it had something to do with gaming!”</p>
</blockquote>
<p>As quickly as I had become a suspected international terrorist, I was off the hook. They were surprisingly cool about it, actually. I apologised for wasting their time with my stupid diagrams for my stupid project, and they just laughed it off.</p>
<p>In hindsight, it should have been obvious. If you draw a map of the world on a whiteboard, a big red geodesic line from Moscow to Washington D.C., and a big red blast radius on top of D.C., then this is not something to leave lying around during a routine visual inspection by your landlord. All the ominous-sounding technical jargon about missile guidance and detonation probably didn’t help to put them at ease either.</p>
<p>My only worry for the future is that if the whiteboard diagrams were enough to frighten my landlord, what does GCHQ make of commit messages like “Fire nuke at Washington DC from Moscow”?</p>
]]></description>

    </item>
    <item>
      <title>Code I Like: Twig Loaders</title>
      <link>https://henry.catalinismith.com/2013/07/22/code-i-like-twig-loaders/</link>
      <guid>https://henry.catalinismith.com/2013/07/22/code-i-like-twig-loaders/</guid>
      <pubDate>Mon, 22 Jul 2013 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>The <a href="http://twig.sensiolabs.org/">Twig templating library for PHP</a> is really quite a nice piece of software. In terms of external quality, it's stable, open source, actively maintained, and well documented. I've been lucky enough to spend some time at work exploring its internals from time to time over the last 12 months or so, and I've found the internal quality to be equally high. It's a pleasure to work with code that has been properly looked after.</p>
<p>One particular aspect of Twig's design that I think exemplifies its internal quality is the way in which it loads template source code for compilation. There's more to it than just <code>file_get_contents</code>, and Twig manages that extra complexity well enough that it makes it look extremely simple.</p>
<h2>The Hidden Complexity Of Template Loading</h2>
<p>A first iteration of a very basic templating library would probably read template source code from a file on disk, like so.</p>
<pre class="">return file_get_contents("$templateName.twig");
</pre>
<p>A mature, general purpose library like Twig, on the other hand, needs to support its users' diverse needs. Some people may not want to use the filesystem at all, because they may already have a string, or even an array of strings, ready for compilation. There's no getting away from this kind of complexity, so ideally it should be engaged head-on as a first class part of the design.</p>
<h2>Successful Complexity Management In Twig</h2>
<p>Twig rightly treats each different way of loading templates as a separate concern, with its own class implementing <a href="https://github.com/fabpot/Twig/blob/v1.13.1/lib/Twig/LoaderInterface.php"><code>Twig_LoaderInterface</code></a>. Filesystem interaction happens in <a href="https://github.com/fabpot/Twig/blob/v1.13.1/lib/Twig/Loader/Filesystem.php"><code>Twig_Loader_Filesystem</code></a>, while <a href="https://github.com/fabpot/Twig/blob/v1.13.1/lib/Twig/Loader/String.php"><code>Twig_Loader_String</code></a> serves the use-case of those who just want to compile from a string. These classes are absolutely tiny, so they're immediately comprehensible.</p>
<p>As well as keeping Twig's own internal code tidy, this approach provides a great deal of flexibility for anybody who needs bespoke template loading behaviour. Got some bizarre restriction forcing you to store templates in your database? Just write your own implementation of <code>Twig_LoaderInterface</code> and inject it into your <code>Twig_Environment</code> at instantiation.</p>
<p>You can even chain loaders together using <a href="https://github.com/fabpot/Twig/blob/v1.13.1/lib/Twig/Loader/Chain.php"><code>Twig_Loader_Chain</code></a>. Need to fall back to your crazy database template storage only in the event that the file isn't found on disk? Add those two loaders in that order to a <code>Twig_Loader_Chain</code> and inject that into your <code>Twig_Environment</code>.</p>
<p>Twig provides all this flexibility and makes it look easy, and it achieves this by a ruthless separation of concerns. It's a minor triumph of careful software design.</p>
<h2>Failed Complexity Management In Smarty</h2>
<p>This may seem like a lot of fuss about nothing. So Twig takes a relatively simple problem and makes it look simple, what's the big deal? It's a big deal to me because this kind of quality is actually rare.</p>
<p>As a counterexample, look at the approach taken by Twig's main competitor in the arena of PHP template libraries: <a href="http://www.smarty.net/">Smarty</a>. The Smarty equivalent to Twig's loaders all resides within <a href="https://github.com/TMSolution/smarty/blob/ecd289cab1f3687d9273eb401ef9bc807f706bbb/distribution/libs/sysplugins/smarty_internal_templatebase.php#L20-L361">one enormous &quot;fetch&quot; method</a>. It's 300 lines of inflexible, incomprehensible code. The many repsonsibilities of this method include: output buffering, caching, cookies, errors, response headers, and the generation and evaluation of PHP code.</p>
<p>To compile a template from a string in Smarty, you must prefix your template source code with the magic incantation <code>string:</code> and pass it as the name of the template to this &quot;fetch&quot; method. If the fifth parameter - <code>$display</code> - is true, then &quot;fetch&quot; also takes charge of cache invalidation and the sending of rendered template output as part of the response body. In short, this is very untidy code with an equally messy API.</p>
<h2>Dependency Injection Done Right</h2>
<p>Twig's flexibility and cleanliness here is a big win for the <a href="http://en.wikipedia.org/wiki/Dependency_injection">dependency injection pattern</a>. It's a great example of how DI isn't just about maximising testability, and of why I think DHH is a little too extreme in <a href="http://david.heinemeierhansson.com/2012/dependency-injection-is-not-a-virtue.html">his criticism of it</a>. Twig is a clear example where DI has made the API better, not worse.</p>
<pre class="">$loader = new Twig_Loader_String;
$twig = new Twig_Environment($loader);
echo $twig->render('Hello !', array('name' => 'Fabien'));
</pre>
<p>As well as flexibility and code quality, this approach to loading templates happens to be very amenable to unit testing. Small classes with single responsibilities and few dependencies usually are easier to test than KLOC behemoths.</p>
<p>That's it, really. Twig gets this right, and I think that's worth a little praise. Go Twig.</p>
]]></description>

    </item>
    <item>
      <title>Monkeypatches broke my build</title>
      <link>https://henry.catalinismith.com/2013/04/28/monkeypatches-broke-my-build/</link>
      <guid>https://henry.catalinismith.com/2013/04/28/monkeypatches-broke-my-build/</guid>
      <pubDate>Sun, 28 Apr 2013 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>The prevalence of monkey patching as a Ruby development practice is a complete pain in the arse. Sure, some of Ruby's expressiveness as a tool for building DSLs is derived from the ability to monkey patch things like 10.days.ago into the core classes. Admittedly, I occasionally indulge my sweet tooth at the Rails all-you-can-eat syntactic sugar buffet. But it's not my favourite approach to software development by a long shot.</p>
<p>A couple of months ago I wrote a little about the general awkwardness resulting from monkey patching. I've been burnt worse since then, and now I have a concrete example which I think supports my point of view quite strongly.</p>
<h2>Coveralls/Colorized/Colored Clusterfuck</h2>
<p>Today I wanted to add a service called Coveralls to ppl's build process. Coveralls measures test coverage, provides statistics about test coverage over time, and supplies a dynamic README badge for advertising your project's commitment to thorough testing. It's a perfect fit for a project like ppl, so I was keen to get it running.</p>
<p>Take a quick look at the commit which added Coveralls to ppl. It's a tiny commit, and seemingly harmless. To my great surprise, it broke the build on Travis CI. And which test did it break?</p>
<pre class="">Failures:

1) Ppl::Format::Table#to_s should colorize columns if requested
Failure/Error: @table.to_s.should eq "\e[31m12345  \e[0m\e[33mJohn Doe  \e[0m\e[34mjdoe@example.org  \e[0m"

expected: "\e[31m12345  \e[0m\e[33mJohn Doe  \e[0m\e[34mjdoe@example.org  \e[0m"
        got: "\e[0;31;49m12345  \e[0m\e[0;33;49mJohn Doe  \e[0m\e[0;34;49mjdoe@example.org  \e[0m"

(compared using ==)
# ./spec/ppl/format/table_spec.rb:80:in `block (3 levels) in <top (required)>'
</pre>
<p>The design of that test is actually a bit of a minor mistake on my part. The color adapter probably ought to be mocked out, as this test isn't really about the ANSI color escape codes themselves.</p>
<p>On the plus side, this has exposed something very interesting: the escape codes surrounding the strings have changed subtly. And why is that? Because the Coveralls gem depends on a string colorization library called colorize. When Coveralls is loaded by the line require &quot;coveralls&quot;, colorize's String class monkey patches overwrite the ones previously made by Ppl::Adapter::Color::Colored when it loads the colored gem.</p>
<h2>What. The. Fuck.</h2>
<p>Did you catch that? My project's test suite failed because one of Coveralls' dependencies changed the behaviour of Ruby's core String class in a way that overwrites changes previously made to that class by a dependency of ppl. This is absolute chaos. It's not even anybody's fault, but rather an inevitable consequence of monkey patching.</p>
<p>I'm quite new to Ruby, so I have to rely on others for perspective on this approach to Ruby development. Judging by Avdi Grimm's 2008 post, &quot;Monkeypatching is Destroying Ruby&quot;, it was considered quite hip five years ago. Here we are in 2013, and installing a code coverage tool has literally changed the output of my code. It's pretty clear that Avdi was right, anyway.</p>
<p>Refinements look set to right some of these wrongs, but Ruby 2.0 is still warm from the oven, and projects like ppl will probably be supporting 1.9 for a long time to come. In the meantime, I've decided to start treating monkey patches more or less like a bad idea. Not because they are necessarily fragile in themselves, but because of the fragility they so inscrutably create in other code.</p>
]]></description>

    </item>
    <item>
      <title>Debian Squeeze Vagrant Base Box</title>
      <link>https://henry.catalinismith.com/2012/10/16/debian-squeeze-vagrant-base-box/</link>
      <guid>https://henry.catalinismith.com/2012/10/16/debian-squeeze-vagrant-base-box/</guid>
      <pubDate>Tue, 16 Oct 2012 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>In an effort to suck less at dealing with all the various sysadmin-related tasks that come hand-in-hand with being a web developer, I'm learning my way around Vagrant and Chef.</p>
<p>One of the many things I've been struggling with is the lack of a Debian Squeeze vagrant box that actually works with my version of VirtualBox.</p>
<p>I'm not sure what the problem is here. One of the most common error messages complained that the guest additions in the base box were from a different version of VirtualBox from the one I'm using. If that's an issue, perhaps it might be better if the likes of <a href="https://virtualbox.es">virtualbox.es</a> made the VirtualBox version of each box available.</p>
<p>Thing is, it's Debian Squeeze or nothing as far as I'm concerned, so the only option remaining was to build my own base box. The documentation for this is pretty great, but in the end I had to resort to a lot of Googling to figure various things out so this blog post attempts to unite all the information I needed in one place.</p>
<h2>1. Install Debian in VirtualBox</h2>
<p>I started by downloading <a href="http://www.debian.org/releases/squeeze/debian-installer/"><code>debian-6.0.6-i386-netinst.iso</code></a> from the Debian homepage. Following <a href="http://vagrantup.com/v1/docs/base_boxes.html">Vagrant's base box guidelines</a>, I created a virtual machine with the following properties:</p>
<ul>
<li>40GB dynamically resizing drive</li>
<li>360MB of memory allocation</li>
<li>Audio disabled</li>
<li>USB disabled</li>
<li>NAT networking</li>
</ul>
<p>As per the recommendations, I chose a hostname of <code>vagrant-debian-squeeze</code> and a domain of vagrantup.com.</p>
<h2>2. Install Required Software</h2>
<p>Vagrant requires Ruby, RubyGems, Puppet, Chef and an SSH server to be present on the machine in order for it to work as a base box. To install these, I did this:</p>
<pre class="">wget -O- http://opscode.com/chef/install.sh | bash
</pre>
<p>This is easier and more reliable than going through all the steps manually.</p>
<h2>3. Remove Unwanted Software</h2>
<p>Debian helpfully detects that you're installing it in VirtualBox and installs a bunch of related packages for you. We don't want them though, and they have to be removed in order to install the proper guest additions.</p>
<pre class="">apt-get remove --purge virtualbox-ose-guest-x11
apt-get autoremove
apt-get remove --purge virtualbox-ose-guest-utils
</pre>
<p>This one was a pain to figure out. Much thanks to <a href="http://revcode.wordpress.com/2012/02/25/uninstalling-the-default-virtualbox-ose-guest-additions-on-debian/">a blog post on revcode.wordpress.com</a> for the life-saving Google search result.</p>
<h2>4. Install Guest Additions</h2>
<p>There's a button in VirtualBox that effectively inserts the guest additions as an imaginary CD-ROM. After pressing that, the commands to actually install them were as follows:</p>
<pre class="">apt-get install module-assistant
mount /media/cdrom
sh /media/cdrom/VBoxLinuxAdditions.run
</pre>
<p>After this it politely suggested a reboot, so I did.</p>
<h2>5. Break All Security</h2>
<p>This next bit felt so wrong. The standard Vagrant base box has a pretty funky security model in order to make it convenient as a testing environment. The guidelines stipulate passwordless sudo privileges, which entails installing sudo and then immediately breaking off the locks.</p>
<pre class="">apt-get install sudo sudo
visudo
</pre>
<p>The line I added to /etc/sudoers was %admin ALL=NOPASSWD: ALL, or in English, &quot;Everyone in the group called 'admin' can do anything they want to this box&quot;. After that, I ran /etc/init.d/sudo restart to make it so.</p>
<h2>6. Hand over the keys</h2>
<p>The standard vagrant username is 'vagrant', with password 'vagrant'. I set this user account up during Debian installation, but there was more to it than that. The user must be added to the admin group.</p>
<pre class="">groupadd admin
usermod -G admin vagrant
</pre>
<p>For good measure, I also decided to disable root login with passwd -l root.</p>
<h2>7. Enable SSH access</h2>
<p>In order to be able to access the vm with vagrant ssh, the guidelines recommend using their standard <a href="http://github.com/mitchellh/vagrant/tree/master/keys/">insecure SSH key pair</a> which vagrant will use by default when connecting.</p>
<pre class="">sudo apt-get install openssh-server
wget https://raw.github.com/mitchellh/vagrant/master/keys/vagrant.pub
mkdir /home/vagrant/.ssh
chmod 644 vagrant.pub
mv vagrant.pub /home/vagrant/.ssh/authorized_keys
</pre>
<p>The line <code>AuthorizedKeysFile %h/.ssh/authorized_keys</code> was added to <code>/etc/ssh/sshd_config</code> to allow passwordless SSH access to take effect after a quick <code>/etc/init.d/ssh</code> restart.</p>
<h2>8. Export box</h2>
<p>With everything configured correctly, the next step was to turn off the VM and export it.</p>
<pre class="">vagrant package --base debiansqueeze squeeze32.box
</pre>
<p>The name debiansqueeze there is what I named the VM itself in VirtualBox.</p>
<h2>That's It</h2>
<p>After that the box was ready to roll. Just gotta add it to Vagrant.</p>
<pre class="">vagrant box add squeeze32 ~/squeeze32.box
</pre>
<p>From here on out it's plain old Vagrant usage. Hopefully all this effort will pay off in the long run when I can sit back and push systems changes to production with a beer in my hand.</p>
]]></description>

    </item>
    <item>
      <title>switch (true)</title>
      <link>https://henry.catalinismith.com/2012/03/17/switch-true/</link>
      <guid>https://henry.catalinismith.com/2012/03/17/switch-true/</guid>
      <pubDate>Sat, 17 Mar 2012 24:00:00 GMT</pubDate>
      <description><![CDATA[<p>A while ago I learned a quirky little programming trick which has occasionally come in handy. It's something I picked up from some random blog post about 'cool programming tricks' that I can no longer find. It involves the <code>switch</code> statement, which is fairly universal in programming languages and normally looks like this:</p>
<pre class="">switch (name) {
 case 'henry':
  tabWidth = 8
  tabMode  = 'tabs'
  break;
 default:
  tabWidth = 4
  tabMode  = 'spaces'
  break;
}
</pre>
<p>It's generally used to compare one variable, given in parentheses after the <code>switch</code> keyword, against a series of possible matches given in a list of <code>case</code> statements. The alternative usage of it that I've been very occasionally employing looks like this:</p>
<pre class="">switch (true) {
 case name.length >= 20:
 case name.match(/\d{3}):
 case name.indexOf('test'):
 case name === 'special_case':
  do_this();
  break;

 default:
  do_that();
  break;
}
</pre>
<h2>The Good</h2>
<p>It looks a little confusing at first glance, but once you understand it, it's actually a means of improving readability. If you need a piece of code to test a very long list of conditions and then do one thing if they all pass or if one of them fails, then a <code>switch (true)</code> or <code>switch (false)</code> can do that for you without having to write one of those really unsightly over-long <code>if</code> statements that wrap across several lines.</p>
<p>It works in exactly the same way as <code>if (x || y || z)</code>, in that once one of the cases matches, execution hops past the other conditions and your actual code starts executing. Consider that <a href="http://framework.zend.com/manual/en/coding-standard.coding-style.html#coding-standard.coding-style.control-statements.if-else-elseif">the normal alternative</a> to my above example would look like this:</p>
<pre class="">if (name.length >= 20
 || name.match(/\d{3}/)
 || name.indexOf('test')
 || name === 'special_case'
) {
 do_this();
} else {
 do_that();
}
</pre>
<p>I think that the <code>switch (true)</code> pattern can be a very elegant-looking way of handling large sets of conditions. It kind of forces the statement into either <a href="http://en.wikipedia.org/wiki/Disjunctive_normal_form">disjunctive normal form</a> or <a href="http://en.wikipedia.org/wiki/Conjunctive_normal_form">conjunctive normal form</a> depending on whether you use <code>switch (true)</code> or <code>switch (false)</code>. The <code>case</code> keyword is an absolute barrier to operator precedence, so your list of cases is guaranteed to be either a conjunction or disjunction, and no amount of parentheses can overcome this simplification. For example, take this slight variation on the above code snippet:</p>
<pre class="">if (name.length >= 20
 || (name.match(/\d{3}/)
 && name.indexOf('test'))
 || name === 'special_case')
)
</pre>
<p>Using a <code>switch (true)</code> statement, it would look like much clearer:</p>
<pre class="">switch (true) {
 case name.length >= 20:
 case name.match(/\d{3}/) && name.indexOf('test'):
 case name === 'special_case':
}
</pre>
<h2>The Bad</h2>
<p>For someone who isn't familiar with the trick, however, seeing it for the first time in some code they have to maintain, it probably looks quite quirky and maybe even a little daunting to change.</p>
<p>It's also technically a little bit of an abuse of the language constructs. The <code>if</code> statement is what you're <em>supposed</em> to use for doing something <em>if</em> something else. That's why it's called &quot;if&quot;. In some parallel universe I can imagine myself quietly wondering about the motivations of some colleague who insisted on using a trick like this.</p>
<p>I wish I had some conclusive point to make at the end of all this, but if anything it's that &quot;good code&quot; is not always clear cut. One of the guiding principles that I try my best to stick to when coding is to <strong>avoid writing quirky code</strong>. I hate quirky code, where somebody has developed their own esoteric style in defiance of prevailing standards and refused to conform. Code style is not about freedom of artistic expression any more than your pronunciation is. Code has two functions:</p>
<ul>
<li>Tell a computer what to do and how</li>
<li>Tell a human what the computer is doing and why</li>
</ul>
<p>I don't know which order those two belong in, so I've used an unordered list. I'm someone who puts a lot of importance on the second one, probably more so than most developers because of my previous background in human languages. With a foreign language the aim is to sound like an authentic native speaker, and people who flat-out refuse to attempt part of the native accent, such as the rolled Spanish 'r', often don't realise that this shyness actually draws more attention to their accent than if they actually gave it a go.</p>
<p>The thing about programming is that each language that you learn comes in two parts, just like with human languages. All programmers learn the first part: the grammar and vocabulary. It's really easy to forget about the second part, though: learning how to imitate the way <a href="http://www.kernel.org/doc/Documentation/CodingStyle">native speakers</a> turn that <a href="http://framework.zend.com/manual/en/coding-standard.html">framework</a> of <a href="http://nodeguide.com/style.html">rules</a> into actual communication.</p>
<p>This is the main thing that puts me off the <code>switch (true)</code> pattern. It feels like using a really uncommon word or phrase just because technically it captures a meaning well, forgetting that the whole point of a word is to be instantly understandable by others. It may be kind of elegant semantically, but it kind of makes you sound like a beginner language learner directly translating an idiomatic phrase from their own native language.</p>
<h2>Damnit</h2>
<p>On reflection, I think I'm more against this pattern than for it. It's a shame, because I'm convinced that it's a good fit for a certain small set of programming problems. Consider this post, then, a public apology for writing weird, quirky code and violating the sacred <a href="http://en.wikipedia.org/wiki/Principle_of_least_astonishment">principle of least astonishment</a> . It's certainly not my only offense by a long shot.</p>
]]></description>

    </item>
    <item>
      <title>Planarity</title>
      <link>https://henry.catalinismith.com/2010/05/11/planarity/</link>
      <guid>https://henry.catalinismith.com/2010/05/11/planarity/</guid>
      <pubDate>Tue, 11 May 2010 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2010/05/11/planarity.png" alt="Desktop app screenshot showing a green dot and four red dots and a bunch of black lines connecting them all." /><p>My dissertation project at university was to implement this 2D Java puzzle game called <a href="https://en.wikipedia.org/wiki/Planarity">Planarity</a> where you win by dragging the dots around until none of the lines connecting them cross. Here's 100 lines of university student Java for your enjoyment.</p>
<pre class="java">package planarity.graphGeneration;
import java.awt.geom.Line2D;
import java.awt.geom.Point2D;
import java.util.Random;
import java.util.Vector;
import planarity.graph.*;

/**
* This class implements the Edge Addition Graph Generation algorithm
* described in the Design section
*
* @author Henry
*/
public class EdgeAdditionGraphGenerator implements GraphGenerator {
  private Graph graph;
  private Vertex[] V;
  private Vector Vprime;
  private Edge[] E;

  public Graph generateGraph(int n) {
    graph = new Graph();
    V = new Vertex[n];
    Vprime = new Vector();
    //System.out.println("start");
    for (int i = 0; i < n; i++) {
      V[i] = new Vertex(graph, 10, 10);
      graph.addVertex(V[i]);
    }
    graph.arrangeAsCircle();
    //System.out.println("here");
    connectTwoRandomVertices();
    for (int x = 0; graph.countEdges() < ((3 * n) – 6) && x < 1000; x++) {
      Vertex p = getRandomVprimeVertex();
      for (int i = 0; i < V.length; i++) {
        Vertex q = V[i];
        if (p.equals(q)) {
          continue;
        }
        if (p.isAdjacentTo(q)) {
          continue;
        }
        graph.addEdge(p, q);
        if (graph.countEdgeIntersections() > 0) {
          graph.removeEdge(p, q);
        } else {
          if (!Vprime.contains(i)) {
            Vprime.add(i);
          }
        }
        break;
      }
    }
    Vertex[] v = graph.getVertices();
    for (int i = 0; i < v.length; i++) {
      if (v[i].getAdjacentEdges().length == 0) {
        graph.removeVertex(v[i]);
      }
    }
    return graph;
  }

  private void connectTwoRandomVertices() {
    Random r = new Random();
    int a, b;
    a = r.nextInt(V.length);
    do {
      // System.out.println("323");
      b = r.nextInt(V.length);
    } while (a == b);
    graph.addEdge(V[a], V[b]);
    Vprime.add(a);
    Vprime.add(b);
  }

  private Vertex getRandomVprimeVertex() {
    Random r = new Random();
    int num = Integer.parseInt(Vprime.elementAt(r.nextInt(Vprime.size())).toString());
    return V[num];
  }

  private boolean canConnect(Vertex p, Vertex q) {
    Edge[] edges = graph.getEdges();
    Line2D pq = new Line2D.Double();
    pq.setLine(p.getCenterX(), p.getCenterY(), q.getCenterX(),
    q.getCenterY());
    for (int i = 0; i < edges.length; i++) {
      Line2D e = (Line2D) edges[i];
      if (!pq.intersectsLine(e)) {
        continue;
      }
      Point2D p1, p2, p3, p4;
      p1 = pq.getP1();
      p2 = pq.getP2();
      p3 = pq.getP1();
      p4 = pq.getP2();
      if (p1.distance(p3) == 0) continue;
      if (p1.distance(p4) == 0) continue;
      if (p2.distance(p3) == 0) continue;
      if (p2.distance(p4) == 0) continue;
      return false;
    }
    return true;
  }
}
</pre>
]]></description>

    </item>
    <item>
      <title>Alpine Storage</title>
      <link>https://henry.catalinismith.com/2009/08/11/alpine-storage/</link>
      <guid>https://henry.catalinismith.com/2009/08/11/alpine-storage/</guid>
      <pubDate>Tue, 11 Aug 2009 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2009/08/11/alpine@800x600.jpg" alt="" /><p>Alpine's website was the first thing I ever got paid to make on the computer. I even did the photography myself, in between unloading containers and filing paperwork. I still have an <a href="https://henry.catalinismith.com/alpinestorage.co.uk/">archived version of the site</a> on here.</p>
]]></description>

    </item>
    <item>
      <title>University Group Project</title>
      <link>https://henry.catalinismith.com/2009/03/16/university-group-project/</link>
      <guid>https://henry.catalinismith.com/2009/03/16/university-group-project/</guid>
      <pubDate>Mon, 16 Mar 2009 24:00:00 GMT</pubDate>
      <description><![CDATA[<img src="https://henry.catalinismith.com/2009/03/16/university-group-project.png" alt="Safari screenshot showing a webpage loaded on localhost with a placeholder avatar for a Dr. Ravi on the left and a list of appointments for Thursday 12th March on the right. The patients are all named after pro skaters such as Tony Hawk and Danny Way, and the illnesses are Theme Hospital illnesses such as bloaty head and invisibility." /><p>A bunch of us built a medical appointment scheduling app together at university. It's some of the oldest code I wrote that I still have a copy of. For nostalgia's sake, here's the contents of <code>doctor.php</code> as seen in the address bar above.</p>
<pre class="php">//include 'includes/common.php';

$doctorID = $user->getDoctorID();

$date     = isset($_GET['date']) ? $_GET['date'] : DEBUG_DATE;

$res1 = $dbs->query(
	'SELECT
		Users.lastName
	FROM
		Doctors,
		Users
	WHERE
		Doctors.userID = Users.userID
		AND Doctors.doctorID = %d',
	$doctorID
);

$row = $res1->getNextRow();
$doctorName = $row['lastName'];
$page->addData('doctorName', $doctorName);

$res2 = $dbs->query(
	'SELECT
		Appointments.appointmentID,
		Appointments.appointmentType,
		Appointments.appointmentDate,
		Users.firstName,
		Users.lastName
	FROM
		Doctors,
		Appointments,
		Patients,
		Users
	WHERE
		Doctors.doctorID = Appointments.doctorID
		AND Appointments.patientID = Patients.patientID
		AND Patients.userID = Users.userID
		AND Doctors.doctorID = %d
		AND appointmentDate LIKE \'%s%%\'
	ORDER BY
		Appointments.appointmentDate
		ASC',
	$doctorID,
	$date
);



$apps = array();
while ($res2->hasNextRow()) {
	$row = $res2->getNextRow();

	$time  = substr($row['appointmentDate'], 11, 5);
	$name  = $row['firstName'] .' '. $row['lastName'];
	$appID = $row['appointmentID'];
	$type  = $row['appointmentType'];

	$apps[$time] = array(
		'id'   => $appID,
		'name' => $name,
		'type' => $type,
	);
}

$tstamp = datetimeToTimestamp($date);

$page->addData('doctorID', $doctorID);
$page->addData('hours', array('09', '10', '11', '12', '13'));
$page->addData('minutes', array('00', '15', '30', '45'));

$page->addData('viewDate', date(NICE_DATE_FORMAT, $tstamp));
$page->addData('tomorrow', date('Y-m-d', $tstamp + (60 * 60 * 24)));
$page->addData('yesterday', date('Y-m-d', $tstamp - (60 * 60 * 24)));

$page->addData('appointments', $apps);
</pre>
]]></description>

    </item>

  </channel>
</rss>

