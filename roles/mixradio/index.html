<!doctype html>
<html lang="en" class="h-full antialiased light">
 <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="webmention" href="https://webmention.io/henry.catalinismith.com/webmention">
  <title>Software Engineer @ MixRadio – Henry Catalini Smith</title>
  <meta name="description" content="MixRadio was a music streaming service that I joined shortly after its sale by Microsoft. This was a business with a short cash runway and a long to-do list, so my focus in this role was on speed &#x26; execution.
">
  <meta name="og:description" content="MixRadio was a music streaming service that I joined shortly after its sale by Microsoft. This was a business with a short cash runway and a long to-do list, so my focus in this role was on speed &#x26; execution.
">
  <meta name="og:title" content="Software Engineer @ MixRadio – Henry Catalini Smith">
  <link rel="alternate" type="application/rss+xml" href="https://henry.catalinismith.com/feed.xml">
  <link rel="canonical" href="https://henry.catalinismith.com/roles/mixradio/">
  <link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="stylesheet" href="/styles/tailwind.css">
 </head>
 <body class="flex h-full bg-zinc-50 dark:bg-black">
  <div class="flex w-full">
   <div class="fixed inset-0 flex justify-center sm:px-8">
    <div class="flex w-full max-w-7xl lg:px-8">
     <div class="w-full bg-white ring-1 ring-zinc-100 dark:bg-zinc-900 dark:ring-zinc-300/20"></div>
    </div>
   </div>
   <div class="relative flex w-full flex-col">
    <header class="pointer-events-none relative z-50 flex flex-none flex-col" style="height:var(--header-height);margin-bottom:var(--header-mb)">
     <div class="top-0 z-10 h-16 pt-6" style="position:var(--header-position)">
      <div class="sm:px-8 top-[var(--header-top,theme(spacing.6))] w-full" style="position:var(--header-inner-position)">
       <div class="mx-auto w-full max-w-7xl lg:px-8">
        <div class="relative px-4 sm:px-8 lg:px-12">
         <div class="mx-auto max-w-2xl lg:max-w-5xl">
          <div class="relative flex gap-4">
           <div class="flex flex-1">
            <div class="h-10 w-10 rounded-full bg-white/90 p-0.5 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:ring-white/10"><a aria-label="Home" class="pointer-events-auto" href="/"><img alt="" fetchpriority="high" width="374" height="374" decoding="async" data-nimg="1" class="rounded-full bg-zinc-100 object-cover dark:bg-zinc-800 h-9 w-9" sizes="2.25rem" src="/2023/02/25/malmo-live-2@128x128.jpg" style="color: transparent;"></a></div>
           </div>
           <div class="flex flex-1 justify-end md:justify-center">
            <div class="pointer-events-auto md:hidden"><button class="group flex items-center rounded-full bg-white/90 px-4 py-2 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:text-zinc-200 dark:ring-white/10 dark:hover:ring-white/20" type="button" aria-expanded="false">Menu
<svg viewBox="0 0 8 6" aria-hidden="true" class="ml-3 h-auto w-2 stroke-zinc-500 group-hover:stroke-zinc-700 dark:group-hover:stroke-zinc-400">
               <path d="M1.75 1.75 4 4.25l2.25-2.5" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
              </svg></button>
             <dialog>
              <div class="fixed inset-0 z-50 bg-zinc-800/40 backdrop-blur-sm dark:bg-black/80" aria-hidden="true"></div>
              <div class="fixed inset-x-4 top-8 z-50 origin-top rounded-3xl bg-white p-8 ring-1 ring-zinc-900/5 dark:bg-zinc-900 dark:ring-zinc-800" tabindex="-1">
               <div class="flex flex-row-reverse items-center justify-between"><button aria-label="Close menu" class="-m-1 p-1" type="button"><svg viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6 text-zinc-500 dark:text-zinc-300">
                  <path d="m17.25 6.75-10.5 10.5M6.75 6.75l10.5 10.5" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                 </svg></button>
                <h2 class="text-sm font-medium text-zinc-600 dark:text-zinc-300">Navigation</h2>
               </div>
               <nav class="mt-6">
                <ul class="-my-2 divide-y divide-zinc-100 text-base text-zinc-800 dark:divide-zinc-100/5 dark:text-zinc-300">
                 <li><a class="block py-2" href="/about">About</a></li>
                 <li><a class="block py-2" href="https://henry.catalinismith.se/">Writing</a></li>
                 <li><a class="block py-2" href="/projects">Projects</a></li>
                 <li><a class="block py-2" href="/gallery">Gallery</a></li>
                 <li><a class="block py-2" href="/speaking">Speaking</a></li>
                </ul>
               </nav>
              </div>
             </dialog>
            </div>
            <script>
                          document.addEventListener("DOMContentLoaded", () => {
                            const menuButton = document.querySelector("button[aria-expanded]");
                            const closeButton = document.querySelector("button[aria-label='Close menu']");
                            const dialog = document.querySelector("dialog");
                            let listener

                            function openMenu() {
                              menuButton.ariaExpanded = "true";
                              dialog.showModal();
                              listener = document.addEventListener("keypress", (event) =>
                                event.key === "Escape" && closeMenu()
                              );
                            }

                            function closeMenu() {
                              menuButton.ariaExpanded = "false";
                              dialog.close();
                              document.removeEventListener("keypress", listener);
                            }

                            menuButton.addEventListener("click", () => openMenu())
                            closeButton.addEventListener("click", () => closeMenu())
                          })
                        </script>
            <div style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></div>
            <nav class="pointer-events-auto hidden md:block">
             <ul class="flex rounded-full bg-white/90 px-3 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:text-zinc-200 dark:ring-white/10">
              <li><a class="relative block px-3 py-2 transition hover:text-sky-300 hover:underline" href="/about/">About</a></li>
              <li><a class="relative block px-3 py-2 transition hover:text-sky-300 hover:underline" href="/writing/">Writing</a></li>
              <li><a class="relative block px-3 py-2 transition hover:text-sky-300 hover:underline" href="/projects/">Projects</a></li>
              <li><a class="relative block px-3 py-2 transition hover:text-sky-300 hover:underline" href="/gallery/">Gallery</a></li>
              <li><a class="relative block px-3 py-2 transition hover:text-sky-300 hover:underline" href="/speaking/">Speaking</a></li>
             </ul>
            </nav>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
    </header>
    <main class="flex-auto">
     <div class="sm:px-8 mt-16 sm:mt-32">
      <div class="mx-auto w-full max-w-7xl lg:px-8">
       <div class="relative px-4 sm:px-8 lg:px-12">
        <div class="mx-auto max-w-2xl lg:max-w-5xl">
         <div class="role grid grid-cols-1 gap-y-4 lg:grid-cols-2 lg:gap-y-8">
          <div class="role-head flex flex-col gap-y-8">
           <header class="flex flex-col">
            <h1 class="flex flex-col mt-6 tracking-tight text-zinc-800 dark:text-zinc-100"><span class="font-bold text-3xl sm:text-4xl">Software Engineer
</span><span class="text-2xl sm:text-2xl text-zinc-600">MixRadio</span></h1>
           </header>
          </div>
          <div class="role-image lg:pl-20">
           <div class="lg:max-w-none">
            <img src="/2015/05/11/mixradio@512x512.png" alt="" class="w-full object-cover">
           </div>
          </div>
          <div class="role-meta lg:pl-20">
           <dl class="divide-y divide-gray-100">
            <div class="lg:px-4 py-4">
             <dt class="text-sm font-medium leading-6 text-gray-900">Duration</dt>
             <dd class="mt-1 text-sm leading-6 text-gray-700">
              <time datetime="2015-05-11">May 2015
</time>–
              <time datetime="2016-04-15">April 2016</time>
             </dd>
            </div>
            <div class="lg:px-4 py-4">
             <dt class="text-sm font-medium leading-6 text-gray-900">Previous role</dt>
             <dd class="mt-1 text-sm leading-6 text-gray-700"><a href="/roles/basekit/" class="text-sky-600 dark:text-sky-500 underline overflow-hidden whitespace-nowrap text-ellipsis block">Software Engineer @ BaseKit</a></dd>
            </div>
            <div class="lg:px-4 py-4">
             <dt class="text-sm font-medium leading-6 text-gray-900">Following role</dt>
             <dd class="mt-1 text-sm leading-6 text-gray-700"><a href="/roles/spotify-xpx/" class="text-sky-600 dark:text-sky-500 underline overflow-hidden whitespace-nowrap text-ellipsis block">Software Engineer @ Spotify</a></dd>
            </div>
            <div class="lg:px-4 py-4">
             <dt class="text-sm font-medium leading-6 text-gray-900">Technologies</dt>
             <dd class="mt-1 text-sm leading-6 text-gray-700">
              <ul>
               <li class="inline after:content-[&#x27;,&#x27;] last:after:content-none">HTML</li>
               <li class="inline after:content-[&#x27;,&#x27;] last:after:content-none">CSS</li>
               <li class="inline after:content-[&#x27;,&#x27;] last:after:content-none">JavaScript</li>
               <li class="inline after:content-[&#x27;,&#x27;] last:after:content-none">React</li>
               <li class="inline after:content-[&#x27;,&#x27;] last:after:content-none">Sass</li>
               <li class="inline after:content-[&#x27;,&#x27;] last:after:content-none">Cucumber</li>
              </ul>
             </dd>
            </div>
            <div class="lg:px-4 py-4">
             <dt class="text-sm font-medium leading-6 text-gray-900">Practices</dt>
             <dd class="mt-1 text-sm leading-6 text-gray-700">
              <ul>
               <li class="inline after:content-[&#x27;,&#x27;] last:after:content-none">Behavior-driven development</li>
               <li class="inline after:content-[&#x27;,&#x27;] last:after:content-none">test-driven development</li>
               <li class="inline after:content-[&#x27;,&#x27;] last:after:content-none">pair Programming</li>
              </ul>
             </dd>
            </div>
           </dl>
          </div>
          <div class="role-body text-base text-zinc-600 dark:text-zinc-300 prose">
           <p>MixRadio was a music streaming service that I joined shortly after its sale by Microsoft. This was a business with a short cash runway and a long to-do list, so my focus in this role was on speed &#x26; execution.</p>
           <nav class="page-outline not-prose">
            <ol class="flex flex-col gap-y-1 list-decimal ml-8 flex flex-col gap-y-1 list-decimal ml-8-1">
             <li><a class="text-sky-600 underline text-sky-600 underline-h2" href="#automated-acceptance-tests">Automated Acceptance Tests</a></li>
             <li><a class="text-sky-600 underline text-sky-600 underline-h2" href="#deployment-automation--chat-ops">Deployment Automation &#x26; Chat Ops</a></li>
             <li><a class="text-sky-600 underline text-sky-600 underline-h2" href="#playlists">Playlists</a></li>
             <li><a class="text-sky-600 underline text-sky-600 underline-h2" href="#digital-rights-management">Digital Rights Management</a></li>
            </ol>
           </nav>
           <h2 id="automated-acceptance-tests">Automated Acceptance Tests</h2>
           <p>The standard process for any new feature in the MixRadio web team including adding automated acceptance tests. This was an expensive commitment in terms of engineering time. In particular, we were plagued by so-called "flaky" tests, where outcomes varied from one execution to the next. The level of buy-in for this methodology within the team was very high, so a compromise was needed to avoid losing too much time to this problem.</p>
           <p>Extreme schedule pressure meant there wasn't time to stop and fix the underling race conditions making our tests flaky, so I created a nightly "flaky build" within which to quarantine the most troublesome tests. This allowed us to satisfy the team's desire for very high test coverage without sacrificing our everyday momentum to the reliability issues that came with having so many of these tests.</p>
           <h2 id="deployment-automation--chat-ops">Deployment Automation &#x26; Chat Ops</h2>
           <p>The production deployment process at MixRadio had been automated into two Jenkins jobs: one to produce a build of the app, and another to deploy that build to production. So although the engineering cost of the automation had been paid in full, the everyday efficiency benefits had not yet been harvested, because engineers still had to wait for the first job to complete and then manually copypaste an ID over to invoke the second job. Having engineers sitting and waiting to manually complete the deployment process like this was not ideal given the schedule pressure of the cash runway.</p>
           <p>Noticing how much time we wasted on this boring non-work, I created a Slack bot called "Leeroy Jenkins" whose purpose was to abstract away this process behind a Slack command. This enabled engineers to trigger production deploys in a single step. Moving the deploy process from Jenkins to Slack also had the unexpected benefit of improving transparency around deploys: it meant that every deploy was also a deploy announcement, thus avoiding issues such as accidental simultaneous deploys.</p>
           <h2 id="playlists">Playlists</h2>
           <p>Implementing the front end for playlist functionality is more complex than for albums. Users can create playlists with duplicate tracks, for example, and you need a data model precise enough to know which one to label as "Now Playing" in the track list. Users can drag the currently playing track to a new position in the playlist, and you need to meet their expectations about how this will affect playback.</p>
           <p>These were the types of problems I was working on on the day of the insolvency announcement.</p>
           <h2 id="digital-rights-management">Digital Rights Management</h2>
           <p>Record labels don't let you run a music streaming service if you expose their catalogue to unauthorised copying by commonplace stream capture browser extensions. As part of our efforts to meet this business-critical compliance requirement, I audited the code for some of these tools.</p>
           <p>In some cases this code had been deliberately obfuscated as a defense mechanism against people like me performing that kind of audit. Deciphering this code was a difficult process. I printed a lot of it out and went over it repeatedly with a red pen to trace the relationships between its parts.</p>
           <figure>
            <img alt="Two printed A4 sheets of paper stapled together with source code on them and red pen markings." src="/2015/07/29/downloadhelper-source@512x512.png">
            <figcaption></figcaption>
           </figure>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
    </main>
    <footer class="mt-32 flex-none">
     <div class="sm:px-8">
      <div class="mx-auto w-full max-w-7xl lg:px-8">
       <div class="border-t border-zinc-100 pb-16 pt-10 dark:border-zinc-700/40">
        <div class="relative px-4 sm:px-8 lg:px-12">
         <div class="mx-auto max-w-2xl lg:max-w-5xl">
          <div class="flex flex-col items-center justify-between gap-6 sm:flex-row">
           <div class="flex flex-wrap justify-center gap-x-6 gap-y-1 text-sm font-medium text-zinc-800 dark:text-zinc-200"><a class="transition hover:text-sky-500 dark:hover:text-sky-400" href="/about">About
</a><a class="transition hover:text-sky-500 dark:hover:text-sky-400" href="/projects">Projects
</a><a class="transition hover:text-sky-500 dark:hover:text-sky-400" href="/speaking">Speaking</a></div>
           <p class="text-sm text-zinc-500 dark:text-zinc-400">
            ©
            <!-- -->2024<!-- -->
            Henry Catalini Smith. All rights reserved.
           </p>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
    </footer>
   </div>
  </div>
 </body>
</html>
